(function(window,undefined){function isArraylike(obj){var length=obj.length,type=jQuery.type(obj);return jQuery.isWindow(obj)?!1:1===obj.nodeType&&length?!0:"array"===type||"function"!==type&&(0===length||"number"==typeof length&&length>0&&length-1 in obj)}function createOptions(options){var object=optionsCache[options]={};return jQuery.each(options.match(core_rnotwhite)||[],function(_,flag){object[flag]=!0}),object}function Data(){this.cache={},this.expando=jQuery.expando+Math.random()}function data_discard(owner){data_user.discard(owner),data_priv.discard(owner)}function dataAttr(elem,key,data){var name;if(data===undefined&&1===elem.nodeType)if(name="data-"+key.replace(rmultiDash,"-$1").toLowerCase(),data=elem.getAttribute(name),"string"==typeof data){try{data="true"===data?!0:"false"===data?!1:"null"===data?null:+data+""===data?+data:rbrace.test(data)?JSON.parse(data):data}catch(e){}data_user.set(elem,key,data)}else data=undefined;return data}function returnTrue(){return!0}function returnFalse(){return!1}function sibling(cur,dir){for(;(cur=cur[dir])&&1!==cur.nodeType;);return cur}function winnow(elements,qualifier,not){if(jQuery.isFunction(qualifier))return jQuery.grep(elements,function(elem,i){return!!qualifier.call(elem,i,elem)!==not});if(qualifier.nodeType)return jQuery.grep(elements,function(elem){return elem===qualifier!==not});if("string"==typeof qualifier){if(isSimple.test(qualifier))return jQuery.filter(qualifier,elements,not);qualifier=jQuery.filter(qualifier,elements)}return jQuery.grep(elements,function(elem){return core_indexOf.call(qualifier,elem)>=0!==not})}function findOrAppend(elem,tag){return elem.getElementsByTagName(tag)[0]||elem.appendChild(elem.ownerDocument.createElement(tag))}function disableScript(elem){var attr=elem.getAttributeNode("type");return elem.type=(attr&&attr.specified)+"/"+elem.type,elem}function restoreScript(elem){var match=rscriptTypeMasked.exec(elem.type);return match?elem.type=match[1]:elem.removeAttribute("type"),elem}function setGlobalEval(elems,refElements){for(var l=elems.length,i=0;l>i;i++)data_priv.set(elems[i],"globalEval",!refElements||data_priv.get(refElements[i],"globalEval"))}function cloneCopyEvent(src,dest){var i,l,type,pdataOld,pdataCur,udataOld,udataCur,events;if(1===dest.nodeType){if(data_priv.hasData(src)&&(pdataOld=data_priv.access(src),pdataCur=jQuery.extend({},pdataOld),events=pdataOld.events,data_priv.set(dest,pdataCur),events)){delete pdataCur.handle,pdataCur.events={};for(type in events)for(i=0,l=events[type].length;l>i;i++)jQuery.event.add(dest,type,events[type][i])}data_user.hasData(src)&&(udataOld=data_user.access(src),udataCur=jQuery.extend({},udataOld),data_user.set(dest,udataCur))}}function getAll(context,tag){var ret=context.getElementsByTagName?context.getElementsByTagName(tag||"*"):context.querySelectorAll?context.querySelectorAll(tag||"*"):[];return tag===undefined||tag&&jQuery.nodeName(context,tag)?jQuery.merge([context],ret):ret}function fixInput(src,dest){var nodeName=dest.nodeName.toLowerCase();"input"===nodeName&&manipulation_rcheckableType.test(src.type)?dest.checked=src.checked:("input"===nodeName||"textarea"===nodeName)&&(dest.defaultValue=src.defaultValue)}function vendorPropName(style,name){if(name in style)return name;for(var capName=name.charAt(0).toUpperCase()+name.slice(1),origName=name,i=cssPrefixes.length;i--;)if(name=cssPrefixes[i]+capName,name in style)return name;return origName}function isHidden(elem,el){return elem=el||elem,"none"===jQuery.css(elem,"display")||!jQuery.contains(elem.ownerDocument,elem)}function getStyles(elem){return window.getComputedStyle(elem,null)}function showHide(elements,show){for(var display,elem,hidden,values=[],index=0,length=elements.length;length>index;index++)elem=elements[index],elem.style&&(values[index]=jQuery._data(elem,"olddisplay"),display=elem.style.display,show?(values[index]||"none"!==display||(elem.style.display=""),""===elem.style.display&&isHidden(elem)&&(values[index]=jQuery._data(elem,"olddisplay",css_defaultDisplay(elem.nodeName)))):values[index]||(hidden=isHidden(elem),(display&&"none"!==display||!hidden)&&jQuery._data(elem,"olddisplay",hidden?display:jQuery.css(elem,"display"))));for(index=0;length>index;index++)elem=elements[index],elem.style&&(show&&"none"!==elem.style.display&&""!==elem.style.display||(elem.style.display=show?values[index]||"":"none"));return elements}function setPositiveNumber(elem,value,subtract){var matches=rnumsplit.exec(value);return matches?Math.max(0,matches[1]-(subtract||0))+(matches[2]||"px"):value}function augmentWidthOrHeight(elem,name,extra,isBorderBox,styles){for(var i=extra===(isBorderBox?"border":"content")?4:"width"===name?1:0,val=0;4>i;i+=2)"margin"===extra&&(val+=jQuery.css(elem,extra+cssExpand[i],!0,styles)),isBorderBox?("content"===extra&&(val-=jQuery.css(elem,"padding"+cssExpand[i],!0,styles)),"margin"!==extra&&(val-=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles))):(val+=jQuery.css(elem,"padding"+cssExpand[i],!0,styles),"padding"!==extra&&(val+=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles)));return val}function getWidthOrHeight(elem,name,extra){var valueIsBorderBox=!0,val="width"===name?elem.offsetWidth:elem.offsetHeight,styles=getStyles(elem),isBorderBox=jQuery.support.boxSizing&&"border-box"===jQuery.css(elem,"boxSizing",!1,styles);if(0>=val||null==val){if(val=curCSS(elem,name,styles),(0>val||null==val)&&(val=elem.style[name]),rnumnonpx.test(val))return val;valueIsBorderBox=isBorderBox&&(jQuery.support.boxSizingReliable||val===elem.style[name]),val=parseFloat(val)||0}return val+augmentWidthOrHeight(elem,name,extra||(isBorderBox?"border":"content"),valueIsBorderBox,styles)+"px"}function css_defaultDisplay(nodeName){var doc=document,display=elemdisplay[nodeName];return display||(display=actualDisplay(nodeName,doc),"none"!==display&&display||(iframe=(iframe||jQuery("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(doc.documentElement),doc=(iframe[0].contentWindow||iframe[0].contentDocument).document,doc.write("<!doctype html><html><body>"),doc.close(),display=actualDisplay(nodeName,doc),iframe.detach()),elemdisplay[nodeName]=display),display}function actualDisplay(name,doc){var elem=jQuery(doc.createElement(name)).appendTo(doc.body),display=jQuery.css(elem[0],"display");return elem.remove(),display}function buildParams(prefix,obj,traditional,add){var name;if(jQuery.isArray(obj))jQuery.each(obj,function(i,v){traditional||rbracket.test(prefix)?add(prefix,v):buildParams(prefix+"["+("object"==typeof v?i:"")+"]",v,traditional,add)});else if(traditional||"object"!==jQuery.type(obj))add(prefix,obj);else for(name in obj)buildParams(prefix+"["+name+"]",obj[name],traditional,add)}function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){"string"!=typeof dataTypeExpression&&(func=dataTypeExpression,dataTypeExpression="*");var dataType,i=0,dataTypes=dataTypeExpression.toLowerCase().match(core_rnotwhite)||[];if(jQuery.isFunction(func))for(;dataType=dataTypes[i++];)"+"===dataType[0]?(dataType=dataType.slice(1)||"*",(structure[dataType]=structure[dataType]||[]).unshift(func)):(structure[dataType]=structure[dataType]||[]).push(func)}}function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR){function inspect(dataType){var selected;return inspected[dataType]=!0,jQuery.each(structure[dataType]||[],function(_,prefilterOrFactory){var dataTypeOrTransport=prefilterOrFactory(options,originalOptions,jqXHR);return"string"!=typeof dataTypeOrTransport||seekingTransport||inspected[dataTypeOrTransport]?seekingTransport?!(selected=dataTypeOrTransport):undefined:(options.dataTypes.unshift(dataTypeOrTransport),inspect(dataTypeOrTransport),!1)}),selected}var inspected={},seekingTransport=structure===transports;return inspect(options.dataTypes[0])||!inspected["*"]&&inspect("*")}function ajaxExtend(target,src){var key,deep,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src)src[key]!==undefined&&((flatOptions[key]?target:deep||(deep={}))[key]=src[key]);return deep&&jQuery.extend(!0,target,deep),target}function ajaxHandleResponses(s,jqXHR,responses){for(var ct,type,finalDataType,firstDataType,contents=s.contents,dataTypes=s.dataTypes;"*"===dataTypes[0];)dataTypes.shift(),ct===undefined&&(ct=s.mimeType||jqXHR.getResponseHeader("Content-Type"));if(ct)for(type in contents)if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break}if(dataTypes[0]in responses)finalDataType=dataTypes[0];else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break}firstDataType||(firstDataType=type)}finalDataType=finalDataType||firstDataType}return finalDataType?(finalDataType!==dataTypes[0]&&dataTypes.unshift(finalDataType),responses[finalDataType]):undefined}function ajaxConvert(s,response,jqXHR,isSuccess){var conv2,current,conv,tmp,prev,converters={},dataTypes=s.dataTypes.slice();if(dataTypes[1])for(conv in s.converters)converters[conv.toLowerCase()]=s.converters[conv];for(current=dataTypes.shift();current;)if(s.responseFields[current]&&(jqXHR[s.responseFields[current]]=response),!prev&&isSuccess&&s.dataFilter&&(response=s.dataFilter(response,s.dataType)),prev=current,current=dataTypes.shift())if("*"===current)current=prev;else if("*"!==prev&&prev!==current){if(conv=converters[prev+" "+current]||converters["* "+current],!conv)for(conv2 in converters)if(tmp=conv2.split(" "),tmp[1]===current&&(conv=converters[prev+" "+tmp[0]]||converters["* "+tmp[0]])){conv===!0?conv=converters[conv2]:converters[conv2]!==!0&&(current=tmp[0],dataTypes.unshift(tmp[1]));break}if(conv!==!0)if(conv&&s["throws"])response=conv(response);else try{response=conv(response)}catch(e){return{state:"parsererror",error:conv?e:"No conversion from "+prev+" to "+current}}}return{state:"success",data:response}}function createFxNow(){return setTimeout(function(){fxNow=undefined}),fxNow=jQuery.now()}function createTweens(animation,props){jQuery.each(props,function(prop,value){for(var collection=(tweeners[prop]||[]).concat(tweeners["*"]),index=0,length=collection.length;length>index;index++)if(collection[index].call(animation,prop,value))return})}function Animation(elem,properties,options){var result,stopped,index=0,length=animationPrefilters.length,deferred=jQuery.Deferred().always(function(){delete tick.elem}),tick=function(){if(stopped)return!1;for(var currentTime=fxNow||createFxNow(),remaining=Math.max(0,animation.startTime+animation.duration-currentTime),temp=remaining/animation.duration||0,percent=1-temp,index=0,length=animation.tweens.length;length>index;index++)animation.tweens[index].run(percent);return deferred.notifyWith(elem,[animation,percent,remaining]),1>percent&&length?remaining:(deferred.resolveWith(elem,[animation]),!1)},animation=deferred.promise({elem:elem,props:jQuery.extend({},properties),opts:jQuery.extend(!0,{specialEasing:{}},options),originalProperties:properties,originalOptions:options,startTime:fxNow||createFxNow(),duration:options.duration,tweens:[],createTween:function(prop,end){var tween=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);return animation.tweens.push(tween),tween},stop:function(gotoEnd){var index=0,length=gotoEnd?animation.tweens.length:0;if(stopped)return this;for(stopped=!0;length>index;index++)animation.tweens[index].run(1);return gotoEnd?deferred.resolveWith(elem,[animation,gotoEnd]):deferred.rejectWith(elem,[animation,gotoEnd]),this}}),props=animation.props;for(propFilter(props,animation.opts.specialEasing);length>index;index++)if(result=animationPrefilters[index].call(animation,elem,props,animation.opts))return result;return createTweens(animation,props),jQuery.isFunction(animation.opts.start)&&animation.opts.start.call(elem,animation),jQuery.fx.timer(jQuery.extend(tick,{elem:elem,anim:animation,queue:animation.opts.queue})),animation.progress(animation.opts.progress).done(animation.opts.done,animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always)}function propFilter(props,specialEasing){var index,name,easing,value,hooks;for(index in props)if(name=jQuery.camelCase(index),easing=specialEasing[name],value=props[index],jQuery.isArray(value)&&(easing=value[1],value=props[index]=value[0]),index!==name&&(props[name]=value,delete props[index]),hooks=jQuery.cssHooks[name],hooks&&"expand"in hooks){value=hooks.expand(value),delete props[name];for(index in value)index in props||(props[index]=value[index],specialEasing[index]=easing)}else specialEasing[name]=easing}function defaultPrefilter(elem,props,opts){var index,prop,value,length,dataShow,toggle,tween,hooks,oldfire,anim=this,style=elem.style,orig={},handled=[],hidden=elem.nodeType&&isHidden(elem);opts.queue||(hooks=jQuery._queueHooks(elem,"fx"),null==hooks.unqueued&&(hooks.unqueued=0,oldfire=hooks.empty.fire,hooks.empty.fire=function(){hooks.unqueued||oldfire()}),hooks.unqueued++,anim.always(function(){anim.always(function(){hooks.unqueued--,jQuery.queue(elem,"fx").length||hooks.empty.fire()})})),1===elem.nodeType&&("height"in props||"width"in props)&&(opts.overflow=[style.overflow,style.overflowX,style.overflowY],"inline"===jQuery.css(elem,"display")&&"none"===jQuery.css(elem,"float")&&(style.display="inline-block")),opts.overflow&&(style.overflow="hidden",anim.always(function(){style.overflow=opts.overflow[0],style.overflowX=opts.overflow[1],style.overflowY=opts.overflow[2]}));for(index in props)if(value=props[index],rfxtypes.exec(value)){if(delete props[index],toggle=toggle||"toggle"===value,value===(hidden?"hide":"show"))continue;handled.push(index)}if(length=handled.length){dataShow=jQuery._data(elem,"fxshow")||jQuery._data(elem,"fxshow",{}),"hidden"in dataShow&&(hidden=dataShow.hidden),toggle&&(dataShow.hidden=!hidden),hidden?jQuery(elem).show():anim.done(function(){jQuery(elem).hide()}),anim.done(function(){var prop;jQuery._removeData(elem,"fxshow");for(prop in orig)jQuery.style(elem,prop,orig[prop])});for(index=0;length>index;index++)prop=handled[index],tween=anim.createTween(prop,hidden?dataShow[prop]:0),orig[prop]=dataShow[prop]||jQuery.style(elem,prop),prop in dataShow||(dataShow[prop]=tween.start,hidden&&(tween.end=tween.start,tween.start="width"===prop||"height"===prop?1:0))}}function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing)}function genFx(type,includeWidth){var which,attrs={height:type},i=0;for(includeWidth=includeWidth?1:0;4>i;i+=2-includeWidth)which=cssExpand[i],attrs["margin"+which]=attrs["padding"+which]=type;return includeWidth&&(attrs.opacity=attrs.width=type),attrs}function getWindow(elem){return jQuery.isWindow(elem)?elem:9===elem.nodeType&&elem.defaultView}var rootjQuery,readyList,core_strundefined=typeof undefined,location=window.location,document=window.document,docElem=document.documentElement,_jQuery=window.jQuery,_$=window.$,class2type={},core_deletedIds=[],core_version="2.0.0-pre",core_concat=core_deletedIds.concat,core_push=core_deletedIds.push,core_slice=core_deletedIds.slice,core_indexOf=core_deletedIds.indexOf,core_toString=class2type.toString,core_hasOwn=class2type.hasOwnProperty,core_trim=core_version.trim,jQuery=function(selector,context){return new jQuery.fn.init(selector,context,rootjQuery)},core_pnum=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,core_rnotwhite=/\S+/g,rquickExpr=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(all,letter){return letter.toUpperCase()},completed=function(){document.removeEventListener("DOMContentLoaded",completed,!1),window.removeEventListener("load",completed,!1),jQuery.ready()};jQuery.fn=jQuery.prototype={jquery:core_version,constructor:jQuery,init:function(selector,context,rootjQuery){var match,elem;if(!selector)return this;if("string"==typeof selector){if(match="<"===selector.charAt(0)&&">"===selector.charAt(selector.length-1)&&selector.length>=3?[null,selector,null]:rquickExpr.exec(selector),!match||!match[1]&&context)return!context||context.jquery?(context||rootjQuery).find(selector):this.constructor(context).find(selector);if(match[1]){if(context=context instanceof jQuery?context[0]:context,jQuery.merge(this,jQuery.parseHTML(match[1],context&&context.nodeType?context.ownerDocument||context:document,!0)),rsingleTag.test(match[1])&&jQuery.isPlainObject(context))for(match in context)jQuery.isFunction(this[match])?this[match](context[match]):this.attr(match,context[match]);return this}return elem=document.getElementById(match[2]),elem&&elem.parentNode&&(this.length=1,this[0]=elem),this.context=document,this.selector=selector,this}return selector.nodeType?(this.context=this[0]=selector,this.length=1,this):jQuery.isFunction(selector)?rootjQuery.ready(selector):(selector.selector!==undefined&&(this.selector=selector.selector,this.context=selector.context),jQuery.makeArray(selector,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return core_slice.call(this)},get:function(num){return null==num?this.toArray():0>num?this[this.length+num]:this[num]},pushStack:function(elems){var ret=jQuery.merge(this.constructor(),elems);return ret.prevObject=this,ret.context=this.context,ret},each:function(callback,args){return jQuery.each(this,callback,args)},ready:function(fn){return jQuery.ready.promise().done(fn),this},slice:function(){return this.pushStack(core_slice.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(i){var len=this.length,j=+i+(0>i?len:0);return this.pushStack(j>=0&&len>j?[this[j]]:[])},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},end:function(){return this.prevObject||this.constructor(null)},push:core_push,sort:[].sort,splice:[].splice},jQuery.fn.init.prototype=jQuery.fn,jQuery.extend=jQuery.fn.extend=function(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=!1;for("boolean"==typeof target&&(deep=target,target=arguments[1]||{},i=2),"object"==typeof target||jQuery.isFunction(target)||(target={}),length===i&&(target=this,--i);length>i;i++)if(null!=(options=arguments[i]))for(name in options)src=target[name],copy=options[name],target!==copy&&(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))?(copyIsArray?(copyIsArray=!1,clone=src&&jQuery.isArray(src)?src:[]):clone=src&&jQuery.isPlainObject(src)?src:{},target[name]=jQuery.extend(deep,clone,copy)):copy!==undefined&&(target[name]=copy));return target},jQuery.extend({expando:"jQuery"+(core_version+Math.random()).replace(/\D/g,""),noConflict:function(deep){return window.$===jQuery&&(window.$=_$),deep&&window.jQuery===jQuery&&(window.jQuery=_jQuery),jQuery},isReady:!1,readyWait:1,holdReady:function(hold){hold?jQuery.readyWait++:jQuery.ready(!0)},ready:function(wait){(wait===!0?--jQuery.readyWait:jQuery.isReady)||(jQuery.isReady=!0,wait!==!0&&--jQuery.readyWait>0||(readyList.resolveWith(document,[jQuery]),jQuery.fn.trigger&&jQuery(document).trigger("ready").off("ready")))},isFunction:function(obj){return"function"===jQuery.type(obj)},isArray:Array.isArray,isWindow:function(obj){return null!=obj&&obj===obj.window},isNumeric:function(obj){return!isNaN(parseFloat(obj))&&isFinite(obj)},type:function(obj){return null==obj?obj+"":"object"==typeof obj||"function"==typeof obj?class2type[core_toString.call(obj)]||"object":typeof obj},isPlainObject:function(obj){if("object"!==jQuery.type(obj)||obj.nodeType||jQuery.isWindow(obj))return!1;try{if(obj.constructor&&!core_hasOwn.call(obj.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}return!0},isEmptyObject:function(obj){var name;for(name in obj)return!1;return!0},error:function(msg){throw Error(msg)},parseHTML:function(data,context,keepScripts){if(!data||"string"!=typeof data)return null;"boolean"==typeof context&&(keepScripts=context,context=!1),context=context||document;var parsed=rsingleTag.exec(data),scripts=!keepScripts&&[];return parsed?[context.createElement(parsed[1])]:(parsed=jQuery.buildFragment([data],context,scripts),scripts&&jQuery(scripts).remove(),jQuery.merge([],parsed.childNodes))},parseJSON:JSON.parse,parseXML:function(data){var xml,tmp;if(!data||"string"!=typeof data)return null;try{tmp=new DOMParser,xml=tmp.parseFromString(data,"text/xml")}catch(e){xml=undefined}return(!xml||xml.getElementsByTagName("parsererror").length)&&jQuery.error("Invalid XML: "+data),xml},noop:function(){},globalEval:function(code){var script,indirect=eval;code=jQuery.trim(code),code&&(1===code.indexOf("use strict")?(script=document.createElement("script"),script.text=code,document.head.appendChild(script).parentNode.removeChild(script)):indirect(code))},camelCase:function(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toLowerCase()===name.toLowerCase()},each:function(obj,callback,args){var value,i=0,length=obj.length,isArray=isArraylike(obj);if(args){if(isArray)for(;length>i&&(value=callback.apply(obj[i],args),value!==!1);i++);else for(i in obj)if(value=callback.apply(obj[i],args),value===!1)break}else if(isArray)for(;length>i&&(value=callback.call(obj[i],i,obj[i]),value!==!1);i++);else for(i in obj)if(value=callback.call(obj[i],i,obj[i]),value===!1)break;return obj},trim:function(text){return null==text?"":core_trim.call(text)},makeArray:function(arr,results){var ret=results||[];return null!=arr&&(isArraylike(Object(arr))?jQuery.merge(ret,"string"==typeof arr?[arr]:arr):core_push.call(ret,arr)),ret},inArray:function(elem,arr,i){return null==arr?-1:core_indexOf.call(arr,elem,i)},merge:function(first,second){var l=second.length,i=first.length,j=0;if("number"==typeof l)for(;l>j;j++)first[i++]=second[j];else for(;second[j]!==undefined;)first[i++]=second[j++];return first.length=i,first},grep:function(elems,callback,inv){var retVal,ret=[],i=0,length=elems.length;for(inv=!!inv;length>i;i++)retVal=!!callback(elems[i],i),inv!==retVal&&ret.push(elems[i]);return ret},map:function(elems,callback,arg){var value,i=0,length=elems.length,isArray=isArraylike(elems),ret=[];if(isArray)for(;length>i;i++)value=callback(elems[i],i,arg),null!=value&&(ret[ret.length]=value);else for(i in elems)value=callback(elems[i],i,arg),null!=value&&(ret[ret.length]=value);return core_concat.apply([],ret)},guid:1,proxy:function(fn,context){var tmp,args,proxy;return"string"==typeof context&&(tmp=fn[context],context=fn,fn=tmp),jQuery.isFunction(fn)?(args=core_slice.call(arguments,2),proxy=function(){return fn.apply(context||this,args.concat(core_slice.call(arguments)))},proxy.guid=fn.guid=fn.guid||jQuery.guid++,proxy):undefined},access:function(elems,fn,key,value,chainable,emptyGet,raw){var i=0,length=elems.length,bulk=null==key;if("object"===jQuery.type(key)){chainable=!0;for(i in key)jQuery.access(elems,fn,i,key[i],!0,emptyGet,raw)}else if(value!==undefined&&(chainable=!0,jQuery.isFunction(value)||(raw=!0),bulk&&(raw?(fn.call(elems,value),fn=null):(bulk=fn,fn=function(elem,key,value){return bulk.call(jQuery(elem),value)})),fn))for(;length>i;i++)fn(elems[i],key,raw?value:value.call(elems[i],i,fn(elems[i],key)));return chainable?elems:bulk?fn.call(elems):length?fn(elems[0],key):emptyGet},now:Date.now,swap:function(elem,options,callback,args){var ret,name,old={};for(name in options)old[name]=elem.style[name],elem.style[name]=options[name];ret=callback.apply(elem,args||[]);for(name in options)elem.style[name]=old[name];return ret}}),jQuery.ready.promise=function(obj){return readyList||(readyList=jQuery.Deferred(),"complete"===document.readyState?setTimeout(jQuery.ready):(document.addEventListener("DOMContentLoaded",completed,!1),window.addEventListener("load",completed,!1))),readyList.promise(obj)},jQuery.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase()}),rootjQuery=jQuery(document),function(window,undefined){function isNative(fn){return rnative.test(fn+"")}function createCache(){var cache,keys=[];return cache=function(key,value){return keys.push(key+=" ")>Expr.cacheLength&&delete cache[keys.shift()],cache[key]=value}}function markFunction(fn){return fn[expando]=!0,fn}function assert(fn){var div=document.createElement("div");try{return!!fn(div)}catch(e){return!1}finally{div=null}}function Sizzle(selector,context,results,seed){var match,elem,m,nodeType,i,groups,old,nid,newContext,newSelector;if((context?context.ownerDocument||context:preferredDoc)!==document&&setDocument(context),context=context||document,results=results||[],!selector||"string"!=typeof selector)return results;if(1!==(nodeType=context.nodeType)&&9!==nodeType)return[];if(documentIsHTML&&!seed){if(match=rquickExpr.exec(selector))if(m=match[1]){if(9===nodeType){if(elem=context.getElementById(m),!elem||!elem.parentNode)return results;if(elem.id===m)return results.push(elem),results}else if(context.ownerDocument&&(elem=context.ownerDocument.getElementById(m))&&contains(context,elem)&&elem.id===m)return results.push(elem),results}else{if(match[2])return push.apply(results,context.getElementsByTagName(selector)),results;if((m=match[3])&&support.getElementsByClassName&&context.getElementsByClassName)return push.apply(results,context.getElementsByClassName(m)),results}if(support.qsa&&!rbuggyQSA.test(selector)){if(nid=old=expando,newContext=context,newSelector=9===nodeType&&selector,1===nodeType&&"object"!==context.nodeName.toLowerCase()){for(groups=tokenize(selector),(old=context.getAttribute("id"))?nid=old.replace(rescape,"\\$&"):context.setAttribute("id",nid),nid="[id='"+nid+"'] ",i=groups.length;i--;)groups[i]=nid+toSelector(groups[i]);newContext=rsibling.test(selector)&&context.parentNode||context,newSelector=groups.join(",")}if(newSelector)try{return push.apply(results,newContext.querySelectorAll(newSelector)),results}catch(qsaError){}finally{old||context.removeAttribute("id")}}}return select(selector.replace(rtrim,"$1"),context,results,seed)}function siblingCheck(a,b){var cur=b&&a,diff=cur&&(~b.sourceIndex||MAX_NEGATIVE)-(~a.sourceIndex||MAX_NEGATIVE);if(diff)return diff;if(cur)for(;cur=cur.nextSibling;)if(cur===b)return-1;return a?1:-1}function boolHandler(elem,name,isXML){var val;return isXML?undefined:(val=elem.getAttributeNode(name))&&val.specified?val.value:elem[name]===!0?name.toLowerCase():null}function interpolationHandler(elem,name,isXML){var val;return isXML?undefined:val=elem.getAttribute(name,"type"===name.toLowerCase()?1:2)}function createInputPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return"input"===name&&elem.type===type}}function createButtonPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return("input"===name||"button"===name)&&elem.type===type}}function createPositionalPseudo(fn){return markFunction(function(argument){return argument=+argument,markFunction(function(seed,matches){for(var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;i--;)seed[j=matchIndexes[i]]&&(seed[j]=!(matches[j]=seed[j]))})})}function tokenize(selector,parseOnly){var matched,match,tokens,type,soFar,groups,preFilters,cached=tokenCache[selector+" "];if(cached)return parseOnly?0:cached.slice(0);for(soFar=selector,groups=[],preFilters=Expr.preFilter;soFar;){(!matched||(match=rcomma.exec(soFar)))&&(match&&(soFar=soFar.slice(match[0].length)||soFar),groups.push(tokens=[])),matched=!1,(match=rcombinators.exec(soFar))&&(matched=match.shift(),tokens.push({value:matched,type:match[0].replace(rtrim," ")}),soFar=soFar.slice(matched.length));for(type in Expr.filter)!(match=matchExpr[type].exec(soFar))||preFilters[type]&&!(match=preFilters[type](match))||(matched=match.shift(),tokens.push({value:matched,type:type,matches:match}),soFar=soFar.slice(matched.length));if(!matched)break}return parseOnly?soFar.length:soFar?Sizzle.error(selector):tokenCache(selector,groups).slice(0)}function toSelector(tokens){for(var i=0,len=tokens.length,selector="";len>i;i++)selector+=tokens[i].value;return selector}function addCombinator(matcher,combinator,base){var dir=combinator.dir,checkNonElements=base&&"parentNode"===dir,doneName=done++;return combinator.first?function(elem,context,xml){for(;elem=elem[dir];)if(1===elem.nodeType||checkNonElements)return matcher(elem,context,xml)}:function(elem,context,xml){var data,cache,outerCache,dirkey=dirruns+" "+doneName;if(xml){for(;elem=elem[dir];)if((1===elem.nodeType||checkNonElements)&&matcher(elem,context,xml))return!0}else for(;elem=elem[dir];)if(1===elem.nodeType||checkNonElements)if(outerCache=elem[expando]||(elem[expando]={}),(cache=outerCache[dir])&&cache[0]===dirkey){if((data=cache[1])===!0||data===cachedruns)return data===!0}else if(cache=outerCache[dir]=[dirkey],cache[1]=matcher(elem,context,xml)||cachedruns,cache[1]===!0)return!0}}function elementMatcher(matchers){return matchers.length>1?function(elem,context,xml){for(var i=matchers.length;i--;)if(!matchers[i](elem,context,xml))return!1;return!0}:matchers[0]}function condense(unmatched,map,filter,context,xml){for(var elem,newUnmatched=[],i=0,len=unmatched.length,mapped=null!=map;len>i;i++)(elem=unmatched[i])&&(!filter||filter(elem,context,xml))&&(newUnmatched.push(elem),mapped&&map.push(i));return newUnmatched}function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){return postFilter&&!postFilter[expando]&&(postFilter=setMatcher(postFilter)),postFinder&&!postFinder[expando]&&(postFinder=setMatcher(postFinder,postSelector)),markFunction(function(seed,results,context,xml){var temp,i,elem,preMap=[],postMap=[],preexisting=results.length,elems=seed||multipleContexts(selector||"*",context.nodeType?[context]:context,[]),matcherIn=!preFilter||!seed&&selector?elems:condense(elems,preMap,preFilter,context,xml),matcherOut=matcher?postFinder||(seed?preFilter:preexisting||postFilter)?[]:results:matcherIn;if(matcher&&matcher(matcherIn,matcherOut,context,xml),postFilter)for(temp=condense(matcherOut,postMap),postFilter(temp,[],context,xml),i=temp.length;i--;)(elem=temp[i])&&(matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem));if(seed){if(postFinder||preFilter){if(postFinder){for(temp=[],i=matcherOut.length;i--;)(elem=matcherOut[i])&&temp.push(matcherIn[i]=elem);postFinder(null,matcherOut=[],temp,xml)}for(i=matcherOut.length;i--;)(elem=matcherOut[i])&&(temp=postFinder?indexOf.call(seed,elem):preMap[i])>-1&&(seed[temp]=!(results[temp]=elem))}}else matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut),postFinder?postFinder(null,results,matcherOut,xml):push.apply(results,matcherOut)})}function matcherFromTokens(tokens){for(var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[" "],i=leadingRelative?1:0,matchContext=addCombinator(function(elem){return elem===checkContext},implicitRelative,!0),matchAnyContext=addCombinator(function(elem){return indexOf.call(checkContext,elem)>-1},implicitRelative,!0),matchers=[function(elem,context,xml){return!leadingRelative&&(xml||context!==outermostContext)||((checkContext=context).nodeType?matchContext(elem,context,xml):matchAnyContext(elem,context,xml))}];len>i;i++)if(matcher=Expr.relative[tokens[i].type])matchers=[addCombinator(elementMatcher(matchers),matcher)];else{if(matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches),matcher[expando]){for(j=++i;len>j&&!Expr.relative[tokens[j].type];j++);return setMatcher(i>1&&elementMatcher(matchers),i>1&&toSelector(tokens.slice(0,i-1)).replace(rtrim,"$1"),matcher,j>i&&matcherFromTokens(tokens.slice(i,j)),len>j&&matcherFromTokens(tokens=tokens.slice(j)),len>j&&toSelector(tokens))}matchers.push(matcher)}return elementMatcher(matchers)}function matcherFromGroupMatchers(elementMatchers,setMatchers){var matcherCachedRuns=0,bySet=setMatchers.length>0,byElement=elementMatchers.length>0,superMatcher=function(seed,context,xml,results,expandContext){var elem,j,matcher,setMatched=[],matchedCount=0,i="0",unmatched=seed&&[],outermost=null!=expandContext,contextBackup=outermostContext,elems=seed||byElement&&Expr.find.TAG("*",expandContext&&context.parentNode||context),dirrunsUnique=dirruns+=null==contextBackup?1:Math.random()||.1;
for(outermost&&(outermostContext=context!==document&&context,cachedruns=matcherCachedRuns);null!=(elem=elems[i]);i++){if(byElement&&elem){for(j=0;matcher=elementMatchers[j++];)if(matcher(elem,context,xml)){results.push(elem);break}outermost&&(dirruns=dirrunsUnique,cachedruns=++matcherCachedRuns)}bySet&&((elem=!matcher&&elem)&&matchedCount--,seed&&unmatched.push(elem))}if(matchedCount+=i,bySet&&i!==matchedCount){for(j=0;matcher=setMatchers[j++];)matcher(unmatched,setMatched,context,xml);if(seed){if(matchedCount>0)for(;i--;)unmatched[i]||setMatched[i]||(setMatched[i]=pop.call(results));setMatched=condense(setMatched)}push.apply(results,setMatched),outermost&&!seed&&setMatched.length>0&&matchedCount+setMatchers.length>1&&Sizzle.uniqueSort(results)}return outermost&&(dirruns=dirrunsUnique,outermostContext=contextBackup),unmatched};return bySet?markFunction(superMatcher):superMatcher}function multipleContexts(selector,contexts,results){for(var i=0,len=contexts.length;len>i;i++)Sizzle(selector,contexts[i],results);return results}function select(selector,context,results,seed){var i,tokens,token,type,find,match=tokenize(selector);if(!seed&&1===match.length){if(tokens=match[0]=match[0].slice(0),tokens.length>2&&"ID"===(token=tokens[0]).type&&9===context.nodeType&&documentIsHTML&&Expr.relative[tokens[1].type]){if(context=(Expr.find.ID(token.matches[0].replace(runescape,funescape),context)||[])[0],!context)return results;selector=selector.slice(tokens.shift().value.length)}for(i=matchExpr.needsContext.test(selector)?0:tokens.length;i--&&(token=tokens[i],!Expr.relative[type=token.type]);)if((find=Expr.find[type])&&(seed=find(token.matches[0].replace(runescape,funescape),rsibling.test(tokens[0].type)&&context.parentNode||context))){if(tokens.splice(i,1),selector=seed.length&&toSelector(tokens),!selector)return push.apply(results,seed),results;break}}return compile(selector,match)(seed,context,!documentIsHTML,results,rsibling.test(selector)),results}function setFilters(){}var i,cachedruns,Expr,getText,isXML,compile,outermostContext,sortInput,setDocument,document,docElem,documentIsHTML,rbuggyQSA,rbuggyMatches,matches,contains,expando="sizzle"+-new Date,preferredDoc=window.document,support={},dirruns=0,done=0,classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),hasDuplicate=!1,sortOrder=function(){return 0},strundefined=typeof undefined,MAX_NEGATIVE=1<<31,arr=[],pop=arr.pop,push_native=arr.push,push=arr.push,slice=arr.slice,indexOf=arr.indexOf||function(elem){for(var i=0,len=this.length;len>i;i++)if(this[i]===elem)return i;return-1},booleans="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",whitespace="[\\x20\\t\\r\\n\\f]",characterEncoding="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",identifier=characterEncoding.replace("w","w#"),attributes="\\["+whitespace+"*("+characterEncoding+")"+whitespace+"*(?:([*^$|!~]?=)"+whitespace+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+identifier+")|)|)"+whitespace+"*\\]",pseudos=":("+characterEncoding+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+attributes.replace(3,8)+")*)|.*)\\)|)",rtrim=RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+whitespace+"+$","g"),rcomma=RegExp("^"+whitespace+"*,"+whitespace+"*"),rcombinators=RegExp("^"+whitespace+"*([>+~]|"+whitespace+")"+whitespace+"*"),rsibling=RegExp(whitespace+"*[+~]"),rattributeQuotes=RegExp("="+whitespace+"*([^\\]'\"]*)"+whitespace+"*\\]","g"),rpseudo=RegExp(pseudos),ridentifier=RegExp("^"+identifier+"$"),matchExpr={ID:RegExp("^#("+characterEncoding+")"),CLASS:RegExp("^\\.("+characterEncoding+")"),NAME:RegExp("^\\[name=['\"]?("+characterEncoding+")['\"]?\\]"),TAG:RegExp("^("+characterEncoding.replace("w","w*")+")"),ATTR:RegExp("^"+attributes),PSEUDO:RegExp("^"+pseudos),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+whitespace+"*(even|odd|(([+-]|)(\\d*)n|)"+whitespace+"*(?:([+-]|)"+whitespace+"*(\\d+)|))"+whitespace+"*\\)|)","i"),"boolean":RegExp("^(?:"+booleans+")$","i"),needsContext:RegExp("^"+whitespace+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+whitespace+"*((?:-\\d)?\\d*)"+whitespace+"*\\)|)(?=[^-]|$)","i")},rnative=/^[^{]+\{\s*\[native \w/,rquickExpr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rinputs=/^(?:input|select|textarea|button)$/i,rheader=/^h\d$/i,rescape=/'|\\/g,runescape=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,funescape=function(_,escaped){var high="0x"+escaped-65536;return high!==high?escaped:0>high?String.fromCharCode(high+65536):String.fromCharCode(55296|high>>10,56320|1023&high)};try{push.apply(arr=slice.call(preferredDoc.childNodes),preferredDoc.childNodes),arr[preferredDoc.childNodes.length].nodeType}catch(e){push={apply:arr.length?function(target,els){push_native.apply(target,slice.call(els))}:function(target,els){for(var j=target.length,i=0;target[j++]=els[i++];);target.length=j-1}}}isXML=Sizzle.isXML=function(elem){var documentElement=elem&&(elem.ownerDocument||elem).documentElement;return documentElement?"HTML"!==documentElement.nodeName:!1},setDocument=Sizzle.setDocument=function(node){var doc=node?node.ownerDocument||node:preferredDoc;return doc!==document&&9===doc.nodeType&&doc.documentElement?(document=doc,docElem=doc.documentElement,documentIsHTML=!isXML(doc),support.getElementsByTagName=assert(function(div){return div.appendChild(doc.createComment("")),!div.getElementsByTagName("*").length}),support.attributes=assert(function(div){return div.className="i",!div.getAttribute("className")}),support.getElementsByClassName=assert(function(div){return div.innerHTML="<div class='a'></div><div class='a i'></div>",div.firstChild.className="i",2===div.getElementsByClassName("i").length}),support.getByName=assert(function(div){div.id=expando+0,div.appendChild(document.createElement("a")).setAttribute("name",expando),div.appendChild(document.createElement("i")).setAttribute("name",expando),docElem.appendChild(div);var pass=doc.getElementsByName&&doc.getElementsByName(expando).length===2+doc.getElementsByName(expando+0).length;return docElem.removeChild(div),pass}),support.sortDetached=assert(function(div1){return 1&div1.compareDocumentPosition(document.createElement("div"))}),support.getByName?(Expr.find.ID=function(id,context){if(typeof context.getElementById!==strundefined&&documentIsHTML){var m=context.getElementById(id);return m&&m.parentNode?[m]:[]}},Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){return elem.getAttribute("id")===attrId}}):(Expr.find.ID=function(id,context){if(typeof context.getElementById!==strundefined&&documentIsHTML){var m=context.getElementById(id);return m?m.id===id||typeof m.getAttributeNode!==strundefined&&m.getAttributeNode("id").value===id?[m]:undefined:[]}},Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){var node=typeof elem.getAttributeNode!==strundefined&&elem.getAttributeNode("id");return node&&node.value===attrId}}),Expr.find.TAG=support.getElementsByTagName?function(tag,context){return typeof context.getElementsByTagName!==strundefined?context.getElementsByTagName(tag):undefined}:function(tag,context){var elem,tmp=[],i=0,results=context.getElementsByTagName(tag);if("*"===tag){for(;elem=results[i++];)1===elem.nodeType&&tmp.push(elem);return tmp}return results},Expr.find.NAME=support.getByName&&function(tag,context){return typeof context.getElementsByName!==strundefined?context.getElementsByName(name):undefined},Expr.find.CLASS=support.getElementsByClassName&&function(className,context){return typeof context.getElementsByClassName!==strundefined&&documentIsHTML?context.getElementsByClassName(className):undefined},rbuggyMatches=[],rbuggyQSA=[":focus"],(support.qsa=isNative(doc.querySelectorAll))&&(assert(function(div){div.innerHTML="<select><option selected=''></option></select>",div.querySelectorAll("[selected]").length||rbuggyQSA.push("\\["+whitespace+"*(?:value|"+booleans+")"),div.querySelectorAll(":checked").length||rbuggyQSA.push(":checked")}),assert(function(div){var input=document.createElement("input");input.setAttribute("type","hidden"),div.appendChild(input).setAttribute("t",""),div.querySelectorAll("[t^='']").length&&rbuggyQSA.push("[*^$]="+whitespace+"*(?:''|\"\")"),div.querySelectorAll(":enabled").length||rbuggyQSA.push(":enabled",":disabled"),div.querySelectorAll("*,:x"),rbuggyQSA.push(",.*:")})),(support.matchesSelector=isNative(matches=docElem.webkitMatchesSelector||docElem.mozMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector))&&assert(function(div){support.disconnectedMatch=matches.call(div,"div"),matches.call(div,"[s!='']:x"),rbuggyMatches.push("!=",pseudos)}),rbuggyQSA=RegExp(rbuggyQSA.join("|")),rbuggyMatches=rbuggyMatches.length&&RegExp(rbuggyMatches.join("|")),contains=isNative(docElem.contains)||docElem.compareDocumentPosition?function(a,b){var adown=9===a.nodeType?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!(!bup||1!==bup.nodeType||!(adown.contains?adown.contains(bup):a.compareDocumentPosition&&16&a.compareDocumentPosition(bup)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},sortOrder=docElem.compareDocumentPosition?function(a,b){if(a===b)return hasDuplicate=!0,0;var compare=b.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(b);return compare?1&compare||!support.sortDetached&&b.compareDocumentPosition(a)===compare?a===doc||contains(preferredDoc,a)?-1:b===doc||contains(preferredDoc,b)?1:sortInput?indexOf.call(sortInput,a)-indexOf.call(sortInput,b):0:4&compare?-1:1:a.compareDocumentPosition?-1:1}:function(a,b){var cur,i=0,aup=a.parentNode,bup=b.parentNode,ap=[a],bp=[b];if(a===b)return hasDuplicate=!0,0;if(!aup||!bup)return a===doc?-1:b===doc?1:aup?-1:bup?1:sortInput?indexOf.call(sortInput,a)-indexOf.call(sortInput,b):0;if(aup===bup)return siblingCheck(a,b);for(cur=a;cur=cur.parentNode;)ap.unshift(cur);for(cur=b;cur=cur.parentNode;)bp.unshift(cur);for(;ap[i]===bp[i];)i++;return i?siblingCheck(ap[i],bp[i]):ap[i]===preferredDoc?-1:bp[i]===preferredDoc?1:0},document):document},Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements)},Sizzle.matchesSelector=function(elem,expr){if((elem.ownerDocument||elem)!==document&&setDocument(elem),expr=expr.replace(rattributeQuotes,"='$1']"),support.matchesSelector&&documentIsHTML&&(!rbuggyMatches||!rbuggyMatches.test(expr))&&!rbuggyQSA.test(expr))try{var ret=matches.call(elem,expr);if(ret||support.disconnectedMatch||elem.document&&11!==elem.document.nodeType)return ret}catch(e){}return Sizzle(expr,document,null,[elem]).length>0},Sizzle.contains=function(context,elem){return(context.ownerDocument||context)!==document&&setDocument(context),contains(context,elem)},Sizzle.attr=function(elem,name){(elem.ownerDocument||elem)!==document&&setDocument(elem);var fn=Expr.attrHandle[name.toLowerCase()],val=fn&&fn(elem,name,!documentIsHTML);return val===undefined?support.attributes||!documentIsHTML?elem.getAttribute(name):(val=elem.getAttributeNode(name))&&val.specified?val.value:null:val},Sizzle.error=function(msg){throw Error("Syntax error, unrecognized expression: "+msg)},Sizzle.uniqueSort=function(results){var elem,duplicates=[],j=0,i=0;if(hasDuplicate=!support.detectDuplicates,sortInput=!support.sortStable&&results.slice(0),results.sort(sortOrder),hasDuplicate){for(;elem=results[i++];)elem===results[i]&&(j=duplicates.push(i));for(;j--;)results.splice(duplicates[j],1)}return results},getText=Sizzle.getText=function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(nodeType){if(1===nodeType||9===nodeType||11===nodeType){if("string"==typeof elem.textContent)return elem.textContent;for(elem=elem.firstChild;elem;elem=elem.nextSibling)ret+=getText(elem)}else if(3===nodeType||4===nodeType)return elem.nodeValue}else for(;node=elem[i];i++)ret+=getText(node);return ret},Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(match){return match[1]=match[1].replace(runescape,funescape),match[3]=(match[4]||match[5]||"").replace(runescape,funescape),"~="===match[2]&&(match[3]=" "+match[3]+" "),match.slice(0,4)},CHILD:function(match){return match[1]=match[1].toLowerCase(),"nth"===match[1].slice(0,3)?(match[3]||Sizzle.error(match[0]),match[4]=+(match[4]?match[5]+(match[6]||1):2*("even"===match[3]||"odd"===match[3])),match[5]=+(match[7]+match[8]||"odd"===match[3])):match[3]&&Sizzle.error(match[0]),match},PSEUDO:function(match){var excess,unquoted=!match[5]&&match[2];return matchExpr.CHILD.test(match[0])?null:(match[4]?match[2]=match[4]:unquoted&&rpseudo.test(unquoted)&&(excess=tokenize(unquoted,!0))&&(excess=unquoted.indexOf(")",unquoted.length-excess)-unquoted.length)&&(match[0]=match[0].slice(0,excess),match[2]=unquoted.slice(0,excess)),match.slice(0,3))}},filter:{TAG:function(nodeNameSelector){var nodeName=nodeNameSelector.replace(runescape,funescape).toLowerCase();return"*"===nodeNameSelector?function(){return!0}:function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName}},CLASS:function(className){var pattern=classCache[className+" "];return pattern||(pattern=RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)"))&&classCache(className,function(elem){return pattern.test(elem.className||typeof elem.getAttribute!==strundefined&&elem.getAttribute("class")||"")})},ATTR:function(name,operator,check){return function(elem){var result=Sizzle.attr(elem,name);return null==result?"!="===operator:operator?(result+="","="===operator?result===check:"!="===operator?result!==check:"^="===operator?check&&0===result.indexOf(check):"*="===operator?check&&result.indexOf(check)>-1:"$="===operator?check&&result.slice(-check.length)===check:"~="===operator?(" "+result+" ").indexOf(check)>-1:"|="===operator?result===check||result.slice(0,check.length+1)===check+"-":!1):!0}},CHILD:function(type,what,argument,first,last){var simple="nth"!==type.slice(0,3),forward="last"!==type.slice(-4),ofType="of-type"===what;return 1===first&&0===last?function(elem){return!!elem.parentNode}:function(elem,context,xml){var cache,outerCache,node,diff,nodeIndex,start,dir=simple!==forward?"nextSibling":"previousSibling",parent=elem.parentNode,name=ofType&&elem.nodeName.toLowerCase(),useCache=!xml&&!ofType;if(parent){if(simple){for(;dir;){for(node=elem;node=node[dir];)if(ofType?node.nodeName.toLowerCase()===name:1===node.nodeType)return!1;start=dir="only"===type&&!start&&"nextSibling"}return!0}if(start=[forward?parent.firstChild:parent.lastChild],forward&&useCache){for(outerCache=parent[expando]||(parent[expando]={}),cache=outerCache[type]||[],nodeIndex=cache[0]===dirruns&&cache[1],diff=cache[0]===dirruns&&cache[2],node=nodeIndex&&parent.childNodes[nodeIndex];node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop();)if(1===node.nodeType&&++diff&&node===elem){outerCache[type]=[dirruns,nodeIndex,diff];break}}else if(useCache&&(cache=(elem[expando]||(elem[expando]={}))[type])&&cache[0]===dirruns)diff=cache[1];else for(;(node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop())&&((ofType?node.nodeName.toLowerCase()!==name:1!==node.nodeType)||!++diff||(useCache&&((node[expando]||(node[expando]={}))[type]=[dirruns,diff]),node!==elem)););return diff-=last,diff===first||0===diff%first&&diff/first>=0}}},PSEUDO:function(pseudo,argument){var args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error("unsupported pseudo: "+pseudo);return fn[expando]?fn(argument):fn.length>1?(args=[pseudo,pseudo,"",argument],Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction(function(seed,matches){for(var idx,matched=fn(seed,argument),i=matched.length;i--;)idx=indexOf.call(seed,matched[i]),seed[idx]=!(matches[idx]=matched[i])}):function(elem){return fn(elem,0,args)}):fn}},pseudos:{not:markFunction(function(selector){var input=[],results=[],matcher=compile(selector.replace(rtrim,"$1"));return matcher[expando]?markFunction(function(seed,matches,context,xml){for(var elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;i--;)(elem=unmatched[i])&&(seed[i]=!(matches[i]=elem))}):function(elem,context,xml){return input[0]=elem,matcher(input,null,xml,results),!results.pop()}}),has:markFunction(function(selector){return function(elem){return Sizzle(selector,elem).length>0}}),contains:markFunction(function(text){return function(elem){return(elem.textContent||elem.innerText||getText(elem)).indexOf(text)>-1}}),lang:markFunction(function(lang){return ridentifier.test(lang||"")||Sizzle.error("unsupported lang: "+lang),lang=lang.replace(runescape,funescape).toLowerCase(),function(elem){var elemLang;do if(elemLang=documentIsHTML?elem.lang:elem.getAttribute("xml:lang")||elem.getAttribute("lang"))return elemLang=elemLang.toLowerCase(),elemLang===lang||0===elemLang.indexOf(lang+"-");while((elem=elem.parentNode)&&1===elem.nodeType);return!1}}),target:function(elem){var hash=window.location&&window.location.hash;return hash&&hash.slice(1)===elem.id},root:function(elem){return elem===docElem},focus:function(elem){return elem===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex)},enabled:function(elem){return elem.disabled===!1},disabled:function(elem){return elem.disabled===!0},checked:function(elem){var nodeName=elem.nodeName.toLowerCase();return"input"===nodeName&&!!elem.checked||"option"===nodeName&&!!elem.selected},selected:function(elem){return elem.parentNode&&elem.parentNode.selectedIndex,elem.selected===!0},empty:function(elem){for(elem=elem.firstChild;elem;elem=elem.nextSibling)if(elem.nodeName>"@"||3===elem.nodeType||4===elem.nodeType)return!1;return!0},parent:function(elem){return!Expr.pseudos.empty(elem)},header:function(elem){return rheader.test(elem.nodeName)},input:function(elem){return rinputs.test(elem.nodeName)},button:function(elem){var name=elem.nodeName.toLowerCase();return"input"===name&&"button"===elem.type||"button"===name},text:function(elem){var attr;return"input"===elem.nodeName.toLowerCase()&&"text"===elem.type&&(null==(attr=elem.getAttribute("type"))||attr.toLowerCase()===elem.type)},first:createPositionalPseudo(function(){return[0]}),last:createPositionalPseudo(function(matchIndexes,length){return[length-1]}),eq:createPositionalPseudo(function(matchIndexes,length,argument){return[0>argument?argument+length:argument]}),even:createPositionalPseudo(function(matchIndexes,length){for(var i=0;length>i;i+=2)matchIndexes.push(i);return matchIndexes}),odd:createPositionalPseudo(function(matchIndexes,length){for(var i=1;length>i;i+=2)matchIndexes.push(i);return matchIndexes}),lt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=0>argument?argument+length:argument;--i>=0;)matchIndexes.push(i);return matchIndexes}),gt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=0>argument?argument+length:argument;length>++i;)matchIndexes.push(i);return matchIndexes})}};for(i in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Expr.pseudos[i]=createInputPseudo(i);for(i in{submit:!0,reset:!0})Expr.pseudos[i]=createButtonPseudo(i);compile=Sizzle.compile=function(selector,group){var i,setMatchers=[],elementMatchers=[],cached=compilerCache[selector+" "];if(!cached){for(group||(group=tokenize(selector)),i=group.length;i--;)cached=matcherFromTokens(group[i]),cached[expando]?setMatchers.push(cached):elementMatchers.push(cached);cached=compilerCache(selector,matcherFromGroupMatchers(elementMatchers,setMatchers))}return cached},Expr.pseudos.nth=Expr.pseudos.eq,setFilters.prototype=Expr.filters=Expr.pseudos,Expr.setFilters=new setFilters,support.sortStable=expando.split("").sort(sortOrder).join("")===expando,setDocument(),[0,0].sort(sortOrder),support.detectDuplicates=hasDuplicate,assert(function(div){if(div.innerHTML="<a href='#'></a>","#"!==div.firstChild.getAttribute("href"))for(var attrs="type|href|src|height|width".split("|"),i=attrs.length;i--;)Expr.attrHandle[attrs[i]]=interpolationHandler}),assert(function(div){if(null!=div.getAttribute("disabled"))for(var attrs=booleans.split("|"),i=attrs.length;i--;)Expr.attrHandle[attrs[i]]=boolHandler}),jQuery.find=Sizzle,jQuery.expr=Sizzle.selectors,jQuery.expr[":"]=jQuery.expr.pseudos,jQuery.unique=Sizzle.uniqueSort,jQuery.text=Sizzle.getText,jQuery.isXMLDoc=Sizzle.isXML,jQuery.contains=Sizzle.contains}(window);var optionsCache={};jQuery.Callbacks=function(options){options="string"==typeof options?optionsCache[options]||createOptions(options):jQuery.extend({},options);var memory,fired,firing,firingStart,firingLength,firingIndex,list=[],stack=!options.once&&[],fire=function(data){for(memory=options.memory&&data,fired=!0,firingIndex=firingStart||0,firingStart=0,firingLength=list.length,firing=!0;list&&firingLength>firingIndex;firingIndex++)if(list[firingIndex].apply(data[0],data[1])===!1&&options.stopOnFalse){memory=!1;break}firing=!1,list&&(stack?stack.length&&fire(stack.shift()):memory?list=[]:self.disable())},self={add:function(){if(list){var start=list.length;(function add(args){jQuery.each(args,function(_,arg){var type=jQuery.type(arg);"function"===type?options.unique&&self.has(arg)||list.push(arg):arg&&arg.length&&"string"!==type&&add(arg)})})(arguments),firing?firingLength=list.length:memory&&(firingStart=start,fire(memory))}return this},remove:function(){return list&&jQuery.each(arguments,function(_,arg){for(var index;(index=jQuery.inArray(arg,list,index))>-1;)list.splice(index,1),firing&&(firingLength>=index&&firingLength--,firingIndex>=index&&firingIndex--)}),this},has:function(fn){return fn?jQuery.inArray(fn,list)>-1:!(!list||!list.length)},empty:function(){return list=[],firingLength=0,this},disable:function(){return list=stack=memory=undefined,this},disabled:function(){return!list},lock:function(){return stack=undefined,memory||self.disable(),this},locked:function(){return!stack},fireWith:function(context,args){return args=args||[],args=[context,args.slice?args.slice():args],!list||fired&&!stack||(firing?stack.push(args):fire(args)),this},fire:function(){return self.fireWith(this,arguments),this},fired:function(){return!!fired}};return self},jQuery.extend({Deferred:function(func){var tuples=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],state="pending",promise={state:function(){return state},always:function(){return deferred.done(arguments).fail(arguments),this},then:function(){var fns=arguments;return jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(i,tuple){var action=tuple[0],fn=jQuery.isFunction(fns[i])&&fns[i];deferred[tuple[1]](function(){var returned=fn&&fn.apply(this,arguments);returned&&jQuery.isFunction(returned.promise)?returned.promise().done(newDefer.resolve).fail(newDefer.reject).progress(newDefer.notify):newDefer[action+"With"](this===promise?newDefer.promise():this,fn?[returned]:arguments)})}),fns=null}).promise()},promise:function(obj){return null!=obj?jQuery.extend(obj,promise):promise}},deferred={};return promise.pipe=promise.then,jQuery.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[3];promise[tuple[1]]=list.add,stateString&&list.add(function(){state=stateString},tuples[1^i][2].disable,tuples[2][2].lock),deferred[tuple[0]]=function(){return deferred[tuple[0]+"With"](this===deferred?promise:this,arguments),this},deferred[tuple[0]+"With"]=list.fireWith}),promise.promise(deferred),func&&func.call(deferred,deferred),deferred},when:function(subordinate){var progressValues,progressContexts,resolveContexts,i=0,resolveValues=core_slice.call(arguments),length=resolveValues.length,remaining=1!==length||subordinate&&jQuery.isFunction(subordinate.promise)?length:0,deferred=1===remaining?subordinate:jQuery.Deferred(),updateFunc=function(i,contexts,values){return function(value){contexts[i]=this,values[i]=arguments.length>1?core_slice.call(arguments):value,values===progressValues?deferred.notifyWith(contexts,values):--remaining||deferred.resolveWith(contexts,values)}};if(length>1)for(progressValues=Array(length),progressContexts=Array(length),resolveContexts=Array(length);length>i;i++)resolveValues[i]&&jQuery.isFunction(resolveValues[i].promise)?resolveValues[i].promise().done(updateFunc(i,resolveContexts,resolveValues)).fail(deferred.reject).progress(updateFunc(i,progressContexts,progressValues)):--remaining;return remaining||deferred.resolveWith(resolveContexts,resolveValues),deferred.promise()}}),jQuery.support=function(support){var input=document.createElement("input"),fragment=document.createDocumentFragment(),div=document.createElement("div"),select=document.createElement("select"),opt=select.appendChild(document.createElement("option"));return input.type?(input.type="checkbox",support.checkOn=""!==input.value,support.optSelected=opt.selected,support.boxModel="CSS1Compat"===document.compatMode,support.reliableMarginRight=!0,support.boxSizingReliable=!0,support.pixelPosition=!1,input.checked=!0,support.noCloneChecked=input.cloneNode(!0).checked,select.disabled=!0,support.optDisabled=!opt.disabled,input=document.createElement("input"),input.value="t",input.type="radio",support.radioValue="t"===input.value,input.setAttribute("checked","t"),input.setAttribute("name","t"),fragment.appendChild(input),support.checkClone=fragment.cloneNode(!0).cloneNode(!0).lastChild.checked,support.focusinBubbles="onfocusin"in window,div.style.backgroundClip="content-box",div.cloneNode(!0).style.backgroundClip="",support.clearCloneStyle="content-box"===div.style.backgroundClip,jQuery(function(){var container,marginDiv,divReset="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",body=document.getElementsByTagName("body")[0];body&&(container=document.createElement("div"),container.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",body.appendChild(container).appendChild(div),div.innerHTML="",div.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",jQuery.swap(body,null!=body.style.zoom?{zoom:1}:{},function(){support.boxSizing=4===div.offsetWidth}),window.getComputedStyle&&(support.pixelPosition="1%"!==(window.getComputedStyle(div,null)||{}).top,support.boxSizingReliable="4px"===(window.getComputedStyle(div,null)||{width:"4px"}).width,marginDiv=div.appendChild(document.createElement("div")),marginDiv.style.cssText=div.style.cssText=divReset,marginDiv.style.marginRight=marginDiv.style.width="0",div.style.width="1px",support.reliableMarginRight=!parseFloat((window.getComputedStyle(marginDiv,null)||{}).marginRight)),body.removeChild(container))}),support):support}({});var data_user,data_priv,rbrace=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,rmultiDash=/([A-Z])/g;Data.uid=1,Data.prototype={key:function(owner){var descriptor={},unlock=owner[this.expando];if(!unlock){unlock=Data.uid++;try{descriptor[this.expando]={value:unlock},Object.defineProperties(owner,descriptor)}catch(e){descriptor[this.expando]=unlock,jQuery.extend(owner,descriptor)}}return this.cache[unlock]||(this.cache[unlock]={}),unlock},set:function(owner,data,value){var prop,unlock=this.key(owner),cache=this.cache[unlock];if("string"==typeof data)cache[data]=value;else if(jQuery.isEmptyObject(cache))this.cache[unlock]=data;else for(prop in data)cache[prop]=data[prop];return this},get:function(owner,key){var cache=this.cache[this.key(owner)];return key===undefined?cache:cache[key]},access:function(owner,key,value){return key===undefined||key&&"string"==typeof key&&value===undefined?this.get(owner,key):(this.set(owner,key,value),value!==undefined?value:key)},remove:function(owner,key){var i,name,unlock=this.key(owner),cache=this.cache[unlock];if(key===undefined)this.cache[unlock]={};else{jQuery.isArray(key)?name=key.concat(key.map(jQuery.camelCase)):key in cache?name=[key]:(name=jQuery.camelCase(key),name=name in cache?[name]:name.match(core_rnotwhite)||[]),i=name.length;for(;i--;)delete cache[name[i]]}},hasData:function(owner){return!jQuery.isEmptyObject(this.cache[owner[this.expando]]||{})},discard:function(owner){delete this.cache[this.key(owner)]}},data_user=new Data,data_priv=new Data,jQuery.extend({acceptData:function(){return!0},hasData:function(elem){return data_user.hasData(elem)||data_priv.hasData(elem)},data:function(elem,name,data){return data_user.access(elem,name,data)},removeData:function(elem,name){return data_user.remove(elem,name)},_data:function(elem,name,data){return data_priv.access(elem,name,data)},_removeData:function(elem,name){return data_priv.remove(elem,name)}}),jQuery.fn.extend({data:function(key,value){var attrs,name,elem=this[0],i=0,data=null;if(key===undefined){if(this.length&&(data=data_user.get(elem),1===elem.nodeType&&!data_priv.get(elem,"hasDataAttrs"))){for(attrs=elem.attributes;attrs.length>i;i++)name=attrs[i].name,0===name.indexOf("data-")&&(name=jQuery.camelCase(name.substring(5)),dataAttr(elem,name,data[name]));data_priv.set(elem,"hasDataAttrs",!0)}return data}return"object"==typeof key?this.each(function(){data_user.set(this,key)}):jQuery.access(this,function(value){var data,camelKey=jQuery.camelCase(key);return elem&&value===undefined?(data=data_user.get(elem,key),data!==undefined?data:(data=data_user.get(elem,camelKey),data!==undefined?data:(data=dataAttr(elem,camelKey,undefined),data!==undefined?data:undefined))):(this.each(function(){var data=data_user.get(this,camelKey);data_user.set(this,camelKey,value),/-/.test(key)&&data!==undefined&&data_user.set(this,key,value)}),undefined)},null,value,arguments.length>1,null,!0)},removeData:function(key){return this.each(function(){data_user.remove(this,key)})}}),jQuery.extend({queue:function(elem,type,data){var queue;return elem?(type=(type||"fx")+"queue",queue=jQuery._data(elem,type),data&&(!queue||jQuery.isArray(data)?queue=jQuery._data(elem,type,jQuery.makeArray(data)):queue.push(data)),queue||[]):undefined},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type),next=function(){jQuery.dequeue(elem,type)};"inprogress"===fn&&(fn=queue.shift(),startLength--),hooks.cur=fn,fn&&("fx"===type&&queue.unshift("inprogress"),delete hooks.stop,fn.call(elem,next,hooks)),!startLength&&hooks&&hooks.empty.fire()},_queueHooks:function(elem,type){var key=type+"queueHooks";return jQuery._data(elem,key)||jQuery._data(elem,key,{empty:jQuery.Callbacks("once memory").add(function(){jQuery._removeData(elem,type+"queue"),jQuery._removeData(elem,key)})})}}),jQuery.fn.extend({queue:function(type,data){var setter=2;return"string"!=typeof type&&(data=type,type="fx",setter--),setter>arguments.length?jQuery.queue(this[0],type):data===undefined?this:this.each(function(){var queue=jQuery.queue(this,type,data);jQuery._queueHooks(this,type),"fx"===type&&"inprogress"!==queue[0]&&jQuery.dequeue(this,type)})},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type)})},delay:function(time,type){return time=jQuery.fx?jQuery.fx.speeds[time]||time:time,type=type||"fx",this.queue(type,function(next,hooks){var timeout=setTimeout(next,time);hooks.stop=function(){clearTimeout(timeout)}})},clearQueue:function(type){return this.queue(type||"fx",[])},promise:function(type,obj){var tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length,resolve=function(){--count||defer.resolveWith(elements,[elements])};for("string"!=typeof type&&(obj=type,type=undefined),type=type||"fx";i--;)tmp=jQuery._data(elements[i],type+"queueHooks"),tmp&&tmp.empty&&(count++,tmp.empty.add(resolve));return resolve(),defer.promise(obj)}});var nodeHook,boolHook,rclass=/[\t\r\n]/g,rreturn=/\r/g,rfocusable=/^(?:input|select|textarea|button|object)$/i,rclickable=/^(?:a|area)$/i;
jQuery.fn.extend({attr:function(name,value){return jQuery.access(this,jQuery.attr,name,value,arguments.length>1)},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name)})},prop:function(name,value){return jQuery.access(this,jQuery.prop,name,value,arguments.length>1)},removeProp:function(name){return name=jQuery.propFix[name]||name,this.each(function(){this[name]=undefined,delete this[name]})},addClass:function(value){var classes,elem,cur,clazz,j,i=0,len=this.length,proceed="string"==typeof value&&value;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).addClass(value.call(this,j,this.className))});if(proceed)for(classes=(value||"").match(core_rnotwhite)||[];len>i;i++)if(elem=this[i],cur=1===elem.nodeType&&(elem.className?(" "+elem.className+" ").replace(rclass," "):" ")){for(j=0;clazz=classes[j++];)0>cur.indexOf(" "+clazz+" ")&&(cur+=clazz+" ");elem.className=jQuery.trim(cur)}return this},removeClass:function(value){var classes,elem,cur,clazz,j,i=0,len=this.length,proceed=0===arguments.length||"string"==typeof value&&value;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).removeClass(value.call(this,j,this.className))});if(proceed)for(classes=(value||"").match(core_rnotwhite)||[];len>i;i++)if(elem=this[i],cur=1===elem.nodeType&&(elem.className?(" "+elem.className+" ").replace(rclass," "):"")){for(j=0;clazz=classes[j++];)for(;cur.indexOf(" "+clazz+" ")>=0;)cur=cur.replace(" "+clazz+" "," ");elem.className=value?jQuery.trim(cur):""}return this},toggleClass:function(value,stateVal){var type=typeof value,isBool="boolean"==typeof stateVal;return jQuery.isFunction(value)?this.each(function(i){jQuery(this).toggleClass(value.call(this,i,this.className,stateVal),stateVal)}):this.each(function(){if("string"===type)for(var className,i=0,self=jQuery(this),state=stateVal,classNames=value.match(core_rnotwhite)||[];className=classNames[i++];)state=isBool?state:!self.hasClass(className),self[state?"addClass":"removeClass"](className);else(type===core_strundefined||"boolean"===type)&&(this.className&&jQuery._data(this,"__className__",this.className),this.className=this.className||value===!1?"":jQuery._data(this,"__className__")||"")})},hasClass:function(selector){for(var className=" "+selector+" ",i=0,l=this.length;l>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(rclass," ").indexOf(className)>=0)return!0;return!1},val:function(value){var hooks,ret,isFunction,elem=this[0];{if(arguments.length)return isFunction=jQuery.isFunction(value),this.each(function(i){var val,self=jQuery(this);1===this.nodeType&&(val=isFunction?value.call(this,i,self.val()):value,null==val?val="":"number"==typeof val?val+="":jQuery.isArray(val)&&(val=jQuery.map(val,function(value){return null==value?"":value+""})),hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()],hooks&&"set"in hooks&&hooks.set(this,val,"value")!==undefined||(this.value=val))});if(elem)return hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()],hooks&&"get"in hooks&&(ret=hooks.get(elem,"value"))!==undefined?ret:(ret=elem.value,"string"==typeof ret?ret.replace(rreturn,""):null==ret?"":ret)}}}),jQuery.extend({valHooks:{option:{get:function(elem){var val=elem.attributes.value;return!val||val.specified?elem.value:elem.text}},select:{get:function(elem){for(var value,option,options=elem.options,index=elem.selectedIndex,one="select-one"===elem.type||0>index,values=one?null:[],max=one?index+1:options.length,i=0>index?max:one?index:0;max>i;i++)if(option=options[i],!(!option.selected&&i!==index||(jQuery.support.optDisabled?option.disabled:null!==option.getAttribute("disabled"))||option.parentNode.disabled&&jQuery.nodeName(option.parentNode,"optgroup"))){if(value=jQuery(option).val(),one)return value;values.push(value)}return values},set:function(elem,value){for(var optionSet,option,options=elem.options,values=jQuery.makeArray(value),i=options.length;i--;)option=options[i],(option.selected=jQuery.inArray(jQuery(option).val(),values)>=0)&&(optionSet=!0);return optionSet||(elem.selectedIndex=-1),values}}},attr:function(elem,name,value){var hooks,ret,nType=elem.nodeType;if(elem&&3!==nType&&8!==nType&&2!==nType)return typeof elem.getAttribute===core_strundefined?jQuery.prop(elem,name,value):(1===nType&&jQuery.isXMLDoc(elem)||(name=name.toLowerCase(),hooks=jQuery.attrHooks[name]||(jQuery.expr.match.boolean.test(name)?boolHook:nodeHook)),value===undefined?hooks&&"get"in hooks&&null!==(ret=hooks.get(elem,name))?ret:(ret=jQuery.find.attr(elem,name),null==ret?undefined:ret):null!==value?hooks&&"set"in hooks&&(ret=hooks.set(elem,value,name))!==undefined?ret:(elem.setAttribute(name,value+""),value):(jQuery.removeAttr(elem,name),undefined))},removeAttr:function(elem,value){var name,propName,i=0,attrNames=value&&value.match(core_rnotwhite);if(attrNames&&1===elem.nodeType)for(;name=attrNames[i++];)propName=jQuery.propFix[name]||name,jQuery.expr.match.boolean.test(name)&&(elem[propName]=!1),elem.removeAttribute(name)},attrHooks:{type:{set:function(elem,value){if(!jQuery.support.radioValue&&"radio"===value&&jQuery.nodeName(elem,"input")){var val=elem.value;return elem.setAttribute("type",value),val&&(elem.value=val),value}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(elem,name,value){var ret,hooks,notxml,nType=elem.nodeType;if(elem&&3!==nType&&8!==nType&&2!==nType)return notxml=1!==nType||!jQuery.isXMLDoc(elem),notxml&&(name=jQuery.propFix[name]||name,hooks=jQuery.propHooks[name]),value!==undefined?hooks&&"set"in hooks&&(ret=hooks.set(elem,value,name))!==undefined?ret:elem[name]=value:hooks&&"get"in hooks&&null!==(ret=hooks.get(elem,name))?ret:elem[name]},propHooks:{tabIndex:{get:function(elem){var attributeNode=elem.getAttributeNode("tabindex");return attributeNode&&attributeNode.specified?parseInt(attributeNode.value,10):rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href?0:undefined}}}}),boolHook={set:function(elem,value,name){return value===!1?jQuery.removeAttr(elem,name):elem.setAttribute(name,name),name}},jQuery.each(jQuery.expr.match.boolean.source.match(/\w+/g),function(i,name){var getter=jQuery.expr.attrHandle[name]||jQuery.find.attr;jQuery.expr.attrHandle[name]=function(elem,name,isXML){var fn=jQuery.expr.attrHandle[name],ret=isXML?undefined:(jQuery.expr.attrHandle[name]=undefined)!=getter(elem,name,isXML)?name.toLowerCase():null;return jQuery.expr.attrHandle[name]=fn,ret}}),jQuery.support.optSelected||(jQuery.propHooks.selected={get:function(elem){var parent=elem.parentNode;return parent&&parent.parentNode&&parent.parentNode.selectedIndex,null}}),jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this}),jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function(elem,value){return jQuery.isArray(value)?elem.checked=jQuery.inArray(jQuery(elem).val(),value)>=0:undefined}},jQuery.support.checkOn||(jQuery.valHooks[this].get=function(elem){return null===elem.getAttribute("value")?"on":elem.value})});var rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|contextmenu)|click/,rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,rtypenamespace=/^([^.]*)(?:\.(.+)|)$/;jQuery.event={global:{},add:function(elem,types,handler,data,selector){var handleObjIn,eventHandle,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=data_priv.get(elem);if(elemData){for(handler.handler&&(handleObjIn=handler,handler=handleObjIn.handler,selector=handleObjIn.selector),handler.guid||(handler.guid=jQuery.guid++),(events=elemData.events)||(events=elemData.events={}),(eventHandle=elemData.handle)||(eventHandle=elemData.handle=function(e){return typeof jQuery===core_strundefined||e&&jQuery.event.triggered===e.type?undefined:jQuery.event.dispatch.apply(eventHandle.elem,arguments)},eventHandle.elem=elem),types=(types||"").match(core_rnotwhite)||[""],t=types.length;t--;)tmp=rtypenamespace.exec(types[t])||[],type=origType=tmp[1],namespaces=(tmp[2]||"").split(".").sort(),type&&(special=jQuery.event.special[type]||{},type=(selector?special.delegateType:special.bindType)||type,special=jQuery.event.special[type]||{},handleObj=jQuery.extend({type:type,origType:origType,data:data,handler:handler,guid:handler.guid,selector:selector,needsContext:selector&&jQuery.expr.match.needsContext.test(selector),namespace:namespaces.join(".")},handleObjIn),(handlers=events[type])||(handlers=events[type]=[],handlers.delegateCount=0,special.setup&&special.setup.call(elem,data,namespaces,eventHandle)!==!1||elem.addEventListener&&elem.addEventListener(type,eventHandle,!1)),special.add&&(special.add.call(elem,handleObj),handleObj.handler.guid||(handleObj.handler.guid=handler.guid)),selector?handlers.splice(handlers.delegateCount++,0,handleObj):handlers.push(handleObj),jQuery.event.global[type]=!0);elem=null}},remove:function(elem,types,handler,selector,mappedTypes){var j,origCount,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=data_priv.hasData(elem)&&data_priv.get(elem);if(elemData&&(events=elemData.events)){for(types=(types||"").match(core_rnotwhite)||[""],t=types.length;t--;)if(tmp=rtypenamespace.exec(types[t])||[],type=origType=tmp[1],namespaces=(tmp[2]||"").split(".").sort(),type){for(special=jQuery.event.special[type]||{},type=(selector?special.delegateType:special.bindType)||type,handlers=events[type]||[],tmp=tmp[2]&&RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"),origCount=j=handlers.length;j--;)handleObj=handlers[j],!mappedTypes&&origType!==handleObj.origType||handler&&handler.guid!==handleObj.guid||tmp&&!tmp.test(handleObj.namespace)||selector&&selector!==handleObj.selector&&("**"!==selector||!handleObj.selector)||(handlers.splice(j,1),handleObj.selector&&handlers.delegateCount--,special.remove&&special.remove.call(elem,handleObj));origCount&&!handlers.length&&(special.teardown&&special.teardown.call(elem,namespaces,elemData.handle)!==!1||jQuery.removeEvent(elem,type,elemData.handle),delete events[type])}else for(type in events)jQuery.event.remove(elem,type+types[t],handler,selector,!0);jQuery.isEmptyObject(events)&&(delete elemData.handle,jQuery._removeData(elem,"events"))}},trigger:function(event,data,elem,onlyHandlers){var i,cur,tmp,bubbleType,ontype,handle,special,eventPath=[elem||document],type=core_hasOwn.call(event,"type")?event.type:event,namespaces=core_hasOwn.call(event,"namespace")?event.namespace.split("."):[];if(cur=tmp=elem=elem||document,3!==elem.nodeType&&8!==elem.nodeType&&!rfocusMorph.test(type+jQuery.event.triggered)&&(type.indexOf(".")>=0&&(namespaces=type.split("."),type=namespaces.shift(),namespaces.sort()),ontype=0>type.indexOf(":")&&"on"+type,event=event[jQuery.expando]?event:new jQuery.Event(type,"object"==typeof event&&event),event.isTrigger=onlyHandlers?2:3,event.namespace=namespaces.join("."),event.namespace_re=event.namespace?RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,event.result=undefined,event.target||(event.target=elem),data=null==data?[event]:jQuery.makeArray(data,[event]),special=jQuery.event.special[type]||{},onlyHandlers||!special.trigger||special.trigger.apply(elem,data)!==!1)){if(!onlyHandlers&&!special.noBubble&&!jQuery.isWindow(elem)){for(bubbleType=special.delegateType||type,rfocusMorph.test(bubbleType+type)||(cur=cur.parentNode);cur;cur=cur.parentNode)eventPath.push(cur),tmp=cur;tmp===(elem.ownerDocument||document)&&eventPath.push(tmp.defaultView||tmp.parentWindow||window)}for(i=0;(cur=eventPath[i++])&&!event.isPropagationStopped();)event.type=i>1?bubbleType:special.bindType||type,handle=(jQuery._data(cur,"events")||{})[event.type]&&jQuery._data(cur,"handle"),handle&&handle.apply(cur,data),handle=ontype&&cur[ontype],handle&&jQuery.acceptData(cur)&&handle.apply&&handle.apply(cur,data)===!1&&event.preventDefault();return event.type=type,onlyHandlers||event.isDefaultPrevented()||special._default&&special._default.apply(elem.ownerDocument,data)!==!1||"click"===type&&jQuery.nodeName(elem,"a")||!jQuery.acceptData(elem)||ontype&&jQuery.isFunction(elem[type])&&!jQuery.isWindow(elem)&&(tmp=elem[ontype],tmp&&(elem[ontype]=null),jQuery.event.triggered=type,elem[type](),jQuery.event.triggered=undefined,tmp&&(elem[ontype]=tmp)),event.result}},dispatch:function(event){event=jQuery.event.fix(event);var i,j,ret,matched,handleObj,handlerQueue=[],args=core_slice.call(arguments),handlers=(jQuery._data(this,"events")||{})[event.type]||[],special=jQuery.event.special[event.type]||{};if(args[0]=event,event.delegateTarget=this,!special.preDispatch||special.preDispatch.call(this,event)!==!1){for(handlerQueue=jQuery.event.handlers.call(this,event,handlers),i=0;(matched=handlerQueue[i++])&&!event.isPropagationStopped();)for(event.currentTarget=matched.elem,j=0;(handleObj=matched.handlers[j++])&&!event.isImmediatePropagationStopped();)(!event.namespace_re||event.namespace_re.test(handleObj.namespace))&&(event.handleObj=handleObj,event.data=handleObj.data,ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args),ret!==undefined&&(event.result=ret)===!1&&(event.preventDefault(),event.stopPropagation()));return special.postDispatch&&special.postDispatch.call(this,event),event.result}},handlers:function(event,handlers){var i,matches,sel,handleObj,handlerQueue=[],delegateCount=handlers.delegateCount,cur=event.target;if(delegateCount&&cur.nodeType&&(!event.button||"click"!==event.type))for(;cur!==this;cur=cur.parentNode||this)if(cur.disabled!==!0||"click"!==event.type){for(matches=[],i=0;delegateCount>i;i++)handleObj=handlers[i],sel=handleObj.selector+" ",matches[sel]===undefined&&(matches[sel]=handleObj.needsContext?jQuery(sel,this).index(cur)>=0:jQuery.find(sel,this,null,[cur]).length),matches[sel]&&matches.push(handleObj);matches.length&&handlerQueue.push({elem:cur,handlers:matches})}return handlers.length>delegateCount&&handlerQueue.push({elem:this,handlers:handlers.slice(delegateCount)}),handlerQueue},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(event,original){return null==event.which&&(event.which=null!=original.charCode?original.charCode:original.keyCode),event}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(event,original){var eventDoc,doc,body,button=original.button;return null==event.pageX&&null!=original.clientX&&(eventDoc=event.target.ownerDocument||document,doc=eventDoc.documentElement,body=eventDoc.body,event.pageX=original.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0),event.pageY=original.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)),event.which||button===undefined||(event.which=1&button?1:2&button?3:4&button?2:0),event}},fix:function(event){if(event[jQuery.expando])return event;var i,prop,copy,type=event.type,originalEvent=event,fixHook=this.fixHooks[type];for(fixHook||(this.fixHooks[type]=fixHook=rmouseEvent.test(type)?this.mouseHooks:rkeyEvent.test(type)?this.keyHooks:{}),copy=fixHook.props?this.props.concat(fixHook.props):this.props,event=new jQuery.Event(originalEvent),i=copy.length;i--;)prop=copy[i],event[prop]=originalEvent[prop];return 3===event.target.nodeType&&(event.target=event.target.parentNode),fixHook.filter?fixHook.filter(event,originalEvent):event},special:{load:{noBubble:!0},click:{trigger:function(){return"checkbox"===this.type&&this.click&&jQuery.nodeName(this,"input")?(this.click(),!1):undefined}},focus:{trigger:function(){return this!==document.activeElement&&this.focus?(this.focus(),!1):undefined},delegateType:"focusin"},blur:{trigger:function(){return this===document.activeElement&&this.blur?(this.blur(),!1):undefined},delegateType:"focusout"},beforeunload:{postDispatch:function(event){event.result!==undefined&&(event.originalEvent.returnValue=event.result)}}},simulate:function(type,elem,event,bubble){var e=jQuery.extend(new jQuery.Event,event,{type:type,isSimulated:!0,originalEvent:{}});bubble?jQuery.event.trigger(e,null,elem):jQuery.event.dispatch.call(elem,e),e.isDefaultPrevented()&&event.preventDefault()}},jQuery.removeEvent=function(elem,type,handle){elem.removeEventListener&&elem.removeEventListener(type,handle,!1)},jQuery.Event=function(src,props){return this instanceof jQuery.Event?(src&&src.type?(this.originalEvent=src,this.type=src.type,this.isDefaultPrevented=src.defaultPrevented||src.getPreventDefault&&src.getPreventDefault()?returnTrue:returnFalse):this.type=src,props&&jQuery.extend(this,props),this.timeStamp=src&&src.timeStamp||jQuery.now(),this[jQuery.expando]=!0,undefined):new jQuery.Event(src,props)},jQuery.Event.prototype={isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=returnTrue,this.stopPropagation()}},jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var ret,target=this,related=event.relatedTarget,handleObj=event.handleObj;return(!related||related!==target&&!jQuery.contains(target,related))&&(event.type=handleObj.origType,ret=handleObj.handler.apply(this,arguments),event.type=fix),ret}}}),jQuery.support.focusinBubbles||jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var attaches=0,handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event),!0)};jQuery.event.special[fix]={setup:function(){0===attaches++&&document.addEventListener(orig,handler,!0)},teardown:function(){0===--attaches&&document.removeEventListener(orig,handler,!0)}}}),jQuery.fn.extend({on:function(types,selector,data,fn,one){var origFn,type;if("object"==typeof types){"string"!=typeof selector&&(data=data||selector,selector=undefined);for(type in types)this.on(type,selector,data,types[type],one);return this}if(null==data&&null==fn?(fn=selector,data=selector=undefined):null==fn&&("string"==typeof selector?(fn=data,data=undefined):(fn=data,data=selector,selector=undefined)),fn===!1)fn=returnFalse;else if(!fn)return this;return 1===one&&(origFn=fn,fn=function(event){return jQuery().off(event),origFn.apply(this,arguments)},fn.guid=origFn.guid||(origFn.guid=jQuery.guid++)),this.each(function(){jQuery.event.add(this,types,fn,data,selector)})},one:function(types,selector,data,fn){return this.on(types,selector,data,fn,1)},off:function(types,selector,fn){var handleObj,type;if(types&&types.preventDefault&&types.handleObj)return handleObj=types.handleObj,jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler),this;if("object"==typeof types){for(type in types)this.off(type,selector,types[type]);return this}return(selector===!1||"function"==typeof selector)&&(fn=selector,selector=undefined),fn===!1&&(fn=returnFalse),this.each(function(){jQuery.event.remove(this,types,fn,selector)})},trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){var elem=this[0];return elem?jQuery.event.trigger(type,data,elem,!0):undefined}});var isSimple=/^.[^:#\[\.,]*$/,rneedsContext=jQuery.expr.match.needsContext,guaranteedUnique={children:!0,contents:!0,next:!0,prev:!0};jQuery.fn.extend({find:function(selector){var self,matched,i,l=this.length;if("string"!=typeof selector)return self=this,this.pushStack(jQuery(selector).filter(function(){for(i=0;l>i;i++)if(jQuery.contains(self[i],this))return!0}));for(matched=[],i=0;l>i;i++)jQuery.find(selector,this[i],matched);return matched=this.pushStack(l>1?jQuery.unique(matched):matched),matched.selector=(this.selector?this.selector+" ":"")+selector,matched},has:function(target){var targets=jQuery(target,this),l=targets.length;return this.filter(function(){for(var i=0;l>i;i++)if(jQuery.contains(this,targets[i]))return!0})},not:function(selector){return this.pushStack(winnow(this,selector||[],!0))},filter:function(selector){return this.pushStack(winnow(this,selector||[],!1))},is:function(selector){return!!selector&&("string"==typeof selector?rneedsContext.test(selector)?jQuery(selector,this.context).index(this[0])>=0:jQuery.filter(selector,this).length>0:this.filter(selector).length>0)},closest:function(selectors,context){for(var cur,i=0,l=this.length,matched=[],pos=rneedsContext.test(selectors)||"string"!=typeof selectors?jQuery(selectors,context||this.context):0;l>i;i++)for(cur=this[i];cur&&cur!==context;cur=cur.parentNode)if(11>cur.nodeType&&(pos?pos.index(cur)>-1:1===cur.nodeType&&jQuery.find.matchesSelector(cur,selectors))){cur=matched.push(cur);break}return this.pushStack(matched.length>1?jQuery.unique(matched):matched)},index:function(elem){return elem?"string"==typeof elem?core_indexOf.call(jQuery(elem),this[0]):core_indexOf.call(this,elem.jquery?elem[0]:elem):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(selector,context){var set="string"==typeof selector?jQuery(selector,context):jQuery.makeArray(selector&&selector.nodeType?[selector]:selector),all=jQuery.merge(this.get(),set);return this.pushStack(jQuery.unique(all))},addBack:function(selector){return this.add(null==selector?this.prevObject:this.prevObject.filter(selector))}}),jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&11!==parent.nodeType?parent:null},parents:function(elem){return jQuery.dir(elem,"parentNode")},parentsUntil:function(elem,i,until){return jQuery.dir(elem,"parentNode",until)},next:function(elem){return sibling(elem,"nextSibling")},prev:function(elem){return sibling(elem,"previousSibling")},nextAll:function(elem){return jQuery.dir(elem,"nextSibling")},prevAll:function(elem){return jQuery.dir(elem,"previousSibling")},nextUntil:function(elem,i,until){return jQuery.dir(elem,"nextSibling",until)},prevUntil:function(elem,i,until){return jQuery.dir(elem,"previousSibling",until)},siblings:function(elem){return jQuery.sibling((elem.parentNode||{}).firstChild,elem)},children:function(elem){return jQuery.sibling(elem.firstChild)},contents:function(elem){return jQuery.nodeName(elem,"iframe")?elem.contentDocument||elem.contentWindow.document:jQuery.merge([],elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(until,selector){var matched=jQuery.map(this,fn,until);return"Until"!==name.slice(-5)&&(selector=until),selector&&"string"==typeof selector&&(matched=jQuery.filter(selector,matched)),this.length>1&&(guaranteedUnique[name]||jQuery.unique(matched),"p"===name[0]&&matched.reverse()),this.pushStack(matched)}}),jQuery.extend({filter:function(expr,elems,not){var elem=elems[0];return not&&(expr=":not("+expr+")"),1===elems.length&&1===elem.nodeType?jQuery.find.matchesSelector(elem,expr)?[elem]:[]:jQuery.find.matches(expr,jQuery.grep(elems,function(elem){return 1===elem.nodeType}))},dir:function(elem,dir,until){for(var matched=[],truncate=until!==undefined;(elem=elem[dir])&&9!==elem.nodeType;)if(1===elem.nodeType){if(truncate&&jQuery(elem).is(until))break;matched.push(elem)}return matched},sibling:function(n,elem){for(var matched=[];n;n=n.nextSibling)1===n.nodeType&&n!==elem&&matched.push(n);return matched}});var rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,rtagName=/<([\w:]+)/,rhtml=/<|&#?\w+;/,rnoInnerhtml=/<(?:script|style|link)/i,manipulation_rcheckableType=/^(?:checkbox|radio)$/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptType=/^$|\/(?:java|ecma)script/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option,wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.col=wrapMap.thead,wrapMap.th=wrapMap.td,jQuery.fn.extend({text:function(value){return jQuery.access(this,function(value){return value===undefined?jQuery.text(this):this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(value))},null,value,arguments.length)},wrapAll:function(html){var wrap;return jQuery.isFunction(html)?this.each(function(i){jQuery(this).wrapAll(html.call(this,i))}):(this[0]&&(wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&wrap.insertBefore(this[0]),wrap.map(function(){for(var elem=this;elem.firstElementChild;)elem=elem.firstElementChild;return elem}).append(this)),this)},wrapInner:function(html){return jQuery.isFunction(html)?this.each(function(i){jQuery(this).wrapInner(html.call(this,i))}):this.each(function(){var self=jQuery(this),contents=self.contents();contents.length?contents.wrapAll(html):self.append(html)})},wrap:function(html){var isFunction=jQuery.isFunction(html);return this.each(function(i){jQuery(this).wrapAll(isFunction?html.call(this,i):html)})},unwrap:function(){return this.parent().each(function(){jQuery.nodeName(this,"body")||jQuery(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(elem){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(elem)})},prepend:function(){return this.domManip(arguments,!0,function(elem){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.insertBefore(elem,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(elem){this.parentNode&&this.parentNode.insertBefore(elem,this)})},after:function(){return this.domManip(arguments,!1,function(elem){this.parentNode&&this.parentNode.insertBefore(elem,this.nextSibling)})},remove:function(selector,keepData){for(var elem,i=0,l=this.length;l>i;i++)elem=this[i],(!selector||jQuery.filter(selector,[elem]).length>0)&&(keepData||1!==elem.nodeType||jQuery.cleanData(getAll(elem)),elem.parentNode&&(keepData&&jQuery.contains(elem.ownerDocument,elem)&&setGlobalEval(getAll(elem,"script")),elem.parentNode.removeChild(elem)));return this},empty:function(){for(var elem,i=0,l=this.length;l>i;i++)elem=this[i],1===elem.nodeType&&(jQuery.cleanData(getAll(elem,!1)),elem.textContent="");return this},clone:function(dataAndEvents,deepDataAndEvents){return dataAndEvents=null==dataAndEvents?!1:dataAndEvents,deepDataAndEvents=null==deepDataAndEvents?dataAndEvents:deepDataAndEvents,this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents)})},html:function(value){return jQuery.access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(value===undefined&&1===elem.nodeType)return elem.innerHTML;if("string"==typeof value&&!rnoInnerhtml.test(value)&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=value.replace(rxhtmlTag,"<$1></$2>");try{for(;l>i;i++)elem=this[i]||{},1===elem.nodeType&&(jQuery.cleanData(getAll(elem,!1)),elem.innerHTML=value);elem=0}catch(e){}}elem&&this.empty().append(value)},null,value,arguments.length)},replaceWith:function(value){var isFunction=jQuery.isFunction(value);return isFunction||"string"==typeof value||(value=jQuery(value).not(this).detach()),""!==value?this.domManip([value],!0,function(elem){var next=this.nextSibling,parent=this.parentNode;parent&&(jQuery(this).remove(),parent.insertBefore(elem,next))}):this.remove()},detach:function(selector){return this.remove(selector,!0)},domManip:function(args,table,callback){args=core_concat.apply([],args);var fragment,first,scripts,hasScripts,node,doc,i=0,l=this.length,set=this,iNoClone=l-1,value=args[0],isFunction=jQuery.isFunction(value);if(isFunction||!(1>=l||"string"!=typeof value||jQuery.support.checkClone)&&rchecked.test(value))return this.each(function(index){var self=set.eq(index);isFunction&&(args[0]=value.call(this,index,table?self.html():undefined)),self.domManip(args,table,callback)});if(l&&(fragment=jQuery.buildFragment(args,this[0].ownerDocument,!1,this),first=fragment.firstChild,1===fragment.childNodes.length&&(fragment=first),first)){for(table=table&&jQuery.nodeName(first,"tr"),scripts=jQuery.map(getAll(fragment,"script"),disableScript),hasScripts=scripts.length;l>i;i++)node=fragment,i!==iNoClone&&(node=jQuery.clone(node,!0,!0),hasScripts&&jQuery.merge(scripts,getAll(node,"script"))),callback.call(table&&jQuery.nodeName(this[i],"table")?findOrAppend(this[i],"tbody"):this[i],node,i);if(hasScripts)for(doc=scripts[scripts.length-1].ownerDocument,jQuery.map(scripts,restoreScript),i=0;hasScripts>i;i++)node=scripts[i],rscriptType.test(node.type||"")&&!data_priv.access(node,"globalEval")&&jQuery.contains(doc,node)&&(node.src?jQuery.ajax({url:node.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):jQuery.globalEval(node.textContent.replace(rcleanScript,"")))}return this}}),jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){for(var elems,ret=[],insert=jQuery(selector),last=insert.length-1,i=0;last>=i;i++)elems=i===last?this:this.clone(!0),jQuery(insert[i])[original](elems),core_push.apply(ret,elems.get());return this.pushStack(ret)}}),jQuery.extend({clone:function(elem,dataAndEvents,deepDataAndEvents){var i,l,srcElements,destElements,clone=elem.cloneNode(!0),inPage=jQuery.contains(elem.ownerDocument,elem);if(!(jQuery.support.noCloneChecked||1!==elem.nodeType&&11!==elem.nodeType||jQuery.isXMLDoc(elem)))for(destElements=getAll(clone),srcElements=getAll(elem),i=0,l=srcElements.length;l>i;i++)fixInput(srcElements[i],destElements[i]);if(dataAndEvents)if(deepDataAndEvents)for(srcElements=srcElements||getAll(elem),destElements=destElements||getAll(clone),i=0,l=srcElements.length;l>i;i++)cloneCopyEvent(srcElements[i],destElements[i]);else cloneCopyEvent(elem,clone);return destElements=getAll(clone,"script"),destElements.length>0&&setGlobalEval(destElements,!inPage&&getAll(elem,"script")),clone},buildFragment:function(elems,context,scripts,selection){for(var elem,tmp,tag,wrap,contains,j,i=0,l=elems.length,fragment=context.createDocumentFragment(),nodes=[];l>i;i++)if(elem=elems[i],elem||0===elem)if("object"===jQuery.type(elem))jQuery.merge(nodes,elem.nodeType?[elem]:elem);else if(rhtml.test(elem)){for(tmp=tmp||fragment.appendChild(context.createElement("div")),tag=(rtagName.exec(elem)||["",""])[1].toLowerCase(),wrap=wrapMap[tag]||wrapMap._default,tmp.innerHTML=wrap[1]+elem.replace(rxhtmlTag,"<$1></$2>")+wrap[2],j=wrap[0];j--;)tmp=tmp.firstChild;jQuery.merge(nodes,tmp.childNodes),tmp=fragment.firstChild,tmp.textContent=""}else nodes.push(context.createTextNode(elem));for(fragment.textContent="",i=0;elem=nodes[i++];)if((!selection||-1===jQuery.inArray(elem,selection))&&(contains=jQuery.contains(elem.ownerDocument,elem),tmp=getAll(fragment.appendChild(elem),"script"),contains&&setGlobalEval(tmp),scripts))for(j=0;elem=tmp[j++];)rscriptType.test(elem.type||"")&&scripts.push(elem);return fragment},cleanData:function(elems,acceptData){for(var data,elem,type,l=elems.length,i=0,special=jQuery.event.special;l>i;i++){if(elem=elems[i],(acceptData||jQuery.acceptData(elem))&&(data=data_priv.access(elem)))for(type in data.events)special[type]?jQuery.event.remove(elem,type):jQuery.removeEvent(elem,type,data.handle);data_discard(elem)}}});var curCSS,iframe,rdisplayswap=/^(none|table(?!-c[ea]).+)/,rmargin=/^margin/,rnumsplit=RegExp("^("+core_pnum+")(.*)$","i"),rnumnonpx=RegExp("^("+core_pnum+")(?!px)[a-z%]+$","i"),rrelNum=RegExp("^([+-])=("+core_pnum+")","i"),elemdisplay={BODY:"block"},cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:0,fontWeight:400},cssExpand=["Top","Right","Bottom","Left"],cssPrefixes=["Webkit","O","Moz","ms"];
jQuery.fn.extend({css:function(name,value){return jQuery.access(this,function(elem,name,value){var styles,len,map={},i=0;if(jQuery.isArray(name)){for(styles=getStyles(elem),len=name.length;len>i;i++)map[name[i]]=jQuery.css(elem,name[i],!1,styles);return map}return value!==undefined?jQuery.style(elem,name,value):jQuery.css(elem,name)},name,value,arguments.length>1)},show:function(){return showHide(this,!0)},hide:function(){return showHide(this)},toggle:function(state){var bool="boolean"==typeof state;return this.each(function(){(bool?state:isHidden(this))?jQuery(this).show():jQuery(this).hide()})}}),jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity");return""===ret?"1":ret}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(elem,name,value,extra){if(elem&&3!==elem.nodeType&&8!==elem.nodeType&&elem.style){var ret,type,hooks,origName=jQuery.camelCase(name),style=elem.style;return name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(style,origName)),hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName],value===undefined?hooks&&"get"in hooks&&(ret=hooks.get(elem,!1,extra))!==undefined?ret:style[name]:(type=typeof value,"string"===type&&(ret=rrelNum.exec(value))&&(value=(ret[1]+1)*ret[2]+parseFloat(jQuery.css(elem,name)),type="number"),null==value||"number"===type&&isNaN(value)||("number"!==type||jQuery.cssNumber[origName]||(value+="px"),jQuery.support.clearCloneStyle||""!==value||0!==name.indexOf("background")||(style[name]="inherit"),hooks&&"set"in hooks&&(value=hooks.set(elem,value,extra))===undefined||(style[name]=value)),undefined)}},css:function(elem,name,extra,styles){var val,num,hooks,origName=jQuery.camelCase(name);return name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(elem.style,origName)),hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName],hooks&&"get"in hooks&&(val=hooks.get(elem,!0,extra)),val===undefined&&(val=curCSS(elem,name,styles)),"normal"===val&&name in cssNormalTransform&&(val=cssNormalTransform[name]),""===extra||extra?(num=parseFloat(val),extra===!0||jQuery.isNumeric(num)?num||0:val):val}}),curCSS=function(elem,name,_computed){var width,minWidth,maxWidth,computed=_computed||getStyles(elem),ret=computed?computed.getPropertyValue(name)||computed[name]:undefined,style=elem.style;return computed&&(""!==ret||jQuery.contains(elem.ownerDocument,elem)||(ret=jQuery.style(elem,name)),rnumnonpx.test(ret)&&rmargin.test(name)&&(width=style.width,minWidth=style.minWidth,maxWidth=style.maxWidth,style.minWidth=style.maxWidth=style.width=ret,ret=computed.width,style.width=width,style.minWidth=minWidth,style.maxWidth=maxWidth)),ret},jQuery.each(["height","width"],function(i,name){jQuery.cssHooks[name]={get:function(elem,computed,extra){return computed?0===elem.offsetWidth&&rdisplayswap.test(jQuery.css(elem,"display"))?jQuery.swap(elem,cssShow,function(){return getWidthOrHeight(elem,name,extra)}):getWidthOrHeight(elem,name,extra):undefined},set:function(elem,value,extra){var styles=extra&&getStyles(elem);return setPositiveNumber(elem,value,extra?augmentWidthOrHeight(elem,name,extra,jQuery.support.boxSizing&&"border-box"===jQuery.css(elem,"boxSizing",!1,styles),styles):0)}}}),jQuery(function(){jQuery.support.reliableMarginRight||(jQuery.cssHooks.marginRight={get:function(elem,computed){return computed?jQuery.swap(elem,{display:"inline-block"},curCSS,[elem,"marginRight"]):undefined}}),!jQuery.support.pixelPosition&&jQuery.fn.position&&jQuery.each(["top","left"],function(i,prop){jQuery.cssHooks[prop]={get:function(elem,computed){return computed?(computed=curCSS(elem,prop),rnumnonpx.test(computed)?jQuery(elem).position()[prop]+"px":computed):undefined}}})}),jQuery.expr&&jQuery.expr.filters&&(jQuery.expr.filters.hidden=function(elem){return 0>=elem.offsetWidth&&0>=elem.offsetHeight},jQuery.expr.filters.visible=function(elem){return!jQuery.expr.filters.hidden(elem)}),jQuery.each({margin:"",padding:"",border:"Width"},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function(value){for(var i=0,expanded={},parts="string"==typeof value?value.split(" "):[value];4>i;i++)expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0];return expanded}},rmargin.test(prefix)||(jQuery.cssHooks[prefix+suffix].set=setPositiveNumber)});var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var elements=jQuery.prop(this,"elements");return elements?jQuery.makeArray(elements):this}).filter(function(){var type=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(type)&&(this.checked||!manipulation_rcheckableType.test(type))}).map(function(i,elem){var val=jQuery(this).val();return null==val?null:jQuery.isArray(val)?jQuery.map(val,function(val){return{name:elem.name,value:val.replace(rCRLF,"\r\n")}}):{name:elem.name,value:val.replace(rCRLF,"\r\n")}}).get()}}),jQuery.param=function(a,traditional){var prefix,s=[],add=function(key,value){value=jQuery.isFunction(value)?value():null==value?"":value,s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value)};if(traditional===undefined&&(traditional=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional),jQuery.isArray(a)||a.jquery&&!jQuery.isPlainObject(a))jQuery.each(a,function(){add(this.name,this.value)});else for(prefix in a)buildParams(prefix,a[prefix],traditional,add);return s.join("&").replace(r20,"+")},jQuery.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(i,name){jQuery.fn[name]=function(data,fn){return arguments.length>0?this.on(name,null,data,fn):this.trigger(name)}}),jQuery.fn.extend({hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)},bind:function(types,data,fn){return this.on(types,null,data,fn)},unbind:function(types,fn){return this.off(types,null,fn)},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn)},undelegate:function(selector,types,fn){return 1===arguments.length?this.off(selector,"**"):this.off(types,selector||"**",fn)}});var ajaxLocParts,ajaxLocation,ajax_nonce=jQuery.now(),ajax_rquery=/\?/,rhash=/#.*$/,rts=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)$/gm,rlocalProtocol=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,rurl=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,_load=jQuery.fn.load,prefilters={},transports={},allTypes="*/".concat("*");try{ajaxLocation=location.href}catch(e){ajaxLocation=document.createElement("a"),ajaxLocation.href="",ajaxLocation=ajaxLocation.href}ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[],jQuery.fn.load=function(url,params,callback){if("string"!=typeof url&&_load)return _load.apply(this,arguments);var selector,type,response,self=this,off=url.indexOf(" ");return off>=0&&(selector=url.slice(off),url=url.slice(0,off)),jQuery.isFunction(params)?(callback=params,params=undefined):params&&"object"==typeof params&&(type="POST"),self.length>0&&jQuery.ajax({url:url,type:type,dataType:"html",data:params}).done(function(responseText){response=arguments,self.html(selector?jQuery("<div>").append(jQuery.parseHTML(responseText)).find(selector):responseText)}).complete(callback&&function(jqXHR,status){self.each(callback,response||[jqXHR.responseText,status,jqXHR])}),this},jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(i,type){jQuery.fn[type]=function(fn){return this.on(type,fn)}}),jQuery.each(["get","post"],function(i,method){jQuery[method]=function(url,data,callback,type){return jQuery.isFunction(data)&&(type=type||callback,callback=data,data=undefined),jQuery.ajax({url:url,type:method,dataType:type,data:data,success:callback})}}),jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ajaxLocation,type:"GET",isLocal:rlocalProtocol.test(ajaxLocParts[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(target,settings){return settings?ajaxExtend(ajaxExtend(target,jQuery.ajaxSettings),settings):ajaxExtend(jQuery.ajaxSettings,target)},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){function done(status,nativeStatusText,responses,headers){var isSuccess,success,error,response,modified,statusText=nativeStatusText;2!==state&&(state=2,timeoutTimer&&clearTimeout(timeoutTimer),transport=undefined,responseHeadersString=headers||"",jqXHR.readyState=status>0?4:0,isSuccess=status>=200&&300>status||304===status,responses&&(response=ajaxHandleResponses(s,jqXHR,responses)),response=ajaxConvert(s,response,jqXHR,isSuccess),isSuccess?(s.ifModified&&(modified=jqXHR.getResponseHeader("Last-Modified"),modified&&(jQuery.lastModified[cacheURL]=modified),modified=jqXHR.getResponseHeader("etag"),modified&&(jQuery.etag[cacheURL]=modified)),204===status?statusText="nocontent":304===status?statusText="notmodified":(statusText=response.state,success=response.data,error=response.error,isSuccess=!error)):(error=statusText,(status||!statusText)&&(statusText="error",0>status&&(status=0))),jqXHR.status=status,jqXHR.statusText=(nativeStatusText||statusText)+"",isSuccess?deferred.resolveWith(callbackContext,[success,statusText,jqXHR]):deferred.rejectWith(callbackContext,[jqXHR,statusText,error]),jqXHR.statusCode(statusCode),statusCode=undefined,fireGlobals&&globalEventContext.trigger(isSuccess?"ajaxSuccess":"ajaxError",[jqXHR,s,isSuccess?success:error]),completeDeferred.fireWith(callbackContext,[jqXHR,statusText]),fireGlobals&&(globalEventContext.trigger("ajaxComplete",[jqXHR,s]),--jQuery.active||jQuery.event.trigger("ajaxStop")))}"object"==typeof url&&(options=url,url=undefined),options=options||{};var transport,cacheURL,responseHeadersString,responseHeaders,timeoutTimer,parts,fireGlobals,i,s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=s.context&&(callbackContext.nodeType||callbackContext.jquery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},state=0,strAbort="canceled",jqXHR={readyState:0,getResponseHeader:function(key){var match;if(2===state){if(!responseHeaders)for(responseHeaders={};match=rheaders.exec(responseHeadersString);)responseHeaders[match[1].toLowerCase()]=match[2];match=responseHeaders[key.toLowerCase()]}return null==match?null:match},getAllResponseHeaders:function(){return 2===state?responseHeadersString:null},setRequestHeader:function(name,value){var lname=name.toLowerCase();return state||(name=requestHeadersNames[lname]=requestHeadersNames[lname]||name,requestHeaders[name]=value),this},overrideMimeType:function(type){return state||(s.mimeType=type),this},statusCode:function(map){var code;if(map)if(2>state)for(code in map)statusCode[code]=[statusCode[code],map[code]];else jqXHR.always(map[jqXHR.status]);return this},abort:function(statusText){var finalText=statusText||strAbort;return transport&&transport.abort(finalText),done(0,finalText),this}};if(deferred.promise(jqXHR).complete=completeDeferred.add,jqXHR.success=jqXHR.done,jqXHR.error=jqXHR.fail,s.url=((url||s.url||ajaxLocation)+"").replace(rhash,"").replace(rprotocol,ajaxLocParts[1]+"//"),s.type=options.method||options.type||s.method||s.type,s.dataTypes=jQuery.trim(s.dataType||"*").toLowerCase().match(core_rnotwhite)||[""],null==s.crossDomain&&(parts=rurl.exec(s.url.toLowerCase()),s.crossDomain=!(!parts||parts[1]===ajaxLocParts[1]&&parts[2]===ajaxLocParts[2]&&(parts[3]||("http:"===parts[1]?"80":"443"))===(ajaxLocParts[3]||("http:"===ajaxLocParts[1]?"80":"443")))),s.data&&s.processData&&"string"!=typeof s.data&&(s.data=jQuery.param(s.data,s.traditional)),inspectPrefiltersOrTransports(prefilters,s,options,jqXHR),2===state)return jqXHR;fireGlobals=s.global,fireGlobals&&0===jQuery.active++&&jQuery.event.trigger("ajaxStart"),s.type=s.type.toUpperCase(),s.hasContent=!rnoContent.test(s.type),cacheURL=s.url,s.hasContent||(s.data&&(cacheURL=s.url+=(ajax_rquery.test(cacheURL)?"&":"?")+s.data,delete s.data),s.cache===!1&&(s.url=rts.test(cacheURL)?cacheURL.replace(rts,"$1_="+ajax_nonce++):cacheURL+(ajax_rquery.test(cacheURL)?"&":"?")+"_="+ajax_nonce++)),s.ifModified&&(jQuery.lastModified[cacheURL]&&jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[cacheURL]),jQuery.etag[cacheURL]&&jqXHR.setRequestHeader("If-None-Match",jQuery.etag[cacheURL])),(s.data&&s.hasContent&&s.contentType!==!1||options.contentType)&&jqXHR.setRequestHeader("Content-Type",s.contentType),jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+("*"!==s.dataTypes[0]?", "+allTypes+"; q=0.01":""):s.accepts["*"]);for(i in s.headers)jqXHR.setRequestHeader(i,s.headers[i]);if(s.beforeSend&&(s.beforeSend.call(callbackContext,jqXHR,s)===!1||2===state))return jqXHR.abort();strAbort="abort";for(i in{success:1,error:1,complete:1})jqXHR[i](s[i]);if(transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR)){jqXHR.readyState=1,fireGlobals&&globalEventContext.trigger("ajaxSend",[jqXHR,s]),s.async&&s.timeout>0&&(timeoutTimer=setTimeout(function(){jqXHR.abort("timeout")},s.timeout));try{state=1,transport.send(requestHeaders,done)}catch(e){if(!(2>state))throw e;done(-1,e)}}else done(-1,"No Transport");return jqXHR},getScript:function(url,callback){return jQuery.get(url,undefined,callback,"script")},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")}}),jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(text){return jQuery.globalEval(text),text}}}),jQuery.ajaxPrefilter("script",function(s){s.cache===undefined&&(s.cache=!1),s.crossDomain&&(s.type="GET")}),jQuery.ajaxTransport("script",function(s){if(s.crossDomain){var script,callback;return{send:function(_,complete){script=jQuery("<script>").prop({async:!0,charset:s.scriptCharset,src:s.url}).on("load error",callback=function(evt){script.remove(),callback=null,evt&&complete("error"===evt.type?404:200,evt.type)}),document.head.appendChild(script[0])},abort:function(){callback&&callback()}}}});var oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var callback=oldCallbacks.pop()||jQuery.expando+"_"+ajax_nonce++;return this[callback]=!0,callback}}),jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var callbackName,overwritten,responseContainer,jsonProp=s.jsonp!==!1&&(rjsonp.test(s.url)?"url":"string"==typeof s.data&&!(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(s.data)&&"data");return jsonProp||"jsonp"===s.dataTypes[0]?(callbackName=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback,jsonProp?s[jsonProp]=s[jsonProp].replace(rjsonp,"$1"+callbackName):s.jsonp!==!1&&(s.url+=(ajax_rquery.test(s.url)?"&":"?")+s.jsonp+"="+callbackName),s.converters["script json"]=function(){return responseContainer||jQuery.error(callbackName+" was not called"),responseContainer[0]},s.dataTypes[0]="json",overwritten=window[callbackName],window[callbackName]=function(){responseContainer=arguments},jqXHR.always(function(){window[callbackName]=overwritten,s[callbackName]&&(s.jsonpCallback=originalSettings.jsonpCallback,oldCallbacks.push(callbackName)),responseContainer&&jQuery.isFunction(overwritten)&&overwritten(responseContainer[0]),responseContainer=overwritten=undefined}),"script"):undefined}),jQuery.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var xhrSupported=jQuery.ajaxSettings.xhr(),xhrSuccessStatus={0:200,1223:204},xhrId=0,xhrCallbacks={};window.ActiveXObject&&jQuery(window).on("unload",function(){for(var key in xhrCallbacks)xhrCallbacks[key]();xhrCallbacks=undefined}),jQuery.support.cors=!!xhrSupported&&"withCredentials"in xhrSupported,jQuery.support.ajax=xhrSupported=!!xhrSupported,jQuery.ajaxTransport(function(options){var callback;return jQuery.support.cors||xhrSupported&&!options.crossDomain?{send:function(headers,complete){var i,id,xhr=options.xhr();if(xhr.open(options.type,options.url,options.async,options.username,options.password),options.xhrFields)for(i in options.xhrFields)xhr[i]=options.xhrFields[i];options.mimeType&&xhr.overrideMimeType&&xhr.overrideMimeType(options.mimeType),options.crossDomain||headers["X-Requested-With"]||(headers["X-Requested-With"]="XMLHttpRequest");for(i in headers)xhr.setRequestHeader(i,headers[i]);callback=function(type){return function(){callback&&(delete xhrCallbacks[id],callback=xhr.onload=xhr.onerror=null,"abort"===type?xhr.abort():"error"===type?complete(xhr.status||404,xhr.statusText):complete(xhrSuccessStatus[xhr.status]||xhr.status,xhr.statusText,"string"==typeof xhr.responseText?{text:xhr.responseText}:undefined,xhr.getAllResponseHeaders()))}},xhr.onload=callback(),xhr.onerror=callback("error"),callback=xhrCallbacks[id=xhrId++]=callback("abort"),xhr.send(options.hasContent&&options.data||null)},abort:function(){callback&&callback()}}:undefined});var fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rfxnum=RegExp("^(?:([+-])=|)("+core_pnum+")([a-z%]*)$","i"),rrun=/queueHooks$/,animationPrefilters=[defaultPrefilter],tweeners={"*":[function(prop,value){var end,unit,tween=this.createTween(prop,value),parts=rfxnum.exec(value),target=tween.cur(),start=+target||0,scale=1,maxIterations=20;if(parts){if(end=+parts[2],unit=parts[3]||(jQuery.cssNumber[prop]?"":"px"),"px"!==unit&&start){start=jQuery.css(tween.elem,prop,!0)||end||1;do scale=scale||".5",start/=scale,jQuery.style(tween.elem,prop,start+unit);while(scale!==(scale=tween.cur()/target)&&1!==scale&&--maxIterations)}tween.unit=unit,tween.start=start,tween.end=parts[1]?start+(parts[1]+1)*end:end}return tween}]};jQuery.Animation=jQuery.extend(Animation,{tweener:function(props,callback){jQuery.isFunction(props)?(callback=props,props=["*"]):props=props.split(" ");for(var prop,index=0,length=props.length;length>index;index++)prop=props[index],tweeners[prop]=tweeners[prop]||[],tweeners[prop].unshift(callback)},prefilter:function(callback,prepend){prepend?animationPrefilters.unshift(callback):animationPrefilters.push(callback)}}),jQuery.Tween=Tween,Tween.prototype={constructor:Tween,init:function(elem,options,prop,end,easing,unit){this.elem=elem,this.prop=prop,this.easing=easing||"swing",this.options=options,this.start=this.now=this.cur(),this.end=end,this.unit=unit||(jQuery.cssNumber[prop]?"":"px")},cur:function(){var hooks=Tween.propHooks[this.prop];return hooks&&hooks.get?hooks.get(this):Tween.propHooks._default.get(this)},run:function(percent){var eased,hooks=Tween.propHooks[this.prop];return this.pos=eased=this.options.duration?jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration):percent,this.now=(this.end-this.start)*eased+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),hooks&&hooks.set?hooks.set(this):Tween.propHooks._default.set(this),this}},Tween.prototype.init.prototype=Tween.prototype,Tween.propHooks={_default:{get:function(tween){var result;return null==tween.elem[tween.prop]||tween.elem.style&&null!=tween.elem.style[tween.prop]?(result=jQuery.css(tween.elem,tween.prop,""),result&&"auto"!==result?result:0):tween.elem[tween.prop]},set:function(tween){jQuery.fx.step[tween.prop]?jQuery.fx.step[tween.prop](tween):tween.elem.style&&(null!=tween.elem.style[jQuery.cssProps[tween.prop]]||jQuery.cssHooks[tween.prop])?jQuery.style(tween.elem,tween.prop,tween.now+tween.unit):tween.elem[tween.prop]=tween.now}}},Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(tween){tween.elem.nodeType&&tween.elem.parentNode&&(tween.elem[tween.prop]=tween.now)}},jQuery.each(["toggle","show","hide"],function(i,name){var cssFn=jQuery.fn[name];jQuery.fn[name]=function(speed,easing,callback){return null==speed||"boolean"==typeof speed?cssFn.apply(this,arguments):this.animate(genFx(name,!0),speed,easing,callback)}}),jQuery.fn.extend({fadeTo:function(speed,to,easing,callback){return this.filter(isHidden).css("opacity",0).show().end().animate({opacity:to},speed,easing,callback)},animate:function(prop,speed,easing,callback){var empty=jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback),doAnimation=function(){var anim=Animation(this,jQuery.extend({},prop),optall);doAnimation.finish=function(){anim.stop(!0)},(empty||jQuery._data(this,"finish"))&&anim.stop(!0)};return doAnimation.finish=doAnimation,empty||optall.queue===!1?this.each(doAnimation):this.queue(optall.queue,doAnimation)},stop:function(type,clearQueue,gotoEnd){var stopQueue=function(hooks){var stop=hooks.stop;delete hooks.stop,stop(gotoEnd)};return"string"!=typeof type&&(gotoEnd=clearQueue,clearQueue=type,type=undefined),clearQueue&&type!==!1&&this.queue(type||"fx",[]),this.each(function(){var dequeue=!0,index=null!=type&&type+"queueHooks",timers=jQuery.timers,data=jQuery._data(this);if(index)data[index]&&data[index].stop&&stopQueue(data[index]);else for(index in data)data[index]&&data[index].stop&&rrun.test(index)&&stopQueue(data[index]);for(index=timers.length;index--;)timers[index].elem!==this||null!=type&&timers[index].queue!==type||(timers[index].anim.stop(gotoEnd),dequeue=!1,timers.splice(index,1));(dequeue||!gotoEnd)&&jQuery.dequeue(this,type)})},finish:function(type){return type!==!1&&(type=type||"fx"),this.each(function(){var index,data=jQuery._data(this),queue=data[type+"queue"],hooks=data[type+"queueHooks"],timers=jQuery.timers,length=queue?queue.length:0;for(data.finish=!0,jQuery.queue(this,type,[]),hooks&&hooks.cur&&hooks.cur.finish&&hooks.cur.finish.call(this),index=timers.length;index--;)timers[index].elem===this&&timers[index].queue===type&&(timers[index].anim.stop(!0),timers.splice(index,1));for(index=0;length>index;index++)queue[index]&&queue[index].finish&&queue[index].finish.call(this);delete data.finish})}}),jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback)}}),jQuery.speed=function(speed,easing,fn){var opt=speed&&"object"==typeof speed?jQuery.extend({},speed):{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};return opt.duration=jQuery.fx.off?0:"number"==typeof opt.duration?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default,(null==opt.queue||opt.queue===!0)&&(opt.queue="fx"),opt.old=opt.complete,opt.complete=function(){jQuery.isFunction(opt.old)&&opt.old.call(this),opt.queue&&jQuery.dequeue(this,opt.queue)},opt},jQuery.easing={linear:function(p){return p},swing:function(p){return.5-Math.cos(p*Math.PI)/2}},jQuery.timers=[],jQuery.fx=Tween.prototype.init,jQuery.fx.tick=function(){var timer,timers=jQuery.timers,i=0;for(fxNow=jQuery.now();timers.length>i;i++)timer=timers[i],timer()||timers[i]!==timer||timers.splice(i--,1);timers.length||jQuery.fx.stop(),fxNow=undefined},jQuery.fx.timer=function(timer){timer()&&jQuery.timers.push(timer)&&jQuery.fx.start()},jQuery.fx.interval=13,jQuery.fx.start=function(){timerId||(timerId=setInterval(jQuery.fx.tick,jQuery.fx.interval))},jQuery.fx.stop=function(){clearInterval(timerId),timerId=null},jQuery.fx.speeds={slow:600,fast:200,_default:400},jQuery.fx.step={},jQuery.expr&&jQuery.expr.filters&&(jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length}),jQuery.fn.offset=function(options){if(arguments.length)return options===undefined?this:this.each(function(i){jQuery.offset.setOffset(this,options,i)});var docElem,win,elem=this[0],box={top:0,left:0},doc=elem&&elem.ownerDocument;if(doc)return docElem=doc.documentElement,jQuery.contains(docElem,elem)?(typeof elem.getBoundingClientRect!==core_strundefined&&(box=elem.getBoundingClientRect()),win=getWindow(doc),{top:box.top+win.pageYOffset-docElem.clientTop,left:box.left+win.pageXOffset-docElem.clientLeft}):box},jQuery.offset={setOffset:function(elem,options,i){var curPosition,curLeft,curCSSTop,curTop,curOffset,curCSSLeft,calculatePosition,position=jQuery.css(elem,"position"),curElem=jQuery(elem),props={};"static"===position&&(elem.style.position="relative"),curOffset=curElem.offset(),curCSSTop=jQuery.css(elem,"top"),curCSSLeft=jQuery.css(elem,"left"),calculatePosition=("absolute"===position||"fixed"===position)&&(curCSSTop+curCSSLeft).indexOf("auto")>-1,calculatePosition?(curPosition=curElem.position(),curTop=curPosition.top,curLeft=curPosition.left):(curTop=parseFloat(curCSSTop)||0,curLeft=parseFloat(curCSSLeft)||0),jQuery.isFunction(options)&&(options=options.call(elem,i,curOffset)),null!=options.top&&(props.top=options.top-curOffset.top+curTop),null!=options.left&&(props.left=options.left-curOffset.left+curLeft),"using"in options?options.using.call(elem,props):curElem.css(props)}},jQuery.fn.extend({position:function(){if(this[0]){var offsetParent,offset,elem=this[0],parentOffset={top:0,left:0};return"fixed"===jQuery.css(elem,"position")?offset=elem.getBoundingClientRect():(offsetParent=this.offsetParent(),offset=this.offset(),jQuery.nodeName(offsetParent[0],"html")||(parentOffset=offsetParent.offset()),parentOffset.top+=jQuery.css(offsetParent[0],"borderTopWidth",!0),parentOffset.left+=jQuery.css(offsetParent[0],"borderLeftWidth",!0)),{top:offset.top-parentOffset.top-jQuery.css(elem,"marginTop",!0),left:offset.left-parentOffset.left-jQuery.css(elem,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var offsetParent=this.offsetParent||docElem;offsetParent&&!jQuery.nodeName(offsetParent,"html")&&"static"===jQuery.css(offsetParent,"position");)offsetParent=offsetParent.offsetParent;return offsetParent||docElem})}}),jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(method,prop){var top="pageYOffset"===prop;jQuery.fn[method]=function(val){return jQuery.access(this,function(elem,method,val){var win=getWindow(elem);return val===undefined?win?win[prop]:elem[method]:(win?win.scrollTo(top?window.pageXOffset:val,top?val:window.pageYOffset):elem[method]=val,undefined)},method,val,arguments.length,null)}}),jQuery.each({Height:"height",Width:"width"},function(name,type){jQuery.each({padding:"inner"+name,content:type,"":"outer"+name},function(defaultExtra,funcName){jQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&&(defaultExtra||"boolean"!=typeof margin),extra=defaultExtra||(margin===!0||value===!0?"margin":"border");return jQuery.access(this,function(elem,type,value){var doc;return jQuery.isWindow(elem)?elem.document.documentElement["client"+name]:9===elem.nodeType?(doc=elem.documentElement,Math.max(elem.body["scroll"+name],doc["scroll"+name],elem.body["offset"+name],doc["offset"+name],doc["client"+name])):value===undefined?jQuery.css(elem,type,extra):jQuery.style(elem,type,value,extra)},type,chainable?margin:undefined,chainable,null)}})}),jQuery.fn.andSelf=jQuery.fn.addBack,"object"==typeof module&&"object"==typeof module.exports?module.exports=jQuery:"function"==typeof define&&define.amd&&define("jquery",[],function(){return jQuery}),"object"==typeof window&&"object"==typeof window.document&&(window.jQuery=window.$=jQuery)})(this);
var sprintf=function(){function e(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function t(e,t){for(var n=[];t>0;n[--t]=e);return n.join("")}var n=function(){return n.cache.hasOwnProperty(arguments[0])||(n.cache[arguments[0]]=n.parse(arguments[0])),n.format.call(null,n.cache[arguments[0]],arguments)};return n.format=function(n,i){var r,o,a,s,l,c,u,d=1,p=n.length,f="",h=[];for(o=0;p>o;o++)if(f=e(n[o]),"string"===f)h.push(n[o]);else if("array"===f){if(s=n[o],s[2])for(r=i[d],a=0;s[2].length>a;a++){if(!r.hasOwnProperty(s[2][a]))throw sprintf('[sprintf] property "%s" does not exist',s[2][a]);r=r[s[2][a]]}else r=s[1]?i[s[1]]:i[d++];if(/[^s]/.test(s[8])&&"number"!=e(r))throw sprintf("[sprintf] expecting number but found %s",e(r));switch(s[8]){case"b":r=r.toString(2);break;case"c":r=String.fromCharCode(r);break;case"d":r=parseInt(r,10);break;case"e":r=s[7]?r.toExponential(s[7]):r.toExponential();break;case"f":r=s[7]?parseFloat(r).toFixed(s[7]):parseFloat(r);break;case"o":r=r.toString(8);break;case"s":r=(r+="")&&s[7]?r.substring(0,s[7]):r;break;case"u":r=Math.abs(r);break;case"x":r=r.toString(16);break;case"X":r=r.toString(16).toUpperCase()}r=/[def]/.test(s[8])&&s[3]&&r>=0?"+"+r:r,c=s[4]?"0"==s[4]?"0":s[4].charAt(1):" ",u=s[6]-(r+"").length,l=s[6]?t(c,u):"",h.push(s[5]?r+l:l+r)}return h.join("")},n.cache={},n.parse=function(e){for(var t=e,n=[],i=[],r=0;t;){if(null!==(n=/^[^\x25]+/.exec(t)))i.push(n[0]);else if(null!==(n=/^\x25{2}/.exec(t)))i.push("%");else{if(null===(n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t)))throw"[sprintf] huh?";if(n[2]){r|=1;var o=[],a=n[2],s=[];if(null===(s=/^([a-z_][a-z_\d]*)/i.exec(a)))throw"[sprintf] huh?";for(o.push(s[1]);""!==(a=a.substring(s[0].length));)if(null!==(s=/^\.([a-z_][a-z_\d]*)/i.exec(a)))o.push(s[1]);else{if(null===(s=/^\[(\d+)\]/.exec(a)))throw"[sprintf] huh?";o.push(s[1])}n[2]=o}else r|=2;if(3===r)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";i.push(n)}t=t.substring(n[0].length)}return i},n}(),vsprintf=function(e,t){return t.unshift(e),sprintf.apply(null,t)};
!function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t).delegate('[data-dismiss="modal"]',"click.dismiss.modal",e.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};t.prototype={constructor:t,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,n=e.Event("show");this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var n=e.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),n&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1),t.enforceFocus(),n?t.$element.one(e.support.transition.end,function(){t.$element.focus().trigger("shown")}):t.$element.focus().trigger("shown")}))},hide:function(t){t&&t.preventDefault(),t=e.Event("hide"),t.stopPropagation(),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),e(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),e.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var t=this;e(document).on("focusin.modal",function(e){t.$element[0]===e.target||t.$element.has(e.target).length||t.$element.focus()})},escape:function(){var e=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(t){27==t.which&&e.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var t=this,n=setTimeout(function(){t.$element.off(e.support.transition.end),t.hideModal()},500);this.$element.one(e.support.transition.end,function(){clearTimeout(n),t.hideModal()})},hideModal:function(){this.$element.hide().trigger("hidden"),this.backdrop()},removeBackdrop:function(){this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=e.support.transition&&n;this.$backdrop=e('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?e.proxy(this.$element[0].focus,this.$element[0]):e.proxy(this.hide,this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),r?this.$backdrop.one(e.support.transition.end,t):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,e.proxy(this.removeBackdrop,this)):this.removeBackdrop()):t&&t()}},e.fn.modal=function(n){return this.each(function(){var r=e(this),o=r.data("modal"),i=e.extend({},e.fn.modal.defaults,r.data(),"object"==typeof n&&n);o||r.data("modal",o=new t(this,i)),"string"==typeof n?o[n]():i.show&&o.show()})},e.fn.modal.defaults={backdrop:"static",keyboard:!0,show:!0},e.fn.modal.Constructor=t,e(document).on("click.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),r=n.attr("href"),o=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),i=o.data("modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},o.data(),n.data());t.preventDefault(),o.modal(i).one("hide",function(){n.focus()})})}(window.jQuery),!function(e){"use strict";function t(){e(r).each(function(){n(e(this)).removeClass("open")})}function n(t){var n,r=t.attr("data-target");return r||(r=t.attr("href"),r=r&&/#/.test(r)&&r.replace(/.*(?=#[^\s]*$)/,"")),n=e(r),n.length||(n=t.parent()),n}var r="[data-toggle=dropdown]",o=function(t){var n=e(t).on("click.dropdown.data-api",this.toggle);e("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};o.prototype={constructor:o,toggle:function(){var r,o,i=e(this);if(!i.is(".disabled, :disabled"))return r=n(i),o=r.hasClass("open"),t(),o||(r.toggleClass("open"),i.focus()),!1},keydown:function(t){var r,o,i,a,s;if(/(38|40|27)/.test(t.keyCode)&&(r=e(this),t.preventDefault(),t.stopPropagation(),!r.is(".disabled, :disabled"))){if(i=n(r),a=i.hasClass("open"),!a||a&&27==t.keyCode)return r.click();o=e("[role=menu] li:not(.divider) a",i),o.length&&(s=o.index(o.filter(":focus")),38==t.keyCode&&s>0&&s--,40==t.keyCode&&o.length-1>s&&s++,~s||(s=0),o.eq(s).focus())}}},e.fn.dropdown=function(t){return this.each(function(){var n=e(this),r=n.data("dropdown");r||n.data("dropdown",r=new o(this)),"string"==typeof t&&r[t].call(n)})},e.fn.dropdown.Constructor=o,e(document).on("click.dropdown.data-api touchstart.dropdown.data-api",t).on("click.dropdown touchstart.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown.data-api touchstart.dropdown.data-api",r,o.prototype.toggle).on("keydown.dropdown.data-api touchstart.dropdown.data-api",r+", [role=menu]",o.prototype.keydown)}(window.jQuery),!function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,r){var o,i;this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.enabled=!0,"click"==this.options.trigger?this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this)):"manual"!=this.options.trigger&&(o="hover"==this.options.trigger?"mouseenter":"focus",i="hover"==this.options.trigger?"mouseleave":"blur",this.$element.on(o+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,e.proxy(this.leave,this))),this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){return t=e.extend({},e.fn[this.type].defaults,t,this.$element.data()),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},enter:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);return n.options.delay&&n.options.delay.show?(clearTimeout(this.timeout),n.hoverState="in",this.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show),void 0):n.show()},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);return this.timeout&&clearTimeout(this.timeout),n.options.delay&&n.options.delay.hide?(n.hoverState="out",this.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide),void 0):n.hide()},show:function(){var e,t,n,r,o,i,a;if(this.hasContent()&&this.enabled){switch(e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),i="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,t=/in/.test(i),e.detach().css({top:0,left:0,display:"block"}).insertAfter(this.$element),n=this.getPosition(t),r=e[0].offsetWidth,o=e[0].offsetHeight,t?i.split(" ")[1]:i){case"bottom":a={top:n.top+n.height,left:n.left+n.width/2-r/2};break;case"top":a={top:n.top-o,left:n.left+n.width/2-r/2};break;case"left":a={top:n.top+n.height/2-o/2,left:n.left-r};break;case"right":a={top:n.top+n.height/2-o/2,left:n.left+n.width}}e.offset(a).addClass(i).addClass("in")}},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){function t(){var t=setTimeout(function(){n.off(e.support.transition.end).detach()},500);n.one(e.support.transition.end,function(){clearTimeout(t),n.detach()})}var n=this.tip();return n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?t():n.detach(),this},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").removeAttr("title")},hasContent:function(){return this.getTitle()},getPosition:function(t){return e.extend({},t?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},tip:function(){return this.$tip=this.$tip||e(this.options.template)},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);n[n.tip().hasClass("in")?"hide":"show"]()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}},e.fn.tooltip=function(n){return this.each(function(){var r=e(this),o=r.data("tooltip"),i="object"==typeof n&&n;o||r.data("tooltip",o=new t(this,i)),"string"==typeof n&&o[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0,html:!1}}(window.jQuery);
(function(e,t,n){function i(n){o[n]||(o[n]=!0,e.migrateWarnings.push(n),t.console&&console.warn&&!e.migrateMute&&(console.warn("JQMIGRATE: "+n),e.migrateTrace&&console.trace&&console.trace()))}function r(t,r,o,a){if(Object.defineProperty)try{return Object.defineProperty(t,r,{configurable:!0,enumerable:!0,get:function(){return i(a),o},set:function(e){i(a),o=e}}),n}catch(s){}e._definePropertyBroken=!0,t[r]=o}var o={};e.migrateWarnings=[],!e.migrateMute&&t.console&&console.log&&console.log("JQMIGRATE: Logging is active"),e.migrateTrace===n&&(e.migrateTrace=!0),e.migrateReset=function(){o={},e.migrateWarnings.length=0},"BackCompat"===document.compatMode&&i("jQuery is not compatible with Quirks Mode");var a=e("<input/>",{size:1}).attr("size")&&e.attrFn,s=e.attr,l=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},c=e.attrHooks.value&&e.attrHooks.value.set||function(){return n},u=/^(?:input|button)$/i,d=/^[238]$/,p=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,f=/^(?:checked|selected)$/i;r(e,"attrFn",a||{},"jQuery.attrFn is deprecated"),e.attr=function(t,r,o,l){var c=r.toLowerCase(),h=t&&t.nodeType;return l&&(4>s.length&&i("jQuery.fn.attr( props, pass ) is deprecated"),t&&!d.test(h)&&(a?r in a:e.isFunction(e.fn[r])))?e(t)[r](o):("type"===r&&o!==n&&u.test(t.nodeName)&&t.parentNode&&i("Can't change the 'type' of an input or button in IE 6/7/8"),!e.attrHooks[c]&&p.test(c)&&(e.attrHooks[c]={get:function(t,i){var r,o=e.prop(t,i);return o===!0||"boolean"!=typeof o&&(r=t.getAttributeNode(i))&&r.nodeValue!==!1?i.toLowerCase():n},set:function(t,n,i){var r;return n===!1?e.removeAttr(t,i):(r=e.propFix[i]||i,r in t&&(t[r]=!0),t.setAttribute(i,i.toLowerCase())),i}},f.test(c)&&i("jQuery.fn.attr('"+c+"') may use property instead of attribute")),s.call(e,t,r,o))},e.attrHooks.value={get:function(e,t){var n=(e.nodeName||"").toLowerCase();return"button"===n?l.apply(this,arguments):("input"!==n&&"option"!==n&&i("jQuery.fn.attr('value') no longer gets properties"),t in e?e.value:null)},set:function(e,t){var r=(e.nodeName||"").toLowerCase();return"button"===r?c.apply(this,arguments):("input"!==r&&"option"!==r&&i("jQuery.fn.attr('value', val) no longer sets properties"),e.value=t,n)}};var h,m,g=e.fn.init,v=e.parseJSON,_=/^(?:[^<]*(<[\w\W]+>)[^>]*|#([\w\-]*))$/;e.fn.init=function(t,n,r){var o;return t&&"string"==typeof t&&!e.isPlainObject(n)&&(o=_.exec(t))&&o[1]&&("<"!==t.charAt(0)&&i("$(html) HTML strings must start with '<' character"),n&&n.context&&(n=n.context),e.parseHTML)?g.call(this,e.parseHTML(e.trim(t),n,!0),n,r):g.apply(this,arguments)},e.fn.init.prototype=e.fn,e.parseJSON=function(e){return e||null===e?v.apply(this,arguments):(i("jQuery.parseJSON requires a valid JSON string"),null)},e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||0>e.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e.browser||(h=e.uaMatch(navigator.userAgent),m={},h.browser&&(m[h.browser]=!0,m.version=h.version),m.chrome?m.webkit=!0:m.webkit&&(m.safari=!0),e.browser=m),r(e,"browser",e.browser,"jQuery.browser is deprecated"),e.sub=function(){function t(e,n){return new t.fn.init(e,n)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(i,r){return r&&r instanceof e&&!(r instanceof t)&&(r=t(r)),e.fn.init.call(this,i,r,n)},t.fn.init.prototype=t.fn;var n=t(document);return i("jQuery.sub() is deprecated"),t},e.ajaxSetup({converters:{"text json":e.parseJSON}});var $=e.fn.data;e.fn.data=function(t){var r,o,a=this[0];return!a||"events"!==t||1!==arguments.length||(r=e.data(a,t),o=e._data(a,t),r!==n&&r!==o||o===n)?$.apply(this,arguments):(i("Use of jQuery.fn.data('events') is deprecated"),o)};var y=/\/(java|ecma)script/i,w=e.fn.andSelf||e.fn.addBack;e.fn.andSelf=function(){return i("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),w.apply(this,arguments)},e.clean||(e.clean=function(t,r,o,a){r=r||document,r=!r.nodeType&&r[0]||r,r=r.ownerDocument||r,i("jQuery.clean() is deprecated");var s,l,c,u,d=[];if(e.merge(d,e.buildFragment(t,r).childNodes),o)for(c=function(e){return!e.type||y.test(e.type)?a?a.push(e.parentNode?e.parentNode.removeChild(e):e):o.appendChild(e):n},s=0;null!=(l=d[s]);s++)e.nodeName(l,"script")&&c(l)||(o.appendChild(l),l.getElementsByTagName!==n&&(u=e.grep(e.merge([],l.getElementsByTagName("script")),c),d.splice.apply(d,[s+1,0].concat(u)),s+=u.length));return d});var b=e.event.add,C=e.event.remove,S=e.event.trigger,x=e.fn.toggle,k=e.fn.live,I=e.fn.die,P="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",T=RegExp("\\b(?:"+P+")\\b"),D=/(?:^|\s)hover(\.\S+|)\b/,E=function(t){return"string"!=typeof t||e.event.special.hover?t:(D.test(t)&&i("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),t&&t.replace(D,"mouseenter$1 mouseleave$1"))};e.event.props&&"attrChange"!==e.event.props[0]&&e.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),e.event.dispatch&&r(e.event,"handle",e.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),e.event.add=function(e,t,n,r,o){e!==document&&T.test(t)&&i("AJAX events should be attached to document: "+t),b.call(this,e,E(t||""),n,r,o)},e.event.remove=function(e,t,n,i,r){C.call(this,e,E(t)||"",n,i,r)},e.fn.error=function(){var e=Array.prototype.slice.call(arguments,0);return i("jQuery.fn.error() is deprecated"),e.splice(0,0,"error"),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this)},e.fn.toggle=function(t,n){if(!e.isFunction(t)||!e.isFunction(n))return x.apply(this,arguments);i("jQuery.fn.toggle(handler, handler...) is deprecated");var r=arguments,o=t.guid||e.guid++,a=0,s=function(n){var i=(e._data(this,"lastToggle"+t.guid)||0)%a;return e._data(this,"lastToggle"+t.guid,i+1),n.preventDefault(),r[i].apply(this,arguments)||!1};for(s.guid=o;r.length>a;)r[a++].guid=o;return this.click(s)},e.fn.live=function(t,n,r){return i("jQuery.fn.live() is deprecated"),k?k.apply(this,arguments):(e(this.context).on(t,this.selector,n,r),this)},e.fn.die=function(t,n){return i("jQuery.fn.die() is deprecated"),I?I.apply(this,arguments):(e(this.context).off(t,this.selector||"**",n),this)},e.event.trigger=function(e,t,n,r){return n||T.test(e)||i("Global events are undocumented and deprecated"),S.call(this,e,t,n||document,r)},e.each(P.split("|"),function(t,n){e.event.special[n]={setup:function(){var t=this;return t!==document&&(e.event.add(document,n+"."+e.guid,function(){e.event.trigger(n,null,t,!0)}),e._data(this,n,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,n+"."+e._data(this,n)),!1}}})})(jQuery,window),function(e){e.fn.splitter=function(t){return t=t||{},this.each(function(){function n(t){u.outline&&(s=s||l.clone(!1).insertAfter(f)),p.css("-webkit-user-select","none"),l.addClass(u.activeClass),f._posSplit=f[0][u.pxSplit]-t[u.eventPos],e(document).bind("mousemove",i).bind("mouseup",r)}function i(e){var t=f._posSplit+e[u.eventPos];u.outline?(t=Math.max(0,Math.min(t,d._DA-l._DA)),l.css(u.origin,t)):o(t)}function r(t){l.removeClass(u.activeClass);var n=f._posSplit+t[u.eventPos];u.outline&&(s.remove(),s=null,o(n)),p.css("-webkit-user-select","text"),e(document).unbind("mousemove",i).unbind("mouseup",r)}function o(t){t=Math.max(f._min,d._DA-h._max,Math.min(t,f._max,d._DA-l._DA-h._min)),l._DA=l[0][u.pxSplit],l.css(u.origin,t).css(u.fixed,d._DF),f.css(u.origin,0).css(u.split,t).css(u.fixed,d._DF),h.css(u.origin,t+l._DA).css(u.split,d._DA-l._DA-t).css(u.fixed,d._DF),f.parent().height(f.height()+h.height()),f.css("width","100%"),h.css("width","100%"),l.css("width","100%"),e.browser.msie||p.trigger("resize")}function a(e){for(var t=0,n=1;arguments.length>n;n++)t+=Math.max(parseInt(e.css(arguments[n]))||0,0);return t}var s,l,c=(t.splitHorizontal?"h":t.splitVertical?"v":t.type)||"v",u=e.extend({activeClass:"active",pxPerKey:8,tabIndex:0,accessKey:""},{v:{keyLeft:39,keyRight:37,cursor:"e-resize",splitbarClass:"vsplitbar",outlineClass:"voutline",type:"v",eventPos:"pageX",origin:"left",split:"width",pxSplit:"offsetWidth",side1:"Left",side2:"Right",fixed:"height",pxFixed:"offsetHeight",side3:"Top",side4:"Bottom"},h:{keyTop:40,keyBottom:38,cursor:"n-resize",splitbarClass:"hsplitbar",outlineClass:"houtline",type:"h",eventPos:"pageY",origin:"top",split:"height",pxSplit:"offsetHeight",side1:"Top",side2:"Bottom",fixed:"width",pxFixed:"offsetWidth",side3:"Left",side4:"Right"}}[c],t),d=e(this).css({position:"relative"}),p=e(">*",d[0]).css({position:"absolute","z-index":"1","-moz-outline-style":"none"}),f=e(p[0]),h=e(p[1]),m=e('<a href="javascript:void(0)"></a>').attr({accessKey:u.accessKey,tabIndex:u.tabIndex,title:u.splitbarClass}).bind(e.browser.opera?"click":"focus",function(){this.focus(),l.addClass(u.activeClass)}).bind("keydown",function(e){var t=e.which||e.keyCode,n=t==u["key"+u.side1]?1:t==u["key"+u.side2]?-1:0;n&&o(f[0][u.pxSplit]+n*u.pxPerKey,!1)}).bind("blur",function(){l.removeClass(u.activeClass)});p[2]&&(h=e(p[2]),l=e(p[1])),l=e(l||"<div></div>").css("z-index","5").append(m).attr({"class":u.splitbarClass,unselectable:"on"}).css({position:"absolute","user-select":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none"}).bind("mousedown",n),/^(auto|default|)$/.test(l.css("cursor"))&&l.css("cursor",u.cursor),l._DA=l[0][u.pxSplit],d._PBF=e.boxModel?a(d,"border"+u.side3+"Width","border"+u.side4+"Width"):0,d._PBA=e.boxModel?a(d,"border"+u.side1+"Width","border"+u.side2+"Width"):0,f._pane=u.side1,h._pane=u.side2,e.each([f,h],function(){this._min=u["min"+this._pane]||a(this,"min-"+u.split),this._max=u["max"+this._pane]||a(this,"max-"+u.split)||9999,this._init=u["size"+this._pane]===!0?parseInt(e.curCSS(this[0],u.split)):u["size"+this._pane]});var g=f._init;if(isNaN(h._init)||(g=d[0][u.pxSplit]-d._PBA-h._init-l._DA),u.cookie){e.cookie||alert("jQuery.splitter(): jQuery cookie plugin required");var v=parseInt(e.cookie(u.cookie));isNaN(v)||(g=v),e(window).bind("unload",function(){var t=l.css(u.origin)+"";e.cookie(u.cookie,t,{expires:u.cookieExpires||365,path:u.cookiePath||document.location.pathname})})}isNaN(g)&&(g=Math.round((d[0][u.pxSplit]-d._PBA-l._DA)/2)),u.anchorToWindow?(d._hadjust=a(d,"borderTopWidth","borderBottomWidth","marginBottom"),d._hmin=Math.max(a(d,"minHeight"),20),e(window).bind("resize",function(){var t=d.offset().top,n=e(window).height();d.css("height",Math.max(n-t-d._hadjust,d._hmin)+"px"),e.browser.msie||d.trigger("resize")}).trigger("resize")):u.resizeToWidth&&!e.browser.msie&&e(window).bind("resize",function(){d.trigger("resize")}),d.bind("resize",function(e,t){e.target==this&&(d._DF=d[0][u.pxFixed]-d._PBF,d._DA=d[0][u.pxSplit]-d._PBA,0>=d._DF||0>=d._DA||o(isNaN(t)?u.sizeRight||u.sizeBottom?d._DA-h[0][u.pxSplit]-l._DA:f[0][u.pxSplit]:t))}).trigger("resize",[g])})}}(jQuery),function(e,t){function n(t,n){var r,o,a,s=t.nodeName.toLowerCase();return"area"===s?(r=t.parentNode,o=r.name,t.href&&o&&"map"===r.nodeName.toLowerCase()?(a=e("img[usemap=#"+o+"]")[0],!!a&&i(a)):!1):(/input|select|textarea|button|object/.test(s)?!t.disabled:"a"===s?t.href||n:n)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var r=0,o=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(n,i){return"number"==typeof n?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),i&&i.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length)for(var i,r,o=e(this[0]);o.length&&o[0]!==document;){if(i=o.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(r=parseInt(o.css("zIndex"),10),!isNaN(r)&&0!==r))return r;o=o.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++r)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])},focusable:function(t){return n(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var i=e.attr(t,"tabindex"),r=isNaN(i);return(r||i>=0)&&n(t,!r)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(n,i){function r(t,n,i,r){return e.each(o,function(){n-=parseFloat(e.css(t,"padding"+this))||0,i&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),r&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var o="Width"===i?["Left","Right"]:["Top","Bottom"],a=i.toLowerCase(),s={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(n){return n===t?s["inner"+i].call(this):this.each(function(){e(this).css(a,r(this,n)+"px")})},e.fn["outer"+i]=function(t,n){return"number"!=typeof t?s["outer"+i].call(this,t):this.each(function(){e(this).css(a,r(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,n,i){var r,o=e.ui[t].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(e,t,n){var i,r=e.plugins[t];if(r&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(i=0;r.length>i;i++)e.options[r[i][0]]&&r[i][1].apply(e.element,n)}},hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return t[i]>0?!0:(t[i]=1,r=t[i]>0,t[i]=0,r)}})}(jQuery),function(e,t){var n=0,i=Array.prototype.slice,r=e.cleanData;e.cleanData=function(t){for(var n,i=0;null!=(n=t[i]);i++)try{e(n).triggerHandler("remove")}catch(o){}r(t)},e.widget=function(n,i,r){var o,a,s,l,c={},u=n.split(".")[0];n=n.split(".")[1],o=u+"-"+n,r||(r=i,i=e.Widget),e.expr[":"][o.toLowerCase()]=function(t){return!!e.data(t,o)},e[u]=e[u]||{},a=e[u][n],s=e[u][n]=function(e,n){return this._createWidget?(arguments.length&&this._createWidget(e,n),t):new s(e,n)},e.extend(s,a,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),l=new i,l.options=e.widget.extend({},l.options),e.each(r,function(n,r){return e.isFunction(r)?(c[n]=function(){var e=function(){return i.prototype[n].apply(this,arguments)},t=function(e){return i.prototype[n].apply(this,e)};return function(){var n,i=this._super,o=this._superApply;return this._super=e,this._superApply=t,n=r.apply(this,arguments),this._super=i,this._superApply=o,n}}(),t):(c[n]=r,t)}),s.prototype=e.widget.extend(l,{widgetEventPrefix:a?l.widgetEventPrefix:n},c,{constructor:s,namespace:u,widgetName:n,widgetFullName:o}),a?(e.each(a._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,s,n._proto)}),delete a._childConstructors):i._childConstructors.push(s),e.widget.bridge(n,s)},e.widget.extend=function(n){for(var r,o,a=i.call(arguments,1),s=0,l=a.length;l>s;s++)for(r in a[s])o=a[s][r],a[s].hasOwnProperty(r)&&o!==t&&(n[r]=e.isPlainObject(o)?e.isPlainObject(n[r])?e.widget.extend({},n[r],o):e.widget.extend({},o):o);return n},e.widget.bridge=function(n,r){var o=r.prototype.widgetFullName||n;e.fn[n]=function(a){var s="string"==typeof a,l=i.call(arguments,1),c=this;return a=!s&&l.length?e.widget.extend.apply(null,[a].concat(l)):a,s?this.each(function(){var i,r=e.data(this,o);return r?e.isFunction(r[a])&&"_"!==a.charAt(0)?(i=r[a].apply(r,l),i!==r&&i!==t?(c=i&&i.jquery?c.pushStack(i.get()):i,!1):t):e.error("no such method '"+a+"' for "+n+" widget instance"):e.error("cannot call methods on "+n+" prior to initialization; "+"attempted to call method '"+a+"'")}):this.each(function(){var t=e.data(this,o);t?t.option(a||{})._init():e.data(this,o,new r(a,this))}),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,i){var r,o,a,s=n;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof n)if(s={},r=n.split("."),n=r.shift(),r.length){for(o=s[n]=e.widget.extend({},this.options[n]),a=0;r.length-1>a;a++)o[r[a]]=o[r[a]]||{},o=o[r[a]];if(n=r.pop(),i===t)return o[n]===t?null:o[n];o[n]=i}else{if(i===t)return this.options[n]===t?null:this.options[n];s[n]=i}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(n,i,r){var o,a=this;"boolean"!=typeof n&&(r=i,i=n,n=!1),r?(i=o=e(i),this.bindings=this.bindings.add(i)):(r=i,i=this.element,o=this.widget()),e.each(r,function(r,s){function l(){return n||a.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof s?a[s]:s).apply(a,arguments):t}"string"!=typeof s&&(l.guid=s.guid=s.guid||l.guid||e.guid++);var c=r.match(/^(\w+)\s*(.*)$/),u=c[1]+a.eventNamespace,d=c[2];d?o.delegate(d,u,l):i.bind(u,l)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,i){var r,o,a=this.options[t];if(i=i||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(e.isFunction(a)&&a.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,r,o){"string"==typeof r&&(r={effect:r});var a,s=r?r===!0||"number"==typeof r?n:r.effect||n:t;r=r||{},"number"==typeof r&&(r={duration:r}),a=!e.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),a&&e.effects&&e.effects.effect[s]?i[t](r):s!==t&&i[s]?i[s](r.duration,r.easing,o):i.queue(function(n){e(this)[t](),o&&o.call(i[0]),n()})}})}(jQuery),function(e){var t=!1;e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){return!0===e.data(n.target,t.widgetName+".preventClickEvent")?(e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):undefined}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!t){this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var i=this,r=1===n.which,o="string"==typeof this.options.cancel&&n.target.nodeName?e(n.target).closest(this.options.cancel).length:!1;return r&&!o&&this._mouseCapture(n)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=this._mouseStart(n)!==!1,!this._mouseStarted)?(n.preventDefault(),!0):(!0===e.data(n.target,this.widgetName+".preventClickEvent")&&e.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(e){function t(e,t,n){return e>t&&t+n>e}function n(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))}e.widget("ui.sortable",e.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===e.axis||n(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,n){"disabled"===t?(this.options[t]=n,this.widget().toggleClass("ui-sortable-disabled",!!n)):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,n){var i=null,r=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,o.widgetName+"-item")===o?(i=e(this),!1):undefined}),e.data(t.target,o.widgetName+"-item")===o&&(i=e(t.target)),i?!this.options.handle||n||(e(this.options.handle,i).find("*").addBack().each(function(){this===t.target&&(r=!0)}),r)?(this.currentItem=i,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(t,n,i){var r,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=e("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var n,i,r,o,a=this.options,s=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+a.scrollSpeed:t.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+a.scrollSpeed:t.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(t.pageY-e(document).scrollTop()<a.scrollSensitivity?s=e(document).scrollTop(e(document).scrollTop()-a.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<a.scrollSensitivity&&(s=e(document).scrollTop(e(document).scrollTop()+a.scrollSpeed)),t.pageX-e(document).scrollLeft()<a.scrollSensitivity?s=e(document).scrollLeft(e(document).scrollLeft()-a.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<a.scrollSensitivity&&(s=e(document).scrollLeft(e(document).scrollLeft()+a.scrollSpeed))),s!==!1&&e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=this.items[n],r=i.item[0],o=this._intersectsWithPointer(i),o&&i.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==r&&!e.contains(this.placeholder[0],r)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],r):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(t,i),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var i=this,r=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){i._clear(t)})}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];
return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&i.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n.each(function(){i.push(e(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=e.left,a=o+e.width,s=e.top,l=s+e.height,c=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||i+c>s&&l>i+c,p="y"===this.options.axis||t+u>o&&a>t+u,f=d&&p;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?f:t+this.helperProportions.width/2>o&&a>n-this.helperProportions.width/2&&i+this.helperProportions.height/2>s&&l>r-this.helperProportions.height/2},_intersectsWithPointer:function(e){var n="x"===this.options.axis||t(this.positionAbs.top+this.offset.click.top,e.top,e.height),i="y"===this.options.axis||t(this.positionAbs.left+this.offset.click.left,e.left,e.width),r=n&&i,o=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return r?this.floating?a&&"right"===a||"down"===o?2:1:o&&("down"===o?2:1):!1},_intersectsWithSides:function(e){var n=t(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=t(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&i||"left"===o&&!i:r&&("down"===r&&n||"up"===r&&!n)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){var n,i,r,o,a=[],s=[],l=this._connectWith();if(l&&t)for(n=l.length-1;n>=0;n--)for(r=e(l[n]),i=r.length-1;i>=0;i--)o=e.data(r[i],this.widgetFullName),o&&o!==this&&!o.options.disabled&&s.push([e.isFunction(o.options.items)?o.options.items.call(o.element):e(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(s.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=s.length-1;n>=0;n--)s[n][0].each(function(){a.push(this)});return e(a)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;t.length>n;n++)if(t[n]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var n,i,r,o,a,s,l,c,u=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],p=this._connectWith();if(p&&this.ready)for(n=p.length-1;n>=0;n--)for(r=e(p[n]),i=r.length-1;i>=0;i--)o=e.data(r[i],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(d.push([e.isFunction(o.options.items)?o.options.items.call(o.element[0],t,{item:this.currentItem}):e(o.options.items,o.element),o]),this.containers.push(o));for(n=d.length-1;n>=0;n--)for(a=d[n][1],s=d[n][0],i=0,c=s.length;c>i;i++)l=e(s[i]),l.data(this.widgetName+"-item",a),u.push({item:l,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,r,o;for(n=this.items.length-1;n>=0;n--)i=this.items[n],i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?e(this.options.toleranceElement,i.item):i.item,t||(i.width=r.outerWidth(),i.height=r.outerHeight()),o=r.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var n,i=t.options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=t.currentItem[0].nodeName.toLowerCase(),r=e("<"+i+">",t.document[0]).addClass(n||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===i?t.currentItem.children().each(function(){e("<td>&#160;</td>",t.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(r)}):"img"===i&&r.attr("src",t.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(e,r){(!n||i.forcePlaceholderSize)&&(r.height()||r.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(i.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),i.placeholder.update(t,t.placeholder)},_contactContainers:function(i){var r,o,a,s,l,c,u,d,p,f,h=null,m=null;for(r=this.containers.length-1;r>=0;r--)if(!e.contains(this.currentItem[0],this.containers[r].element[0]))if(this._intersectsWith(this.containers[r].containerCache)){if(h&&e.contains(this.containers[r].element[0],h.element[0]))continue;h=this.containers[r],m=r}else this.containers[r].containerCache.over&&(this.containers[r]._trigger("out",i,this._uiHash(this)),this.containers[r].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[m].containerCache.over||(this.containers[m]._trigger("over",i,this._uiHash(this)),this.containers[m].containerCache.over=1);else{for(a=1e4,s=null,f=h.floating||n(this.currentItem),l=f?"left":"top",c=f?"width":"height",u=this.positionAbs[l]+this.offset.click[l],o=this.items.length-1;o>=0;o--)e.contains(this.containers[m].element[0],this.items[o].item[0])&&this.items[o].item[0]!==this.currentItem[0]&&(!f||t(this.positionAbs.top+this.offset.click.top,this.items[o].top,this.items[o].height))&&(d=this.items[o].item.offset()[l],p=!1,Math.abs(d-u)>Math.abs(d+this.items[o][c]-u)&&(p=!0,d+=this.items[o][c]),a>Math.abs(d-u)&&(a=Math.abs(d-u),s=this.items[o],this.direction=p?"up":"down"));if(!s&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[m])return;s?this._rearrange(i,s,null,!0):this._rearrange(i,null,this.containers[m].element,!0),this._trigger("change",i,this._uiHash()),this.containers[m]._trigger("change",i,this._uiHash(this)),this.currentContainer=this.containers[m],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[m]._trigger("over",i,this._uiHash(this)),this.containers[m].containerCache.over=1}},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||e("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e("document"===r.containment?document:window).width()-this.helperProportions.width-this.margins.left,(e("document"===r.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(t=e(r.containment)[0],n=e(r.containment).offset(),i="hidden"!==e(t).css("overflow"),this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,n){n||(n=this.position);var i="absolute"===t?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(t){var n,i,r=this.options,o=t.pageX,a=t.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((a-this.originalPageY)/r.grid[1])*r.grid[1],a=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:s.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:s.scrollLeft())}},_rearrange:function(e,t,n,i){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(e,t){this.reverting=!1;var n,i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)("auto"===this._storedCSS[n]||"static"===this._storedCSS[n])&&(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&i.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||i.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(i.push(function(e){this._trigger("remove",e,this._uiHash())}),i.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),i.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)t||i.push(function(e){return function(t){e._trigger("deactivate",t,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over&&(i.push(function(e){return function(t){e._trigger("out",t,this._uiHash(this))}}.call(this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!t){for(this._trigger("beforeStop",e,this._uiHash()),n=0;i.length>n;n++)i[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!1}if(t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!t){for(n=0;i.length>n;n++)i[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}})}(jQuery);
(function(e,t,n){"use strict";function r(){var t=e.angular;return e.angular=nr,t}function o(e){return e&&"number"==typeof e.length?"function"!=typeof e.hasOwnProperty&&"function"!=typeof e.constructor?!0:e instanceof it||Zn&&e instanceof Zn||"[object Object]"!==tr.call(e)||"function"==typeof e.callee:!1}function i(e,t,n){var r;if(e)if(C(e))for(r in e)"prototype"!=r&&"length"!=r&&"name"!=r&&e.hasOwnProperty(r)&&t.call(n,e[r],r);else if(e.forEach&&e.forEach!==i)e.forEach(t,n);else if(o(e))for(r=0;e.length>r;r++)t.call(n,e[r],r);else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r);return e}function a(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t.sort()}function c(e,t,n){for(var r=a(e),o=0;r.length>o;o++)t.call(n,e[r[o]],r[o]);return r}function l(e){return function(t,n){e(n,t)}}function s(){for(var e,t=or.length;t;){if(t--,e=or[t].charCodeAt(0),57==e)return or[t]="A",or.join("");if(90!=e)return or[t]=String.fromCharCode(e+1),or.join("");or[t]="0"}return or.unshift("0"),or.join("")}function u(e){return i(arguments,function(t){t!==e&&i(t,function(t,n){e[n]=t})}),e}function d(e){return parseInt(e,10)}function f(e,t){return u(new(u(function(){},{prototype:e})),t)}function p(){}function h(e){return e}function m(e){return function(){return e}}function g(e){return e===n}function v(e){return e!==n}function _(e){return null!=e&&"object"==typeof e}function $(e){return"string"==typeof e}function y(e){return"number"==typeof e}function w(e){return"[object Date]"==tr.apply(e)}function b(e){return"[object Array]"==tr.apply(e)}function C(e){return"function"==typeof e}function S(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function x(e){return e&&e.$evalAsync&&e.$watch}function k(e){return"[object File]"===tr.apply(e)}function I(e){return $(e)?e.replace(/^\s*/,"").replace(/\s*$/,""):e}function P(e){return e&&(e.nodeName||e.bind&&e.find)}function T(e,t,n){var r=[];return i(e,function(e,o,i){r.push(t.call(n,e,o,i))}),r}function E(e,t){return-1!=R(e,t)}function R(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;e.length>n;n++)if(t===e[n])return n;return-1}function D(e,t){var n=R(e,t);return n>=0&&e.splice(n,1),t}function M(e,t){if(S(e)||x(e))throw Error("Can't copy Window or Scope");if(t){if(e===t)throw Error("Can't copy equivalent objects or arrays");if(b(e)){t.length=0;for(var n=0;e.length>n;n++)t.push(M(e[n]))}else{i(t,function(e,n){delete t[n]});for(var r in e)t[r]=M(e[r])}}else t=e,e&&(b(e)?t=M(e,[]):w(e)?t=new Date(e.getTime()):_(e)&&(t=M(e,{})));return t}function A(e,t){t=t||{};for(var n in e)e.hasOwnProperty(n)&&"$$"!==n.substr(0,2)&&(t[n]=e[n]);return t}function j(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var r,o,i,a=typeof e,c=typeof t;if(a==c&&"object"==a){if(!b(e)){if(w(e))return w(t)&&e.getTime()==t.getTime();if(x(e)||x(t)||S(e)||S(t))return!1;i={};for(o in e)if("$"!==o.charAt(0)&&!C(e[o])){if(!j(e[o],t[o]))return!1;i[o]=!0}for(o in t)if(!i[o]&&"$"!==o.charAt(0)&&t[o]!==n&&!C(t[o]))return!1;return!0}if((r=e.length)==t.length){for(o=0;r>o;o++)if(!j(e[o],t[o]))return!1;return!0}}return!1}function N(e,t,n){return e.concat(Xn.call(t,n))}function O(e,t){return Xn.call(e,t||0)}function F(e,t){var n=arguments.length>2?O(arguments,2):[];return!C(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,n.concat(Xn.call(arguments,0))):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function q(e,r){var o=r;return/^\$+/.test(e)?o=n:S(r)?o="$WINDOW":r&&t===r?o="$DOCUMENT":x(r)&&(o="$SCOPE"),o}function L(e,t){return JSON.stringify(e,q,t?"  ":null)}function V(e){return $(e)?JSON.parse(e):e}function U(e){if(e&&0!==e.length){var t=Gn(""+e);e=!("f"==t||"0"==t||"false"==t||"no"==t||"n"==t||"[]"==t)}else e=!1;return e}function H(e){e=Kn(e).clone();try{e.html("")}catch(t){}var n=3,r=Kn("<div>").append(e).html();try{return e[0].nodeType===n?Gn(r):r.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(e,t){return"<"+Gn(t)})}catch(t){return Gn(r)}}function G(e){var t,n,r={};return i((e||"").split("&"),function(e){e&&(t=e.split("="),n=decodeURIComponent(t[0]),r[n]=v(t[1])?decodeURIComponent(t[1]):!0)}),r}function B(e){var t=[];return i(e,function(e,n){t.push(W(n,!0)+(e===!0?"":"="+W(e,!0)))}),t.length?t.join("&"):""}function z(e){return W(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function W(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function K(e,n){function r(e){e&&c.push(e)}var o,a,c=[e],l=["ng:app","ng-app","x-ng-app","data-ng-app"],s=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;i(l,function(n){l[n]=!0,r(t.getElementById(n)),n=n.replace(":","\\:"),e.querySelectorAll&&(i(e.querySelectorAll("."+n),r),i(e.querySelectorAll("."+n+"\\:"),r),i(e.querySelectorAll("["+n+"]"),r))}),i(c,function(e){if(!o){var t=" "+e.className+" ",n=s.exec(t);n?(o=e,a=(n[2]||"").replace(/\s+/g,",")):i(e.attributes,function(t){!o&&l[t.name]&&(o=e,a=t.value)})}}),o&&n(o,a?[a]:[])}function Z(t,r){var o=function(){t=Kn(t),r=r||[],r.unshift(["$provide",function(e){e.value("$rootElement",t)}]),r.unshift("ng");var e=Ct(r);return e.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,r){e.$apply(function(){t.data("$injector",r),n(t)(e)})}]),e},a=/^NG_DEFER_BOOTSTRAP!/;return e&&!a.test(e.name)?o():(e.name=e.name.replace(a,""),rr.resumeBootstrap=function(e){i(e,function(e){r.push(e)}),o()},n)}function Q(e,t){return t=t||"_",e.replace(ir,function(e,n){return(n?t:"")+e.toLowerCase()})}function Y(){Zn=e.jQuery,Zn?(Kn=Zn,u(Zn.fn,{scope:hr.scope,controller:hr.controller,injector:hr.injector,inheritedData:hr.inheritedData}),ot("remove",!0),ot("empty"),ot("html")):Kn=it,rr.element=Kn}function J(e,t,n){if(!e)throw Error("Argument '"+(t||"?")+"' is "+(n||"required"));return e}function X(e,t,n){return n&&b(e)&&(e=e[e.length-1]),J(C(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function et(e){function t(e,t,n){return e[t]||(e[t]=n())}return t(t(e,"angular",Object),"module",function(){var e={};return function(n,r,o){return r&&e.hasOwnProperty(n)&&(e[n]=null),t(e,n,function(){function e(e,n,r){return function(){return t[r||"push"]([e,n,arguments]),c}}if(!r)throw Error("No module: "+n);var t=[],i=[],a=e("$injector","invoke"),c={_invokeQueue:t,_runBlocks:i,requires:r,name:n,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),animation:e("$animationProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:a,run:function(e){return i.push(e),this}};return o&&a(o),c})}})}function tt(t){u(t,{bootstrap:Z,copy:M,extend:u,equals:j,element:Kn,forEach:i,injector:Ct,noop:p,bind:F,toJson:L,fromJson:V,identity:h,isUndefined:g,isDefined:v,isString:$,isFunction:C,isObject:_,isNumber:y,isElement:P,isArray:b,version:ar,isDate:w,lowercase:Gn,uppercase:Bn,callbacks:{counter:0},noConflict:r}),Qn=et(e);try{Qn("ngLocale")}catch(n){Qn("ngLocale",[]).provider("$locale",_n)}Qn("ng",["ngLocale"],["$provide",function(e){e.provider("$compile",Et).directive({a:Lr,input:Qr,textarea:Qr,form:Gr,script:Mo,select:jo,style:Oo,option:No,ngBind:lo,ngBindHtmlUnsafe:uo,ngBindTemplate:so,ngClass:fo,ngClassEven:ho,ngClassOdd:po,ngCsp:vo,ngCloak:mo,ngController:go,ngForm:Br,ngHide:ko,ngInclude:yo,ngInit:wo,ngNonBindable:bo,ngPluralize:Co,ngRepeat:So,ngShow:xo,ngSubmit:$o,ngStyle:Io,ngSwitch:Po,ngSwitchWhen:To,ngSwitchDefault:Eo,ngOptions:Ao,ngView:Do,ngTransclude:Ro,ngModel:no,ngList:io,ngChange:ro,required:oo,ngRequired:oo,ngValue:co}).directive(Vr).directive(_o),e.provider({$anchorScroll:St,$animation:xt,$animator:br,$browser:It,$cacheFactory:Pt,$controller:Dt,$document:Mt,$exceptionHandler:At,$filter:yn,$interpolate:jt,$http:mn,$httpBackend:gn,$location:Wt,$log:Kt,$parse:tn,$route:on,$routeParams:an,$rootScope:cn,$q:nn,$sniffer:ln,$templateCache:Tt,$timeout:$n,$window:sn})}])}function nt(){return++sr}function rt(e){return e.replace(fr,function(e,t,n,r){return r?n.toUpperCase():n}).replace(pr,"Moz$1")}function ot(e,t){function n(){for(var e,n,o,i,a,c,l,s=[this],u=t;s.length;)for(e=s.shift(),n=0,o=e.length;o>n;n++)for(i=Kn(e[n]),u?i.triggerHandler("$destroy"):u=!u,a=0,c=(l=i.children()).length;c>a;a++)s.push(Zn(l[a]));return r.apply(this,arguments)}var r=Zn.fn[e];r=r.$original||r,n.$original=r,Zn.fn[e]=n}function it(e){if(e instanceof it)return e;if(!(this instanceof it)){if($(e)&&"<"!=e.charAt(0))throw Error("selectors not implemented");return new it(e)}if($(e)){var n=t.createElement("div");n.innerHTML="<div>&#160;</div>"+e,n.removeChild(n.firstChild),mt(this,n.childNodes),this.remove()}else mt(this,e)}function at(e){return e.cloneNode(!0)}function ct(e){st(e);for(var t=0,n=e.childNodes||[];n.length>t;t++)ct(n[t])}function lt(e,t,n){var r=ut(e,"events"),o=ut(e,"handle");o&&(g(t)?i(r,function(t,n){dr(e,n,t),delete r[n]}):g(n)?(dr(e,t,r[t]),delete r[t]):D(r[t],n))}function st(e){var t=e[lr],r=cr[t];r&&(r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),lt(e)),delete cr[t],e[lr]=n)}function ut(e,t,r){var o=e[lr],i=cr[o||-1];return v(r)?(i||(e[lr]=o=nt(),i=cr[o]={}),i[t]=r,n):i&&i[t]}function dt(e,t,n){var r=ut(e,"data"),o=v(n),i=!o&&v(t),a=i&&!_(t);if(r||a||ut(e,"data",r={}),o)r[t]=n;else{if(!i)return r;if(a)return r&&r[t];u(r,t)}}function ft(e,t){return(" "+e.className+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")>-1}function pt(e,t){t&&i(t.split(" "),function(t){e.className=I((" "+e.className+" ").replace(/[\n\t]/g," ").replace(" "+I(t)+" "," "))})}function ht(e,t){t&&i(t.split(" "),function(t){ft(e,t)||(e.className=I(e.className+" "+I(t)))})}function mt(e,t){if(t){t=t.nodeName||!v(t.length)||S(t)?[t]:t;for(var n=0;t.length>n;n++)e.push(t[n])}}function gt(e,t){return vt(e,"$"+(t||"ngController")+"Controller")}function vt(e,t,n){for(e=Kn(e),9==e[0].nodeType&&(e=e.find("html"));e.length;){if(n=e.data(t))return n;e=e.parent()}}function _t(e,t){var n=mr[t.toLowerCase()];return n&&gr[e.nodeName]&&n}function $t(e,n){var r=function(r,o){if(r.preventDefault||(r.preventDefault=function(){r.returnValue=!1}),r.stopPropagation||(r.stopPropagation=function(){r.cancelBubble=!0}),r.target||(r.target=r.srcElement||t),g(r.defaultPrevented)){var a=r.preventDefault;r.preventDefault=function(){r.defaultPrevented=!0,a.call(r)},r.defaultPrevented=!1}r.isDefaultPrevented=function(){return r.defaultPrevented},i(n[o||r.type],function(t){t.call(e,r)}),8>=Jn?(r.preventDefault=null,r.stopPropagation=null,r.isDefaultPrevented=null):(delete r.preventDefault,delete r.stopPropagation,delete r.isDefaultPrevented)};return r.elem=e,r}function yt(e){var t,r=typeof e;return"object"==r&&null!==e?"function"==typeof(t=e.$$hashKey)?t=e.$$hashKey():t===n&&(t=e.$$hashKey=s()):t=e,r+":"+t}function wt(e){i(e,this.put,this)}function bt(e){var t,n,r,o;return"function"==typeof e?(t=e.$inject)||(t=[],n=(""+e).replace(wr,""),r=n.match(_r),i(r[1].split($r),function(e){e.replace(yr,function(e,n,r){t.push(r)})}),e.$inject=t):b(e)?(o=e.length-1,X(e[o],"fn"),t=e.slice(0,o)):X(e,"fn",!0),t}function Ct(e){function t(e){return function(t,r){return _(t)?(i(t,l(e)),n):e(t,r)}}function r(e,t){if((C(t)||b(t))&&(t=S.instantiate(t)),!t.$get)throw Error("Provider "+e+" must define $get factory method.");return w[e+g]=t}function o(e,t){return r(e,{$get:t})}function a(e,t){return o(e,["$injector",function(e){return e.instantiate(t)}])}function c(e,t){return o(e,m(t))}function s(e,t){w[e]=t,x[e]=t}function u(e,t){var n=S.get(e+g),r=n.$get;n.$get=function(){var e=k.invoke(r,n);return k.invoke(t,null,{$delegate:e})}}function d(e){var t=[];return i(e,function(e){if(!y.get(e))if(y.put(e,!0),$(e)){var n=Qn(e);t=t.concat(d(n.requires)).concat(n._runBlocks);try{for(var r=n._invokeQueue,o=0,i=r.length;i>o;o++){var a=r[o],c=S.get(a[0]);c[a[1]].apply(c,a[2])}}catch(l){throw l.message&&(l.message+=" from "+e),l}}else if(C(e))try{t.push(S.invoke(e))}catch(l){throw l.message&&(l.message+=" from "+e),l}else if(b(e))try{t.push(S.invoke(e))}catch(l){throw l.message&&(l.message+=" from "+(e[e.length-1]+"")),l}else X(e,"module")}),t}function f(e,t){function n(n){if("string"!=typeof n)throw Error("Service name expected");if(e.hasOwnProperty(n)){if(e[n]===h)throw Error("Circular dependency: "+v.join(" <- "));return e[n]}try{return v.unshift(n),e[n]=h,e[n]=t(n)}finally{v.shift()}}function r(e,t,r){var o,i,a,c=[],l=bt(e);for(i=0,o=l.length;o>i;i++)a=l[i],c.push(r&&r.hasOwnProperty(a)?r[a]:n(a));switch(e.$inject||(e=e[o]),t?-1:c.length){case 0:return e();case 1:return e(c[0]);case 2:return e(c[0],c[1]);case 3:return e(c[0],c[1],c[2]);case 4:return e(c[0],c[1],c[2],c[3]);case 5:return e(c[0],c[1],c[2],c[3],c[4]);case 6:return e(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return e(c[0],c[1],c[2],c[3],c[4],c[5],c[6]);case 8:return e(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7]);case 9:return e(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8]);case 10:return e(c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],c[8],c[9]);default:return e.apply(t,c)}}function o(e,t){var n,o,i=function(){};return i.prototype=(b(e)?e[e.length-1]:e).prototype,n=new i,o=r(e,n,t),_(o)?o:n}return{invoke:r,instantiate:o,get:n,annotate:bt}}var h={},g="Provider",v=[],y=new wt,w={$provide:{provider:t(r),factory:t(o),service:t(a),value:t(c),constant:t(s),decorator:u}},S=w.$injector=f(w,function(){throw Error("Unknown provider: "+v.join(" <- "))}),x={},k=x.$injector=f(x,function(e){var t=S.get(e+g);return k.invoke(t.$get,t)});return i(d(e),function(e){k.invoke(e||p)}),k}function St(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,r){function o(e){var t=null;return i(e,function(e){t||"a"!==Gn(e.nodeName)||(t=e)}),t}function a(){var e,r=n.hash();r?(e=c.getElementById(r))?e.scrollIntoView():(e=o(c.getElementsByName(r)))?e.scrollIntoView():"top"===r&&t.scrollTo(0,0):t.scrollTo(0,0)}var c=t.document;return e&&r.$watch(function(){return n.hash()},function(){r.$evalAsync(a)}),a}]}function xt(e){var t="Animation";this.register=function(n,r){e.factory(rt(n)+t,r)},this.$get=["$injector",function(e){return function(n){if(n)try{return e.get(rt(n)+t)}catch(r){}}}]}function kt(e,t,r,o){function a(e){try{e.apply(null,O(arguments,1))}finally{if(_--,0===_)for(;y.length;)try{y.pop()()}catch(t){r.error(t)}}}function c(e,t){(function n(){i(b,function(e){e()}),w=t(n,e)})()}function l(){C!=s.url()&&(C=s.url(),i(x,function(e){e(s.url())}))}var s=this,u=t[0],d=e.location,f=e.history,h=e.setTimeout,m=e.clearTimeout,v={};s.isMock=!1;var _=0,y=[];s.$$completeOutstandingRequest=a,s.$$incOutstandingRequestCount=function(){_++},s.notifyWhenNoOutstandingRequests=function(e){i(b,function(e){e()}),0===_?e():y.push(e)};var w,b=[];s.addPollFn=function(e){return g(w)&&c(100,h),b.push(e),e};var C=d.href,S=t.find("base");s.url=function(e,t){if(e){if(C==e)return;return C=e,o.history?t?f.replaceState(null,"",e):(f.pushState(null,"",e),S.attr("href",S.attr("href"))):t?d.replace(e):d.href=e,s}return d.href.replace(/%27/g,"'")};var x=[],k=!1;s.onUrlChange=function(t){return k||(o.history&&Kn(e).bind("popstate",l),o.hashchange?Kn(e).bind("hashchange",l):s.addPollFn(l),k=!0),x.push(t),t},s.baseHref=function(){var e=S.attr("href");return e?e.replace(/^https?\:\/\/[^\/]*/,""):""};var I={},P="",T=s.baseHref();s.cookies=function(e,t){var o,i,a,c,l;if(!e){if(u.cookie!==P)for(P=u.cookie,i=P.split("; "),I={},c=0;i.length>c;c++)a=i[c],l=a.indexOf("="),l>0&&(I[unescape(a.substring(0,l))]=unescape(a.substring(l+1)));return I}t===n?u.cookie=escape(e)+"=;path="+T+";expires=Thu, 01 Jan 1970 00:00:00 GMT":$(t)&&(o=(u.cookie=escape(e)+"="+escape(t)+";path="+T).length+1,o>4096&&r.warn("Cookie '"+e+"' possibly not set or overflowed because it was too large ("+o+" > 4096 bytes)!"))},s.defer=function(e,t){var n;return _++,n=h(function(){delete v[n],a(e)},t||0),v[n]=!0,n},s.defer.cancel=function(e){return v[e]?(delete v[e],m(e),a(p),!0):!1}}function It(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,r){return new kt(e,r,t,n)}]}function Pt(){this.$get=function(){function e(e,r){function o(e){e!=f&&(p?p==e&&(p=e.n):p=e,i(e.n,e.p),i(e,f),f=e,f.n=null)}function i(e,t){e!=t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw Error("cacheId "+e+" taken");var a=0,c=u({},r,{id:e}),l={},s=r&&r.capacity||Number.MAX_VALUE,d={},f=null,p=null;return t[e]={put:function(e,t){var r=d[e]||(d[e]={key:e});return o(r),g(t)?n:(e in l||a++,l[e]=t,a>s&&this.remove(p.key),t)},get:function(e){var t=d[e];if(t)return o(t),l[e]},remove:function(e){var t=d[e];t&&(t==f&&(f=t.p),t==p&&(p=t.n),i(t.n,t.p),delete d[e],delete l[e],a--)},removeAll:function(){l={},a=0,d={},f=p=null},destroy:function(){l=null,c=null,d=null,delete t[e]},info:function(){return u({},c,{size:a})}}}var t={};return e.info=function(){var e={};return i(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function Tt(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function Et(e){var r={},o="Directive",a=/^\s*directive\:\s*([\d\w\-_]+)\s+(.*)$/,c=/(([\d\w\-_]+)(?:\:([^;]+))?;?)/,s="Template must have exactly one root element. was: ",d=/^\s*(https?|ftp|mailto|file):/;this.directive=function f(t,n){return $(t)?(J(n,"directive"),r.hasOwnProperty(t)||(r[t]=[],e.factory(t+o,["$injector","$exceptionHandler",function(e,n){var o=[];return i(r[t],function(r){try{var i=e.invoke(r);C(i)?i={compile:m(i)}:!i.compile&&i.link&&(i.compile=m(i.link)),i.priority=i.priority||0,i.name=i.name||t,i.require=i.require||i.controller&&i.name,i.restrict=i.restrict||"A",o.push(i)}catch(a){n(a)}}),o}])),r[t].push(n)):i(t,l(f)),this},this.urlSanitizationWhitelist=function(e){return v(e)?(d=e,this):d},this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document",function(e,l,f,p,g,v,y,w,S){function x(e,t,n){e instanceof Kn||(e=Kn(e)),i(e,function(t,n){3==t.nodeType&&t.nodeValue.match(/\S+/)&&(e[n]=Kn(t).wrap("<span></span>").parent()[0])});var r=P(e,t,e,n);return function(t,n){J(t,"scope");for(var o=n?hr.clone.call(e):e,i=0,a=o.length;a>i;i++){var c=o[i];(1==c.nodeType||9==c.nodeType)&&o.eq(i).data("$scope",t)}return k(o,"ng-scope"),n&&n(o,t),r&&r(t,o,o),o}}function k(e,t){try{e.addClass(t)}catch(n){}}function P(e,t,r,o){function i(e,r,o,i){var a,c,l,s,u,f,p,h,m=[];for(f=0,p=r.length;p>f;f++)m.push(r[f]);for(f=0,h=0,p=d.length;p>f;h++)l=m[h],a=d[f++],c=d[f++],a?(a.scope?(s=e.$new(_(a.scope)),Kn(l).data("$scope",s)):s=e,u=a.transclude,u||!i&&t?a(c,s,l,o,function(t){return function(n){var r=e.$new();return r.$$transcluded=!0,t(r,n).bind("$destroy",F(r,r.$destroy))}}(u||t)):a(c,s,l,n,i)):c&&c(e,l.childNodes,n,i)}for(var a,c,l,s,u,d=[],f=0;e.length>f;f++)s=new V,l=T(e[f],[],s,o),a=l.length?E(l,e[f],s,t,r):null,c=a&&a.terminal||!e[f].childNodes||!e[f].childNodes.length?null:P(e[f].childNodes,a?a.transclude:t),d.push(a),d.push(c),u=u||a||c;return u?i:null}function T(e,t,n,r){var o,i,l=e.nodeType,s=n.$attr;switch(l){case 1:R(t,Rt(Yn(e).toLowerCase()),"E",r);for(var u,d,f,p,h,m=e.attributes,g=0,v=m&&m.length;v>g;g++)u=m[g],u.specified&&(d=u.name,p=Rt(d),W.test(p)&&(d=p.substr(6).toLowerCase()),f=Rt(d.toLowerCase()),s[f]=d,n[f]=h=I(Jn&&"href"==d?decodeURIComponent(e.getAttribute(d,2)):u.value),_t(e,f)&&(n[f]=!0),q(e,t,h,f),R(t,f,"A",r));if(i=e.className,$(i)&&""!==i)for(;o=c.exec(i);)f=Rt(o[2]),R(t,f,"C",r)&&(n[f]=I(o[3])),i=i.substr(o.index+o[0].length);break;case 3:O(t,e.nodeValue);break;case 8:try{o=a.exec(e.nodeValue),o&&(f=Rt(o[1]),R(t,f,"M",r)&&(n[f]=I(o[2])))}catch(_){}}return t.sort(j),t}function E(e,r,o,a,c){function u(e,t){e&&(e.require=h.require,j.push(e)),t&&(t.require=h.require,O.push(t))}function d(e,t){var n,r="data",o=!1;if($(e)){for(;"^"==(n=e.charAt(0))||"?"==n;)e=e.substr(1),"^"==n&&(r="inheritedData"),o=o||"?"==n;if(n=t[r]("$"+e+"Controller"),!n&&!o)throw Error("No controller: "+e);return n}return b(e)&&(n=[],i(e,function(e){n.push(d(e,t))})),n}function p(e,t,a,c,s){var u,p,h,m,g,_;if(u=r===a?o:A(o,new V(Kn(a),o.$attr)),p=u.$$element,q){var $=/^\s*([@=&])(\??)\s*(\w*)\s*$/,w=t.$parent||t;i(q.scope,function(e,n){var r,o,i,a=e.match($)||[],c=a[3]||n,s="?"==a[2],d=a[1];switch(t.$$isolateBindings[n]=d+c,d){case"@":u.$observe(c,function(e){t[n]=e}),u.$$observers[c].$$scope=w,u[c]&&(t[n]=l(u[c])(w));break;case"=":if(s&&!u[c])return;o=v(u[c]),i=o.assign||function(){throw r=t[n]=o(w),Error(Cr+u[c]+" (directive: "+q.name+")")},r=t[n]=o(w),t.$watch(function(){var e=o(w);return e!==t[n]&&(e!==r?r=t[n]=e:i(w,e=r=t[n])),e});break;case"&":o=v(u[c]),t[n]=function(e){return o(w,e)};break;default:throw Error("Invalid isolate scope definition for directive "+q.name+": "+e)}})}for(S&&i(S,function(e){var n={$scope:t,$element:p,$attrs:u,$transclude:s};_=e.controller,"@"==_&&(_=u[e.name]),p.data("$"+e.name+"Controller",y(_,n))}),h=0,m=j.length;m>h;h++)try{g=j[h],g(t,p,u,g.require&&d(g.require,p))}catch(b){f(b,H(p))}for(e&&e(t,a.childNodes,n,s),h=0,m=O.length;m>h;h++)try{g=O[h],g(t,p,u,g.require&&d(g.require,p))}catch(b){f(b,H(p))}}for(var h,m,g,w,S,P,E,R=-Number.MAX_VALUE,j=[],O=[],F=null,q=null,U=null,G=o.$$element=Kn(r),B=a,W=0,K=e.length;K>W&&(h=e[W],g=n,!(R>h.priority));W++){if((E=h.scope)&&(N("isolated scope",q,h,G),_(E)&&(k(G,"ng-isolate-scope"),q=h),k(G,"ng-scope"),F=F||h),m=h.name,(E=h.controller)&&(S=S||{},N("'"+m+"' controller",S[m],h,G),S[m]=h),(E=h.transclude)&&(N("transclusion",w,h,G),w=h,R=h.priority,"element"==E?(g=Kn(r),G=o.$$element=Kn(t.createComment(" "+m+": "+o[m]+" ")),r=G[0],L(c,Kn(g[0]),r),B=x(g,a,R)):(g=Kn(at(r)).contents(),G.html(""),B=x(g,a))),h.template)if(N("template",U,h,G),U=h,E=C(h.template)?h.template(G,o):h.template,E=z(E),h.replace){if(g=Kn("<div>"+I(E)+"</div>").contents(),r=g[0],1!=g.length||1!==r.nodeType)throw Error(s+E);L(c,G,r);var Z={$attr:{}};e=e.concat(T(r,e.splice(W+1,e.length-(W+1)),Z)),D(o,Z),K=e.length}else G.html(E);if(h.templateUrl)N("template",U,h,G),U=h,p=M(e.splice(W,e.length-W),p,G,o,c,h.replace,B),K=e.length;else if(h.compile)try{P=h.compile(G,o,B),C(P)?u(null,P):P&&u(P.pre,P.post)}catch(Q){f(Q,H(G))}h.terminal&&(p.terminal=!0,R=Math.max(R,h.priority))}return p.scope=F&&F.scope,p.transclude=w&&B,p}function R(t,i,a,c){var l=!1;if(r.hasOwnProperty(i))for(var s,u=e.get(i+o),d=0,p=u.length;p>d;d++)try{s=u[d],(c===n||c>s.priority)&&-1!=s.restrict.indexOf(a)&&(t.push(s),l=!0)}catch(h){f(h)}return l}function D(e,t){var n=t.$attr,r=e.$attr,o=e.$$element;i(e,function(r,o){"$"!=o.charAt(0)&&(t[o]&&(r+=("style"===o?";":" ")+t[o]),e.$set(o,r,!0,n[o]))}),i(t,function(t,i){"class"==i?(k(o,t),e["class"]=(e["class"]?e["class"]+" ":"")+t):"style"==i?o.attr("style",o.attr("style")+";"+t):"$"==i.charAt(0)||e.hasOwnProperty(i)||(e[i]=t,r[i]=n[i])})}function M(e,t,n,r,o,i,a){var c,l,d=[],f=n[0],h=e.shift(),m=u({},h,{controller:null,templateUrl:null,transclude:null,scope:null}),v=C(h.templateUrl)?h.templateUrl(n,r):h.templateUrl;return n.html(""),p.get(v,{cache:g}).success(function(u){var p,h,g;if(u=z(u),i){if(g=Kn("<div>"+I(u)+"</div>").contents(),p=g[0],1!=g.length||1!==p.nodeType)throw Error(s+u);h={$attr:{}},L(o,n,p),T(p,e,h),D(r,h)}else p=f,n.html(u);for(e.unshift(m),c=E(e,p,r,a),l=P(n[0].childNodes,a);d.length;){var v=d.shift(),_=d.shift(),$=d.shift(),y=d.shift(),w=p;_!==f&&(w=at(p),L($,Kn(_),w)),c(function(){t(l,v,w,o,y)},v,w,o,y)}d=null}).error(function(e,t,n,r){throw Error("Failed to load template: "+r.url)}),function(e,n,r,o,i){d?(d.push(n),d.push(r),d.push(o),d.push(i)):c(function(){t(l,n,r,o,i)},n,r,o,i)}}function j(e,t){return t.priority-e.priority}function N(e,t,n,r){if(t)throw Error("Multiple directives ["+t.name+", "+n.name+"] asking for "+e+" on: "+H(r))}function O(e,t){var n=l(t,!0);n&&e.push({priority:0,compile:m(function(e,t){var r=t.parent(),o=r.data("$binding")||[];o.push(n),k(r.data("$binding",o),"ng-binding"),e.$watch(n,function(e){t[0].nodeValue=e})})})}function q(e,t,n,r){var o=l(n,!0);o&&t.push({priority:100,compile:m(function(e,t,n){var i=n.$$observers||(n.$$observers={});o=l(n[r],!0),o&&(n[r]=o(e),(i[r]||(i[r]=[])).$$inter=!0,(n.$$observers&&n.$$observers[r].$$scope||e).$watch(o,function(e){n.$set(r,e)}))})})}function L(e,t,n){var r,o,i=t[0],a=i.parentNode;if(e)for(r=0,o=e.length;o>r;r++)if(e[r]==i){e[r]=n;break}a&&a.replaceChild(n,i),n[Kn.expando]=i[Kn.expando],t[0]=n}var V=function(e,t){this.$$element=e,this.$attr=t||{}};V.prototype={$normalize:Rt,$set:function(e,t,r,o){var a,c=_t(this.$$element[0],e),l=this.$$observers;c&&(this.$$element.prop(e,t),o=c),this[e]=t,o?this.$attr[e]=o:(o=this.$attr[e],o||(this.$attr[e]=o=Q(e,"-"))),"A"===Yn(this.$$element[0])&&"href"===e&&(U.setAttribute("href",t),a=U.href,a.match(d)||(this[e]=t="unsafe:"+a)),r!==!1&&(null===t||t===n?this.$$element.removeAttr(o):this.$$element.attr(o,t)),l&&i(l[e],function(e){try{e(t)}catch(n){f(n)}})},$observe:function(e,t){var n=this,r=n.$$observers||(n.$$observers={}),o=r[e]||(r[e]=[]);return o.push(t),w.$evalAsync(function(){o.$$inter||t(n[e])}),t}};var U=S[0].createElement("a"),G=l.startSymbol(),B=l.endSymbol(),z="{{"==G||"}}"==B?h:function z(e){return e.replace(/\{\{/g,G).replace(/}}/g,B)},W=/^ngAttr[A-Z]/;return x}]}function Rt(e){return rt(e.replace(Sr,""))}function Dt(){var e={};this.register=function(t,n){_(t)?u(e,t):e[t]=n},this.$get=["$injector","$window",function(t,n){return function(r,o){if($(r)){var i=r;r=e.hasOwnProperty(i)?e[i]:Jt(o.$scope,i,!0)||Jt(n,i,!0),X(r,i,!0)}return t.instantiate(r,o)}}]}function Mt(){this.$get=["$window",function(e){return Kn(e.document)}]}function At(){this.$get=["$log",function(e){return function(){e.error.apply(e,arguments)}}]}function jt(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler",function(r,o){function i(i,l){for(var s,u,d,f,p=0,h=[],m=i.length,g=!1,v=[];m>p;)-1!=(s=i.indexOf(e,p))&&-1!=(u=i.indexOf(t,s+a))?(p!=s&&h.push(i.substring(p,s)),h.push(d=r(f=i.substring(s+a,u))),d.exp=f,p=u+c,g=!0):(p!=m&&h.push(i.substring(p)),p=m);return(m=h.length)||(h.push(""),m=1),!l||g?(v.length=m,d=function(e){try{for(var t,r=0,a=m;a>r;r++)"function"==typeof(t=h[r])&&(t=t(e),null==t||t==n?t="":"string"!=typeof t&&(t=L(t))),v[r]=t;return v.join("")}catch(c){var l=Error("Error while interpolating: "+i+"\n"+(""+c));o(l)}},d.exp=i,d.parts=h,d):n}var a=e.length,c=t.length;return i.startSymbol=function(){return e},i.endSymbol=function(){return t},i}]}function Nt(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=z(t[n]);return t.join("/")}function Ot(e,t){var n=xr.exec(e);return n={protocol:n[1],host:n[3],port:d(n[5])||Pr[n[1]]||null,path:n[6]||"/",search:n[8],hash:n[10]},t&&(t.$$protocol=n.protocol,t.$$host=n.host,t.$$port=n.port),n}function Ft(e,t,n){return e+"://"+t+(n==Pr[e]?"":":"+n)}function qt(e){return e.substr(0,e.lastIndexOf("/"))}function Lt(e,t,n){var r=Ot(e);return decodeURIComponent(r.path)!=t||g(r.hash)||0!==r.hash.indexOf(n)?e:Ft(r.protocol,r.host,r.port)+qt(t)+r.hash.substr(n.length)}function Vt(e,t,n){var r=Ot(e);if(decodeURIComponent(r.path)!=t||g(r.hash)||0!==r.hash.indexOf(n)){var o=r.search&&"?"+r.search||"",i=r.hash&&"#"+r.hash||"",a=qt(t),c=r.path.substr(a.length);if(0!==r.path.indexOf(a))throw Error('Invalid url "'+e+'", missing path prefix "'+a+'" !');return Ft(r.protocol,r.host,r.port)+t+"#"+n+c+o+i}return e}function Ut(e,t,r){t=t||"",this.$$parse=function(e){var n=Ot(e,this);if(0!==n.path.indexOf(t))throw Error('Invalid url "'+e+'", missing path prefix "'+t+'" !');this.$$path=decodeURIComponent(n.path.substr(t.length)),this.$$search=G(n.search),this.$$hash=n.hash&&decodeURIComponent(n.hash)||"",this.$$compose()},this.$$compose=function(){var e=B(this.$$search),n=this.$$hash?"#"+z(this.$$hash):"";this.$$url=Nt(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=Ft(this.$$protocol,this.$$host,this.$$port)+t+this.$$url},this.$$rewriteAppUrl=function(e){return 0==e.indexOf(r)?e:n},this.$$parse(e)}function Ht(e,t,r){var o;this.$$parse=function(e){var n=Ot(e,this);if(n.hash&&0!==n.hash.indexOf(t))throw Error('Invalid url "'+e+'", missing hash prefix "'+t+'" !');o=n.path+(n.search?"?"+n.search:""),n=Ir.exec((n.hash||"").substr(t.length)),this.$$path=n[1]?("/"==n[1].charAt(0)?"":"/")+decodeURIComponent(n[1]):"",this.$$search=G(n[3]),this.$$hash=n[5]&&decodeURIComponent(n[5])||"",this.$$compose()},this.$$compose=function(){var e=B(this.$$search),n=this.$$hash?"#"+z(this.$$hash):"";this.$$url=Nt(this.$$path)+(e?"?"+e:"")+n,this.$$absUrl=Ft(this.$$protocol,this.$$host,this.$$port)+o+(this.$$url?"#"+t+this.$$url:"")},this.$$rewriteAppUrl=function(e){return 0==e.indexOf(r)?e:n},this.$$parse(e)}function Gt(e,t,r,o){Ht.apply(this,arguments),this.$$rewriteAppUrl=function(e){return 0==e.indexOf(r)?r+o+"#"+t+e.substr(r.length):n}}function Bt(e){return function(){return this[e]}}function zt(e,t){return function(n){return g(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function Wt(){var t="",n=!1;this.hashPrefix=function(e){return v(e)?(t=e,this):t},this.html5Mode=function(e){return v(e)?(n=e,this):n},this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(r,o,i,a){function c(e){r.$broadcast("$locationChangeSuccess",l.absUrl(),e)}var l,s,u,d,f=o.url(),p=Ot(f);n?(s=o.baseHref()||"/",u=qt(s),d=Ft(p.protocol,p.host,p.port)+u+"/",l=i.history?new Ut(Lt(f,s,t),u,d):new Gt(Vt(f,s,t),t,d,s.substr(u.length+1))):(d=Ft(p.protocol,p.host,p.port)+(p.path||"")+(p.search?"?"+p.search:"")+"#"+t+"/",l=new Ht(f,t,d)),a.bind("click",function(t){if(!t.ctrlKey&&!t.metaKey&&2!=t.which){for(var n=Kn(t.target);"a"!==Gn(n[0].nodeName);)if(n[0]===a[0]||!(n=n.parent())[0])return;var o=n.prop("href"),i=l.$$rewriteAppUrl(o);o&&!n.attr("target")&&i&&(l.$$parse(i),r.$apply(),t.preventDefault(),e.angular["ff-684208-preventDefault"]=!0)}}),l.absUrl()!=f&&o.url(l.absUrl(),!0),o.onUrlChange(function(e){l.absUrl()!=e&&(r.$evalAsync(function(){var t=l.absUrl();l.$$parse(e),c(t)}),r.$$phase||r.$digest())});var h=0;return r.$watch(function(){var e=o.url(),t=l.$$replace;return h&&e==l.absUrl()||(h++,r.$evalAsync(function(){r.$broadcast("$locationChangeStart",l.absUrl(),e).defaultPrevented?l.$$parse(e):(o.url(l.absUrl(),t),c(e))})),l.$$replace=!1,h}),l}]}function Kt(){var e=!0,t=this;this.debugEnabled=function(t){return v(t)?(e=t,this):e},this.$get=["$window",function(n){function r(e){return e instanceof Error&&(e.stack?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function o(e){var t=n.console||{},o=t[e]||t.log||p;return o.apply?function(){var e=[];return i(arguments,function(t){e.push(r(t))}),o.apply(t,e)}:function(e,t){o(e,t)}}return{log:o("log"),warn:o("warn"),info:o("info"),error:o("error"),debug:function(){var n=o("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function Zt(e,t){function r(e){return-1!=e.indexOf(g)}function o(e){return-1!=e.indexOf(w)}function i(t){var n=t||1;return e.length>$+n?e.charAt($+n):!1}function a(e){return e>="0"&&"9">=e}function c(e){return" "==e||"\r"==e||"	"==e||"\n"==e||""==e||" "==e}function l(e){return e>="a"&&"z">=e||e>="A"&&"Z">=e||"_"==e||"$"==e}function s(e){return"-"==e||"+"==e||a(e)}function d(t,n,r){throw r=r||$,Error("Lexer Error: "+t+" at column"+(v(n)?"s "+n+"-"+$+" ["+e.substring(n,r)+"]":" "+r)+" in expression ["+e+"].")}function f(){for(var t="",n=$;e.length>$;){var r=Gn(e.charAt($));if("."==r||a(r))t+=r;else{var o=i();if("e"==r&&s(o))t+=r;else if(s(r)&&o&&a(o)&&"e"==t.charAt(t.length-1))t+=r;else{if(!s(r)||o&&a(o)||"e"!=t.charAt(t.length-1))break;d("Invalid exponent")}}$++}t=1*t,_.push({index:n,text:t,json:!0,fn:function(){return t}})}function p(){for(var n,r,o,i="",s=$;e.length>$;){var d=e.charAt($);if("."!=d&&!l(d)&&!a(d))break;"."==d&&(n=$),i+=d,$++}if(n)for(r=$;e.length>r;){var d=e.charAt(r);if("("==d){o=i.substr(n-s+1),i=i.substr(0,n-s),$=r;
break}if(!c(d))break;r++}var f={index:s,text:i};if(Tr.hasOwnProperty(i))f.fn=f.json=Tr[i];else{var p=en(i,t);f.fn=u(function(e,t){return p(e,t)},{assign:function(e,t){return Yt(e,i,t)}})}_.push(f),o&&(_.push({index:n,text:".",json:!1}),_.push({index:n+1,text:o,json:!1}))}function h(t){var r=$;$++;for(var o="",i=t,a=!1;e.length>$;){var c=e.charAt($);if(i+=c,a){if("u"==c){var l=e.substring($+1,$+5);l.match(/[\da-f]{4}/i)||d("Invalid unicode escape [\\u"+l+"]"),$+=4,o+=String.fromCharCode(parseInt(l,16))}else{var s=Er[c];o+=s?s:c}a=!1}else if("\\"==c)a=!0;else{if(c==t)return $++,_.push({index:r,text:i,string:o,json:!0,fn:function(){return o}}),n;o+=c}$++}d("Unterminated quote",r)}for(var m,g,_=[],$=0,y=[],w=":";e.length>$;){if(g=e.charAt($),r("\"'"))h(g);else if(a(g)||r(".")&&a(i()))f();else if(l(g))p(),o("{,")&&"{"==y[0]&&(m=_[_.length-1])&&(m.json=-1==m.text.indexOf("."));else if(r("(){}[].,;:"))_.push({index:$,text:g,json:o(":[,")&&r("{[")||r("}]:,")}),r("{[")&&y.unshift(g),r("}]")&&y.shift(),$++;else{if(c(g)){$++;continue}var b=g+i(),C=b+i(2),S=Tr[g],x=Tr[b],k=Tr[C];k?(_.push({index:$,text:C,fn:k}),$+=3):x?(_.push({index:$,text:b,fn:x}),$+=2):S?(_.push({index:$,text:g,fn:S,json:o("[,:")&&r("+-")}),$+=1):d("Unexpected next character ",$,$+1)}w=g}return _}function Qt(e,t,r,o){function i(t,n){throw Error("Syntax Error: Token '"+n.text+"' "+t+" at column "+(n.index+1)+" of the expression ["+e+"] starting at ["+e.substring(n.index)+"].")}function a(){if(0===j.length)throw Error("Unexpected end of expression: "+e);return j[0]}function c(e,t,n,r){if(j.length>0){var o=j[0],i=o.text;if(i==e||i==t||i==n||i==r||!e&&!t&&!n&&!r)return o}return!1}function l(e,n,r,o){var a=c(e,n,r,o);return a?(t&&!a.json&&i("is not valid json",a),j.shift(),a):!1}function s(e){l(e)||i("is unexpected, expecting ["+e+"]",c())}function d(e,t){return u(function(n,r){return e(n,r,t)},{constant:t.constant})}function f(e,t,n){return u(function(r,o){return t(r,o,e,n)},{constant:e.constant&&n.constant})}function h(){for(var e=[];;)if(j.length>0&&!c("}",")",";","]")&&e.push(L()),!l(";"))return 1==e.length?e[0]:function(t,n){for(var r,o=0;e.length>o;o++){var i=e[o];i&&(r=i(t,n))}return r}}function g(){for(var e,t=_();;){if(!(e=l("|")))return t;t=f(t,e.fn,v())}}function v(){for(var e=l(),t=r(e.text),n=[];;){if(!(e=l(":"))){var o=function(e,r,o){for(var i=[o],a=0;n.length>a;a++)i.push(n[a](e,r));return t.apply(e,i)};return function(){return o}}n.push(_())}}function _(){return N()}function $(){var t,n,r=y();return(n=l("="))?(r.assign||i("implies assignment but ["+e.substring(0,n.index)+"] can not be assigned to",n),t=y(),function(e,n){return r.assign(e,t(e,n),n)}):r}function y(){for(var e,t=w();;){if(!(e=l("||")))return t;t=f(t,e.fn,w())}}function w(){var e,t=b();return(e=l("&&"))&&(t=f(t,e.fn,w())),t}function b(){var e,t=C();return(e=l("==","!=","===","!=="))&&(t=f(t,e.fn,b())),t}function C(){var e,t=S();return(e=l("<",">","<=",">="))&&(t=f(t,e.fn,C())),t}function S(){for(var e,t=x();e=l("+","-");)t=f(t,e.fn,x());return t}function x(){for(var e,t=k();e=l("*","/","%");)t=f(t,e.fn,k());return t}function k(){var e;return l("+")?I():(e=l("-"))?f(A,e.fn,k()):(e=l("!"))?d(e.fn,k()):I()}function I(){var e;if(l("("))e=L(),s(")");else if(l("["))e=R();else if(l("{"))e=D();else{var t=l();e=t.fn,e||i("not a primary expression",t),t.json&&(e.constant=e.literal=!0)}for(var n,r;n=l("(","[",".");)"("===n.text?(e=O(e,r),r=null):"["===n.text?(r=e,e=q(e)):"."===n.text?(r=e,e=F(e)):i("IMPOSSIBLE");return e}function P(e){var t=l().text,n=en(t,o);return u(function(t,r){return n(e(t,r),r)},{assign:function(n,r,o){return Yt(e(n,o),t,r)}})}function T(e){var t=_();return s("]"),u(function(r,o){var i,a,c=e(r,o),l=t(r,o);return c?(i=c[l],i&&i.then&&(a=i,"$$v"in i||(a.$$v=n,a.then(function(e){a.$$v=e})),i=i.$$v),i):n},{assign:function(n,r,o){return e(n,o)[t(n,o)]=r}})}function E(e,t){var n=[];if(")"!=a().text)do n.push(_());while(l(","));return s(")"),function(r,o){for(var i=[],a=t?t(r,o):r,c=0;n.length>c;c++)i.push(n[c](r,o));var l=e(r,o)||p;return l.apply?l.apply(a,i):l(i[0],i[1],i[2],i[3],i[4])}}function R(){var e=[],t=!0;if("]"!=a().text)do{var n=_();e.push(n),n.constant||(t=!1)}while(l(","));return s("]"),u(function(t,n){for(var r=[],o=0;e.length>o;o++)r.push(e[o](t,n));return r},{literal:!0,constant:t})}function D(){var e=[],t=!0;if("}"!=a().text)do{var n=l(),r=n.string||n.text;s(":");var o=_();e.push({key:r,value:o}),o.constant||(t=!1)}while(l(","));return s("}"),u(function(t,n){for(var r={},o=0;e.length>o;o++){var i=e[o],a=i.value(t,n);r[i.key]=a}return r},{literal:!0,constant:t})}var M,A=m(0),j=Zt(e,o),N=$,O=E,F=P,q=T,L=g;return t?(N=y,O=F=q=L=function(){i("is not valid json",{text:e,index:0})},M=I()):M=h(),0!==j.length&&i("is an unexpected token",j[0]),M.literal=!!M.literal,M.constant=!!M.constant,M}function Yt(e,t,n){for(var r=t.split("."),o=0;r.length>1;o++){var i=r.shift(),a=e[i];a||(a={},e[i]=a),e=a}return e[r.shift()]=n,n}function Jt(e,t,n){if(!t)return e;for(var r,o=t.split("."),i=e,a=o.length,c=0;a>c;c++)r=o[c],e&&(e=(i=e)[r]);return!n&&C(e)?F(i,e):e}function Xt(e,t,r,o,i){return function(a,c){var l,s=c&&c.hasOwnProperty(e)?c:a;return null===s||s===n?s:(s=s[e],s&&s.then&&("$$v"in s||(l=s,l.$$v=n,l.then(function(e){l.$$v=e})),s=s.$$v),t&&null!==s&&s!==n?(s=s[t],s&&s.then&&("$$v"in s||(l=s,l.$$v=n,l.then(function(e){l.$$v=e})),s=s.$$v),r&&null!==s&&s!==n?(s=s[r],s&&s.then&&("$$v"in s||(l=s,l.$$v=n,l.then(function(e){l.$$v=e})),s=s.$$v),o&&null!==s&&s!==n?(s=s[o],s&&s.then&&("$$v"in s||(l=s,l.$$v=n,l.then(function(e){l.$$v=e})),s=s.$$v),i&&null!==s&&s!==n?(s=s[i],s&&s.then&&("$$v"in s||(l=s,l.$$v=n,l.then(function(e){l.$$v=e})),s=s.$$v),s):s):s):s):s)}}function en(e,t){if(Rr.hasOwnProperty(e))return Rr[e];var r,o=e.split("."),a=o.length;if(t)r=6>a?Xt(o[0],o[1],o[2],o[3],o[4]):function(e,t){var r,i=0;do r=Xt(o[i++],o[i++],o[i++],o[i++],o[i++])(e,t),t=n,e=r;while(a>i);return r};else{var c="var l, fn, p;\n";i(o,function(e,t){c+="if(s === null || s === undefined) return s;\nl=s;\ns="+(t?"s":'((k&&k.hasOwnProperty("'+e+'"))?k:s)')+'["'+e+'"]'+";\n"+"if (s && s.then) {\n"+' if (!("$$v" in s)) {\n'+" p=s;\n"+" p.$$v = undefined;\n"+" p.then(function(v) {p.$$v=v;});\n"+"}\n"+" s=s.$$v\n"+"}\n"}),c+="return s;",r=Function("s","k",c),r.toString=function(){return c}}return Rr[e]=r}function tn(){var e={};this.$get=["$filter","$sniffer",function(t,n){return function(r){switch(typeof r){case"string":return e.hasOwnProperty(r)?e[r]:e[r]=Qt(r,!1,t,n.csp);case"function":return r;default:return p}}}]}function nn(){this.$get=["$rootScope","$exceptionHandler",function(e,t){return rn(function(t){e.$evalAsync(t)},t)}]}function rn(e,t){function r(e){return e}function o(e){return s(e)}function a(e){var t=c(),n=0,r=b(e)?[]:{};return i(e,function(e,o){n++,l(e).then(function(e){r.hasOwnProperty(o)||(r[o]=e,--n||t.resolve(r))},function(e){r.hasOwnProperty(o)||t.reject(e)})}),0===n&&t.resolve(r),t.promise}var c=function(){var i,a,u=[];return a={resolve:function(t){if(u){var r=u;u=n,i=l(t),r.length&&e(function(){for(var e,t=0,n=r.length;n>t;t++)e=r[t],i.then(e[0],e[1])})}},reject:function(e){a.resolve(s(e))},promise:{then:function(e,n){var a=c(),l=function(n){try{a.resolve((e||r)(n))}catch(o){t(o),a.reject(o)}},s=function(e){try{a.resolve((n||o)(e))}catch(r){t(r),a.reject(r)}};return u?u.push([l,s]):i.then(l,s),a.promise}}}},l=function(t){return t&&t.then?t:{then:function(n){var r=c();return e(function(){r.resolve(n(t))}),r.promise}}},s=function(t){return{then:function(n,r){var i=c();return e(function(){i.resolve((r||o)(t))}),i.promise}}},u=function(n,i,a){var u,d=c(),f=function(e){try{return(i||r)(e)}catch(n){return t(n),s(n)}},p=function(e){try{return(a||o)(e)}catch(n){return t(n),s(n)}};return e(function(){l(n).then(function(e){u||(u=!0,d.resolve(l(e).then(f,p)))},function(e){u||(u=!0,d.resolve(p(e)))})}),d.promise};return{defer:c,reject:s,when:u,all:a}}function on(){var e={};this.when=function(t,n){if(e[t]=u({reloadOnSearch:!0,caseInsensitiveMatch:!1},n),t){var r="/"==t[t.length-1]?t.substr(0,t.length-1):t+"/";e[r]={redirectTo:t}}return this},this.otherwise=function(e){return this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$http","$templateCache",function(t,n,r,o,a,c,l){function s(e,t,n){t="^"+t.replace(/[-\/\\^$:*+?.()|[\]{}]/g,"\\$&")+"$";for(var r,o="",a=[],c={},l=/\\([:*])(\w+)/g,s=0;null!==(r=l.exec(t));){switch(o+=t.slice(s,r.index),r[1]){case":":o+="([^\\/]*)";break;case"*":o+="(.*)"}a.push(r[2]),s=l.lastIndex}o+=t.substr(s);var u=e.match(RegExp(o,n.caseInsensitiveMatch?"i":""));return u&&i(a,function(e,t){c[e]=u[t+1]}),u?c:null}function d(){var e=p(),s=g.current;e&&s&&e.$$route===s.$$route&&j(e.pathParams,s.pathParams)&&!e.reloadOnSearch&&!m?(s.params=e.params,M(s.params,r),t.$broadcast("$routeUpdate",s)):(e||s)&&(m=!1,t.$broadcast("$routeChangeStart",e,s),g.current=e,e&&e.redirectTo&&($(e.redirectTo)?n.path(h(e.redirectTo,e.params)).search(e.params).replace():n.url(e.redirectTo(e.pathParams,n.path(),n.search())).replace()),o.when(e).then(function(){if(e){var t,n=u({},e.resolve);return i(n,function(e,t){n[t]=$(e)?a.get(e):a.invoke(e)}),v(t=e.template)?C(t)&&(t=t(e.params)):v(t=e.templateUrl)&&(C(t)&&(t=t(e.params)),v(t)&&(e.loadedTemplateUrl=t,t=c.get(t,{cache:l}).then(function(e){return e.data}))),v(t)&&(n.$template=t),o.all(n)}}).then(function(n){e==g.current&&(e&&(e.locals=n,M(e.params,r)),t.$broadcast("$routeChangeSuccess",e,s))},function(n){e==g.current&&t.$broadcast("$routeChangeError",e,s,n)}))}function p(){var t,r;return i(e,function(e,o){!r&&(t=s(n.path(),o,e))&&(r=f(e,{params:u({},n.search(),t),pathParams:t}),r.$$route=e)}),r||e[null]&&f(e[null],{params:{},pathParams:{}})}function h(e,t){var n=[];return i((e||"").split(":"),function(e,r){if(0==r)n.push(e);else{var o=e.match(/(\w+)(.*)/),i=o[1];n.push(t[i]),n.push(o[2]||""),delete t[i]}}),n.join("")}var m=!1,g={routes:e,reload:function(){m=!0,t.$evalAsync(d)}};return t.$on("$locationChangeSuccess",d),g}]}function an(){this.$get=m({})}function cn(){var e=10;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$injector","$exceptionHandler","$parse",function(t,n,r){function o(){this.$id=s(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this["this"]=this.$root=this,this.$$destroyed=!1,this.$$asyncQueue=[],this.$$listeners={},this.$$isolateBindings={}}function i(e){if(u.$$phase)throw Error(u.$$phase+" already in progress");u.$$phase=e}function a(){u.$$phase=null}function c(e,t){var n=r(e);return X(n,t),n}function l(){}o.prototype={$new:function(e){var t,n;if(C(e))throw Error("API-CHANGE: Use $controller to instantiate controllers.");return e?(n=new o,n.$root=this.$root):(t=function(){},t.prototype=this,n=new t,n.$id=s()),n["this"]=n,n.$$listeners={},n.$parent=this,n.$$watchers=n.$$nextSibling=n.$$childHead=n.$$childTail=null,n.$$prevSibling=this.$$childTail,this.$$childHead?(this.$$childTail.$$nextSibling=n,this.$$childTail=n):this.$$childHead=this.$$childTail=n,n},$watch:function(e,t,n){var r=this,o=c(e,"watch"),i=r.$$watchers,a={fn:t,last:l,get:o,exp:e,eq:!!n};if(!C(t)){var s=c(t||p,"listener");a.fn=function(e,t,n){s(n)}}if("string"==typeof e&&o.constant){var u=a.fn;a.fn=function(e,t,n){u.call(this,e,t,n),D(i,a)}}return i||(i=r.$$watchers=[]),i.unshift(a),function(){D(i,a)}},$watchCollection:function(e,t){function n(){a=s(c);var e,t;if(_(a))if(b(a)){i!==u&&(i=u,f=i.length=0,l++),e=a.length,f!==e&&(l++,i.length=f=e);for(var n=0;e>n;n++)i[n]!==a[n]&&(l++,i[n]=a[n])}else{i!==d&&(i=d={},f=0,l++),e=0;for(t in a)a.hasOwnProperty(t)&&(e++,i.hasOwnProperty(t)?i[t]!==a[t]&&(l++,i[t]=a[t]):(f++,i[t]=a[t],l++));if(f>e){l++;for(t in i)i.hasOwnProperty(t)&&!a.hasOwnProperty(t)&&(f--,delete i[t])}}else i!==a&&(i=a,l++);return l}function o(){t(a,i,c)}var i,a,c=this,l=0,s=r(e),u=[],d={},f=0;return this.$watch(n,o)},$digest:function(){var t,r,o,c,s,u,d,f,p,h,m=this.$$asyncQueue,g=e,v=this,_=[];i("$digest");do{for(u=!1,f=v;m.length;)try{f.$eval(m.shift())}catch($){n($)}do{if(c=f.$$watchers)for(s=c.length;s--;)try{t=c[s],(r=t.get(f))===(o=t.last)||(t.eq?j(r,o):"number"==typeof r&&"number"==typeof o&&isNaN(r)&&isNaN(o))||(u=!0,t.last=t.eq?M(r):r,t.fn(r,o===l?r:o,f),5>g&&(p=4-g,_[p]||(_[p]=[]),h=C(t.exp)?"fn: "+(t.exp.name||""+t.exp):t.exp,h+="; newVal: "+L(r)+"; oldVal: "+L(o),_[p].push(h)))}catch($){n($)}if(!(d=f.$$childHead||f!==v&&f.$$nextSibling))for(;f!==v&&!(d=f.$$nextSibling);)f=f.$parent}while(f=d);if(u&&!g--)throw a(),Error(e+" $digest() iterations reached. Aborting!\n"+"Watchers fired in the last 5 iterations: "+L(_))}while(u||m.length);a()},$destroy:function(){if(u!=this&&!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,e.$$childHead==this&&(e.$$childHead=this.$$nextSibling),e.$$childTail==this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null}},$eval:function(e,t){return r(e)(this,t)},$evalAsync:function(e){this.$$asyncQueue.push(e)},$apply:function(e){try{return i("$apply"),this.$eval(e)}catch(t){n(t)}finally{a();try{u.$digest()}catch(t){throw n(t),t}}},$on:function(e,t){var n=this.$$listeners[e];return n||(this.$$listeners[e]=n=[]),n.push(t),function(){n[R(n,t)]=null}},$emit:function(e){var t,r,o,i=[],a=this,c=!1,l={name:e,targetScope:a,stopPropagation:function(){c=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},s=N([l],arguments,1);do{for(t=a.$$listeners[e]||i,l.currentScope=a,r=0,o=t.length;o>r;r++)if(t[r])try{if(t[r].apply(null,s),c)return l}catch(u){n(u)}else t.splice(r,1),r--,o--;a=a.$parent}while(a);return l},$broadcast:function(e){var t,r,o,i=this,a=i,c=i,l={name:e,targetScope:i,preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},s=N([l],arguments,1);do{for(a=c,l.currentScope=a,t=a.$$listeners[e]||[],r=0,o=t.length;o>r;r++)if(t[r])try{t[r].apply(null,s)}catch(u){n(u)}else t.splice(r,1),r--,o--;if(!(c=a.$$childHead||a!==i&&a.$$nextSibling))for(;a!==i&&!(c=a.$$nextSibling);)a=a.$parent}while(a=c);return l}};var u=new o;return u}]}function ln(){this.$get=["$window","$document",function(e,t){var n,r,o={},i=d((/android (\d+)/.exec(Gn((e.navigator||{}).userAgent))||[])[1]),a=t[0]||{},c=/^(Moz|webkit|O|ms)(?=[A-Z])/,l=a.body&&a.body.style,s=!1;if(l){for(var u in l)if(r=c.exec(u)){n=r[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}s=!!(n+"Transition"in l)}return{history:!(!e.history||!e.history.pushState||4>i),hashchange:"onhashchange"in e&&(!a.documentMode||a.documentMode>7),hasEvent:function(e){if("input"==e&&9==Jn)return!1;if(g(o[e])){var t=a.createElement("div");o[e]="on"+e in t}return o[e]},csp:a.securityPolicy?a.securityPolicy.isActive:!1,vendorPrefix:n,supportsTransitions:s}}]}function sn(){this.$get=m(e)}function un(e){var t,n,r,o={};return e?(i(e.split("\n"),function(e){r=e.indexOf(":"),t=Gn(I(e.substr(0,r))),n=I(e.substr(r+1)),t&&(o[t]?o[t]+=", "+n:o[t]=n)}),o):o}function dn(e,t){var r=Dr.exec(e);if(null==r)return!0;var o={protocol:r[2],host:r[4],port:d(r[6])||Pr[r[2]]||null,relativeProtocol:r[2]===n||""===r[2]};r=xr.exec(t);var i={protocol:r[1],host:r[3],port:d(r[5])||Pr[r[1]]||null};return(o.protocol==i.protocol||o.relativeProtocol)&&o.host==i.host&&(o.port==i.port||o.relativeProtocol&&i.port==Pr[i.protocol])}function fn(e){var t=_(e)?e:n;return function(n){return t||(t=un(e)),n?t[Gn(n)]||null:t}}function pn(e,t,n){return C(n)?n(e,t):(i(n,function(n){e=n(e,t)}),e)}function hn(e){return e>=200&&300>e}function mn(){var e=/^\s*(\[|\{[^\{])/,t=/[\}\]]\s*$/,r=/^\)\]\}',?\n/,o=this.defaults={transformResponse:[function(n){return $(n)&&(n=n.replace(r,""),e.test(n)&&t.test(n)&&(n=V(n,!0))),n}],transformRequest:[function(e){return _(e)&&!k(e)?L(e):e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:{"Content-Type":"application/json;charset=utf-8"},put:{"Content-Type":"application/json;charset=utf-8"}},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},a=this.interceptors=[],l=this.responseInterceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(e,t,r,s,d,f){function p(e){function r(e){var t=u({},e,{data:pn(e.data,e.headers,a.transformResponse)});return hn(e.status)?t:d.reject(t)}var a={transformRequest:o.transformRequest,transformResponse:o.transformResponse},c={};u(a,e),a.headers=c,a.method=Bn(a.method),u(c,o.headers.common,o.headers[Gn(a.method)],e.headers);var l=dn(a.url,t.url())?t.cookies()[a.xsrfCookieName||o.xsrfCookieName]:n;l&&(c[a.xsrfHeaderName||o.xsrfHeaderName]=l);var s=function(e){var t=pn(e.data,fn(c),e.transformRequest);return g(e.data)&&delete c["Content-Type"],g(e.withCredentials)&&!g(o.withCredentials)&&(e.withCredentials=o.withCredentials),v(e,t,c).then(r,r)},f=[s,n],p=d.when(a);for(i(C,function(e){(e.request||e.requestError)&&f.unshift(e.request,e.requestError),(e.response||e.responseError)&&f.push(e.response,e.responseError)});f.length;){var h=f.shift(),m=f.shift();p=p.then(h,m)}return p.success=function(e){return p.then(function(t){e(t.data,t.status,t.headers,a)}),p},p.error=function(e){return p.then(null,function(t){e(t.data,t.status,t.headers,a)}),p},p}function h(){i(arguments,function(e){p[e]=function(t,n){return p(u(n||{},{method:e,url:t}))}})}function m(){i(arguments,function(e){p[e]=function(t,n,r){return p(u(r||{},{method:e,url:t,data:n}))}})}function v(t,n,r){function i(e,t,n){l&&(hn(e)?l.put(m,[e,t,un(n)]):l.remove(m)),a(t,e,n),s.$apply()}function a(e,n,r){n=Math.max(n,0),(hn(n)?f.resolve:f.reject)({data:e,status:n,headers:fn(r),config:t})}function c(){var e=R(p.pendingRequests,t);-1!==e&&p.pendingRequests.splice(e,1)}var l,u,f=d.defer(),h=f.promise,m=y(t.url,t.params);if(p.pendingRequests.push(t),h.then(c,c),(t.cache||o.cache)&&t.cache!==!1&&"GET"==t.method&&(l=_(t.cache)?t.cache:_(o.cache)?o.cache:w),l)if(u=l.get(m)){if(u.then)return u.then(c,c),u;b(u)?a(u[1],u[0],M(u[2])):a(u,200,{})}else l.put(m,h);return u||e(t.method,m,n,i,r,t.timeout,t.withCredentials,t.responseType),h}function y(e,t){if(!t)return e;var r=[];return c(t,function(e,t){null!=e&&e!=n&&(b(e)||(e=[e]),i(e,function(e){_(e)&&(e=L(e)),r.push(W(t)+"="+W(e))}))}),e+(-1==e.indexOf("?")?"?":"&")+r.join("&")}var w=r("$http"),C=[];return i(a,function(e){C.unshift($(e)?f.get(e):f.invoke(e))}),i(l,function(e,t){var n=$(e)?f.get(e):f.invoke(e);C.splice(t,0,{response:function(e){return n(d.when(e))},responseError:function(e){return n(d.reject(e))}})}),p.pendingRequests=[],h("get","delete","head","jsonp"),m("post","put"),p.defaults=o,p}]}function gn(){this.$get=["$browser","$window","$document",function(e,t,n){return vn(e,Mr,e.defer,t.angular.callbacks,n[0],t.location.protocol.replace(":",""))}]}function vn(e,t,n,r,o,a){function c(e,t){var n=o.createElement("script"),r=function(){o.body.removeChild(n),t&&t()};n.type="text/javascript",n.src=e,Jn?n.onreadystatechange=function(){/loaded|complete/.test(n.readyState)&&r()}:n.onload=n.onerror=r,o.body.appendChild(n)}return function(o,l,s,u,d,f,h,m){function g(t,n,r,o){var i=(l.match(xr)||["",a])[1];n="file"==i?r?200:404:n,n=1223==n?204:n,t(n,r,o),e.$$completeOutstandingRequest(p)}if(e.$$incOutstandingRequestCount(),l=l||e.url(),"jsonp"==Gn(o)){var v="_"+(r.counter++).toString(36);r[v]=function(e){r[v].data=e},c(l.replace("JSON_CALLBACK","angular.callbacks."+v),function(){r[v].data?g(u,200,r[v].data):g(u,-2),delete r[v]})}else{var _=new t;_.open(o,l,!0),i(d,function(e,t){e&&_.setRequestHeader(t,e)});var $;_.onreadystatechange=function(){if(4==_.readyState){var e=_.getAllResponseHeaders(),t=["Cache-Control","Content-Language","Content-Type","Expires","Last-Modified","Pragma"];e||(e="",i(t,function(t){var n=_.getResponseHeader(t);n&&(e+=t+": "+n+"\n")})),g(u,$||_.status,_.responseType?_.response:_.responseText,e)}},h&&(_.withCredentials=!0),m&&(_.responseType=m),_.send(s||""),f>0&&n(function(){$=-1,_.abort()},f)}}}function _n(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(e){return 1===e?"one":"other"}}}}function $n(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function(e,t,n,r){function o(o,a,c){var l,s,u=n.defer(),d=u.promise,f=v(c)&&!c;return l=t.defer(function(){try{u.resolve(o())}catch(t){u.reject(t),r(t)}f||e.$apply()},a),s=function(){delete i[d.$$timeoutId]},d.$$timeoutId=l,i[l]=u,d.then(s,s),d}var i={};return o.cancel=function(e){return e&&e.$$timeoutId in i?(i[e.$$timeoutId].reject("canceled"),t.defer.cancel(e.$$timeoutId)):!1},o}]}function yn(e){function t(t,r){return e.factory(t+n,r)}var n="Filter";this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+n)}}],t("currency",bn),t("date",En),t("filter",wn),t("json",Rn),t("limitTo",Dn),t("lowercase",Fr),t("number",Cn),t("orderBy",Mn),t("uppercase",qr)}function wn(){return function(e,t,n){if(!b(e))return e;var r=[];switch(r.check=function(e){for(var t=0;r.length>t;t++)if(!r[t](e))return!1;return!0},typeof n){case"function":break;case"boolean":if(1==n){n=function(e,t){return rr.equals(e,t)};break}default:n=function(e,t){return t=(""+t).toLowerCase(),(""+e).toLowerCase().indexOf(t)>-1}}var o=function(e,t){if("string"==typeof t&&"!"===t.charAt(0))return!o(e,t.substr(1));switch(typeof e){case"boolean":case"number":case"string":return n(e,t);case"object":switch(typeof t){case"object":return n(e,t);default:for(var r in e)if("$"!==r.charAt(0)&&o(e[r],t))return!0}return!1;case"array":for(var i=0;e.length>i;i++)if(o(e[i],t))return!0;return!1;default:return!1}};switch(typeof t){case"boolean":case"number":case"string":t={$:t};case"object":for(var i in t)"$"==i?function(){if(t[i]){var e=i;r.push(function(n){return o(n,t[e])})}}():function(){if(t[i]){var e=i;r.push(function(n){return o(Jt(n,e),t[e])})}}();break;case"function":r.push(t);break;default:return e}for(var a=[],c=0;e.length>c;c++){var l=e[c];r.check(l)&&a.push(l)}return a}}function bn(e){var t=e.NUMBER_FORMATS;return function(e,n){return g(n)&&(n=t.CURRENCY_SYM),Sn(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,2).replace(/\u00A4/g,n)}}function Cn(e){var t=e.NUMBER_FORMATS;return function(e,n){return Sn(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function Sn(e,t,n,r,o){if(isNaN(e)||!isFinite(e))return"";var i=0>e;e=Math.abs(e);var a=e+"",c="",l=[],s=!1;if(-1!==a.indexOf("e")){var u=a.match(/([\d\.]+)e(-?)(\d+)/);u&&"-"==u[2]&&u[3]>o+1?a="0":(c=a,s=!0)}if(!s){var d=(a.split(Ar)[1]||"").length;g(o)&&(o=Math.min(Math.max(t.minFrac,d),t.maxFrac));var f=Math.pow(10,o);e=Math.round(e*f)/f;var p=(""+e).split(Ar),h=p[0];p=p[1]||"";var m=0,v=t.lgSize,_=t.gSize;if(h.length>=v+_){m=h.length-v;for(var $=0;m>$;$++)0===(m-$)%_&&0!==$&&(c+=n),c+=h.charAt($)}for($=m;h.length>$;$++)0===(h.length-$)%v&&0!==$&&(c+=n),c+=h.charAt($);for(;o>p.length;)p+="0";o&&"0"!==o&&(c+=r+p.substr(0,o))}return l.push(i?t.negPre:t.posPre),l.push(c),l.push(i?t.negSuf:t.posSuf),l.join("")}function xn(e,t,n){var r="";for(0>e&&(r="-",e=-e),e=""+e;t>e.length;)e="0"+e;return n&&(e=e.substr(e.length-t)),r+e}function kn(e,t,n,r){return function(o){var i=o["get"+e]();return(n>0||i>-n)&&(i+=n),0===i&&-12==n&&(i=12),xn(i,t,r)}}function In(e,t){return function(n,r){var o=n["get"+e](),i=Bn(t?"SHORT"+e:e);return r[i][o]}}function Pn(e){var t=-1*e.getTimezoneOffset(),n=t>=0?"+":"";return n+=xn(Math[t>0?"floor":"ceil"](t/60),2)+xn(Math.abs(t%60),2)}function Tn(e,t){return 12>e.getHours()?t.AMPMS[0]:t.AMPMS[1]}function En(e){function t(e){var t;if(t=e.match(n)){var r=new Date(0),o=0,i=0,a=t[8]?r.setUTCFullYear:r.setFullYear,c=t[8]?r.setUTCHours:r.setHours;return t[9]&&(o=d(t[9]+t[10]),i=d(t[9]+t[11])),a.call(r,d(t[1]),d(t[2])-1,d(t[3])),c.call(r,d(t[4]||0)-o,d(t[5]||0)-i,d(t[6]||0),d(t[7]||0)),r}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r){var o,a,c="",l=[];if(r=r||"mediumDate",r=e.DATETIME_FORMATS[r]||r,$(n)&&(n=Or.test(n)?d(n):t(n)),y(n)&&(n=new Date(n)),!w(n))return n;for(;r;)a=Nr.exec(r),a?(l=N(l,a,1),r=l.pop()):(l.push(r),r=null);return i(l,function(t){o=jr[t],c+=o?o(n,e.DATETIME_FORMATS):t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}}function Rn(){return function(e){return L(e,!0)}}function Dn(){return function(e,t){if(!b(e)&&!$(e))return e;if(t=d(t),$(e))return t?t>=0?e.slice(0,t):e.slice(t,e.length):"";var n,r,o=[];for(t>e.length?t=e.length:-e.length>t&&(t=-e.length),t>0?(n=0,r=t):(n=e.length+t,r=e.length);r>n;n++)o.push(e[n]);return o}}function Mn(e){return function(t,n,r){function o(e,t){for(var r=0;n.length>r;r++){var o=n[r](e,t);if(0!==o)return o}return 0}function i(e,t){return U(t)?function(t,n){return e(n,t)}:e}function a(e,t){var n=typeof e,r=typeof t;return n==r?("string"==n&&(e=e.toLowerCase()),"string"==n&&(t=t.toLowerCase()),e===t?0:t>e?-1:1):r>n?-1:1}if(!b(t))return t;if(!n)return t;n=b(n)?n:[n],n=T(n,function(t){var n=!1,r=t||h;return $(t)&&(("+"==t.charAt(0)||"-"==t.charAt(0))&&(n="-"==t.charAt(0),t=t.substring(1)),r=e(t)),i(function(e,t){return a(r(e),r(t))},n)});for(var c=[],l=0;t.length>l;l++)c.push(t[l]);return c.sort(i(o,r))}}function An(e){return C(e)&&(e={link:e}),e.restrict=e.restrict||"AC",m(e)}function jn(e,t){function n(t,n){n=n?"-"+Q(n,"-"):"",e.removeClass((t?Jr:Yr)+n).addClass((t?Yr:Jr)+n)}var r=this,o=e.parent().controller("form")||Ur,a=0,c=r.$error={},l=[];r.$name=t.name,r.$dirty=!1,r.$pristine=!0,r.$valid=!0,r.$invalid=!1,o.$addControl(r),e.addClass(Xr),n(!0),r.$addControl=function(e){l.push(e),e.$name&&!r.hasOwnProperty(e.$name)&&(r[e.$name]=e)},r.$removeControl=function(e){e.$name&&r[e.$name]===e&&delete r[e.$name],i(c,function(t,n){r.$setValidity(n,!0,e)}),D(l,e)},r.$setValidity=function(e,t,i){var l=c[e];if(t)l&&(D(l,i),l.length||(a--,a||(n(t),r.$valid=!0,r.$invalid=!1),c[e]=!1,n(!0,e),o.$setValidity(e,!0,r)));else{if(a||n(t),l){if(E(l,i))return}else c[e]=l=[],a++,n(!1,e),o.$setValidity(e,!1,r);l.push(i),r.$valid=!1,r.$invalid=!0}},r.$setDirty=function(){e.removeClass(Xr).addClass(eo),r.$dirty=!0,r.$pristine=!1,o.$setDirty()},r.$setPristine=function(){e.removeClass(eo).addClass(Xr),r.$dirty=!1,r.$pristine=!0,i(l,function(e){e.$setPristine()})}}function Nn(e){return g(e)||""===e||null===e||e!==e}function On(e,t,r,o,i,a){var c=function(){var n=t.val();U(r.ngTrim||"T")&&(n=I(n)),o.$viewValue!==n&&e.$apply(function(){o.$setViewValue(n)})};if(i.hasEvent("input"))t.bind("input",c);else{var l;t.bind("keydown",function(e){var t=e.keyCode;91===t||t>15&&19>t||t>=37&&40>=t||l||(l=a.defer(function(){c(),l=null}))}),t.bind("change",c)}o.$render=function(){t.val(Nn(o.$viewValue)?"":o.$viewValue)};var s,u=r.ngPattern,f=function(e,t){return Nn(t)||e.test(t)?(o.$setValidity("pattern",!0),t):(o.$setValidity("pattern",!1),n)};if(u&&(u.match(/^\/(.*)\/$/)?(u=RegExp(u.substr(1,u.length-2)),s=function(e){return f(u,e)}):s=function(t){var n=e.$eval(u);if(!n||!n.test)throw Error("Expected "+u+" to be a RegExp but was "+n);return f(n,t)},o.$formatters.push(s),o.$parsers.push(s)),r.ngMinlength){var p=d(r.ngMinlength),h=function(e){return!Nn(e)&&p>e.length?(o.$setValidity("minlength",!1),n):(o.$setValidity("minlength",!0),e)};o.$parsers.push(h),o.$formatters.push(h)}if(r.ngMaxlength){var m=d(r.ngMaxlength),g=function(e){return!Nn(e)&&e.length>m?(o.$setValidity("maxlength",!1),n):(o.$setValidity("maxlength",!0),e)};o.$parsers.push(g),o.$formatters.push(g)}}function Fn(e,t,r,o,i,a){if(On(e,t,r,o,i,a),o.$parsers.push(function(e){var t=Nn(e);return t||Kr.test(e)?(o.$setValidity("number",!0),""===e?null:t?e:parseFloat(e)):(o.$setValidity("number",!1),n)}),o.$formatters.push(function(e){return Nn(e)?"":""+e}),r.min){var c=parseFloat(r.min),l=function(e){return!Nn(e)&&c>e?(o.$setValidity("min",!1),n):(o.$setValidity("min",!0),e)};o.$parsers.push(l),o.$formatters.push(l)}if(r.max){var s=parseFloat(r.max),u=function(e){return!Nn(e)&&e>s?(o.$setValidity("max",!1),n):(o.$setValidity("max",!0),e)};o.$parsers.push(u),o.$formatters.push(u)}o.$formatters.push(function(e){return Nn(e)||y(e)?(o.$setValidity("number",!0),e):(o.$setValidity("number",!1),n)})}function qn(e,t,r,o,i,a){On(e,t,r,o,i,a);var c=function(e){return Nn(e)||zr.test(e)?(o.$setValidity("url",!0),e):(o.$setValidity("url",!1),n)};o.$formatters.push(c),o.$parsers.push(c)}function Ln(e,t,r,o,i,a){On(e,t,r,o,i,a);var c=function(e){return Nn(e)||Wr.test(e)?(o.$setValidity("email",!0),e):(o.$setValidity("email",!1),n)};o.$formatters.push(c),o.$parsers.push(c)}function Vn(e,t,n,r){g(n.name)&&t.attr("name",s()),t.bind("click",function(){t[0].checked&&e.$apply(function(){r.$setViewValue(n.value)})}),r.$render=function(){var e=n.value;t[0].checked=e==r.$viewValue},n.$observe("value",r.$render)}function Un(e,t,n,r){var o=n.ngTrueValue,i=n.ngFalseValue;$(o)||(o=!0),$(i)||(i=!1),t.bind("click",function(){e.$apply(function(){r.$setViewValue(t[0].checked)})}),r.$render=function(){t[0].checked=r.$viewValue},r.$formatters.push(function(e){return e===o}),r.$parsers.push(function(e){return e?o:i})}function Hn(e,t){return e="ngClass"+e,An(function(r,o,i){function a(e){(t===!0||r.$index%2===t)&&(s&&e!==s&&c(s),l(e)),s=e}function c(e){_(e)&&!b(e)&&(e=T(e,function(e,t){return e?t:n})),o.removeClass(b(e)?e.join(" "):e)}function l(e){_(e)&&!b(e)&&(e=T(e,function(e,t){return e?t:n})),e&&o.addClass(b(e)?e.join(" "):e)}var s=n;r.$watch(i[e],a,!0),i.$observe("class",function(){var t=r.$eval(i[e]);a(t,t)}),"ngClass"!==e&&r.$watch("$index",function(n,o){var a=n%2;a!==o%2&&(a==t?l(r.$eval(i[e])):c(r.$eval(i[e])))})})}var Gn=function(e){return $(e)?e.toLowerCase():e},Bn=function(e){return $(e)?e.toUpperCase():e},zn=function(e){return $(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},Wn=function(e){return $(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(-33&e.charCodeAt(0))}):e};"i"!=="I".toLowerCase()&&(Gn=zn,Bn=Wn);var Kn,Zn,Qn,Yn,Jn=d((/msie (\d+)/.exec(Gn(navigator.userAgent))||[])[1]),Xn=[].slice,er=[].push,tr=Object.prototype.toString,nr=e.angular,rr=e.angular||(e.angular={}),or=["0","0","0"];p.$inject=[],h.$inject=[],Yn=9>Jn?function(e){return e=e.nodeName?e:e[0],e.scopeName&&"HTML"!=e.scopeName?Bn(e.scopeName+":"+e.nodeName):e.nodeName}:function(e){return e.nodeName?e.nodeName:e[0].nodeName};var ir=/[A-Z]/g,ar={full:"1.1.4",major:1,minor:1,dot:4,codeName:"quantum-manipulation"},cr=it.cache={},lr=it.expando="ng-"+(new Date).getTime(),sr=1,ur=e.document.addEventListener?function(e,t,n){e.addEventListener(t,n,!1)}:function(e,t,n){e.attachEvent("on"+t,n)},dr=e.document.removeEventListener?function(e,t,n){e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent("on"+t,n)},fr=/([\:\-\_]+(.))/g,pr=/^moz([A-Z])/,hr=it.prototype={ready:function(n){function r(){o||(o=!0,n())}var o=!1;"complete"===t.readyState?setTimeout(r):(this.bind("DOMContentLoaded",r),it(e).bind("load",r))},toString:function(){var e=[];return i(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return e>=0?Kn(this[e]):Kn(this[this.length+e])},length:0,push:er,sort:[].sort,splice:[].splice},mr={};i("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){mr[Gn(e)]=e
});var gr={};i("input,select,option,textarea,button,form,details".split(","),function(e){gr[Bn(e)]=!0}),i({data:dt,inheritedData:vt,scope:function(e){return vt(e,"$scope")},controller:gt,injector:function(e){return vt(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:ft,css:function(e,t,r){if(t=rt(t),!v(r)){var o;return 8>=Jn&&(o=e.currentStyle&&e.currentStyle[t],""===o&&(o="auto")),o=o||e.style[t],8>=Jn&&(o=""===o?n:o),o}e.style[t]=r},attr:function(e,t,r){var o=Gn(t);if(mr[o]){if(!v(r))return e[t]||(e.attributes.getNamedItem(t)||p).specified?o:n;r?(e[t]=!0,e.setAttribute(t,o)):(e[t]=!1,e.removeAttribute(o))}else if(v(r))e.setAttribute(t,r);else if(e.getAttribute){var i=e.getAttribute(t,2);return null===i?n:i}},prop:function(e,t,r){return v(r)?(e[t]=r,n):e[t]},text:u(9>Jn?function(e,t){if(1==e.nodeType){if(g(t))return e.innerText;e.innerText=t}else{if(g(t))return e.nodeValue;e.nodeValue=t}}:function(e,t){return g(t)?e.textContent:(e.textContent=t,n)},{$dv:""}),val:function(e,t){return g(t)?e.value:(e.value=t,n)},html:function(e,t){if(g(t))return e.innerHTML;for(var n=0,r=e.childNodes;r.length>n;n++)ct(r[n]);e.innerHTML=t}},function(e,t){it.prototype[t]=function(t,r){var o,i;if((2==e.length&&e!==ft&&e!==gt?t:r)!==n){for(o=0;this.length>o;o++)e(this[o],t,r);return this}if(_(t)){for(o=0;this.length>o;o++)if(e===dt)e(this[o],t);else for(i in t)e(this[o],i,t[i]);return this}return this.length?e(this[0],t,r):e.$dv}}),i({removeData:st,dealoc:ct,bind:function vr(e,t,n){var r=ut(e,"events"),o=ut(e,"handle");r||ut(e,"events",r={}),o||ut(e,"handle",o=$t(e,r)),i(t.split(" "),function(t){var i=r[t];if(!i){if("mouseenter"==t||"mouseleave"==t){var a=0;r.mouseenter=[],r.mouseleave=[],vr(e,"mouseover",function(e){a++,1==a&&o(e,"mouseenter")}),vr(e,"mouseout",function(e){a--,0==a&&o(e,"mouseleave")})}else ur(e,t,o),r[t]=[];i=r[t]}i.push(n)})},unbind:lt,replaceWith:function(e,t){var n,r=e.parentNode;ct(e),i(new it(t),function(t){n?r.insertBefore(t,n.nextSibling):r.replaceChild(t,e),n=t})},children:function(e){var t=[];return i(e.childNodes,function(e){1===e.nodeType&&t.push(e)}),t},contents:function(e){return e.childNodes||[]},append:function(e,t){i(new it(t),function(t){(1===e.nodeType||11===e.nodeType)&&e.appendChild(t)})},prepend:function(e,t){if(1===e.nodeType){var n=e.firstChild;i(new it(t),function(t){n?e.insertBefore(t,n):(e.appendChild(t),n=t)})}},wrap:function(e,t){t=Kn(t)[0];var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)},remove:function(e){ct(e);var t=e.parentNode;t&&t.removeChild(e)},after:function(e,t){var n=e,r=e.parentNode;i(new it(t),function(e){r.insertBefore(e,n.nextSibling),n=e})},addClass:ht,removeClass:pt,toggleClass:function(e,t,n){g(n)&&(n=!ft(e,t)),(n?ht:pt)(e,t)},parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},next:function(e){if(e.nextElementSibling)return e.nextElementSibling;for(var t=e.nextSibling;null!=t&&1!==t.nodeType;)t=t.nextSibling;return t},find:function(e,t){return e.getElementsByTagName(t)},clone:at,triggerHandler:function(e,t){var n=(ut(e,"events")||{})[t];i(n,function(t){t.call(e,null)})}},function(e,t){it.prototype[t]=function(t,r){for(var o,i=0;this.length>i;i++)o==n?(o=e(this[i],t,r),o!==n&&(o=Kn(o))):mt(o,e(this[i],t,r));return o==n?this:o}}),wt.prototype={put:function(e,t){this[yt(e)]=t},get:function(e){return this[yt(e)]},remove:function(e){var t=this[e=yt(e)];return delete this[e],t}};var _r=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,$r=/,/,yr=/^\s*(_?)(\S+?)\1\s*$/,wr=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;xt.$inject=["$provide"];var br=function(){this.$get=["$animation","$window","$sniffer",function(e,t,r){function o(e){e.css("display","")}function a(e){e.css("display","none")}function c(e,t,n){n?n.after(e):t.append(e)}function l(e){e.remove()}function s(e,t,n){c(e,t,n)}return function(u,d){function f(o,a,c){var l=h&&u.$eval(h),s=h?_(l)?l[o]:l+"-"+o:"",d=e(s),f=d&&d.setup,m=d&&d.start;if(s){var g=s+"-setup",v=s+"-start";return function(e,o,l){function s(){if(e.addClass(v),m)m(e,u,d);else if(C(t.getComputedStyle)){var n=r.vendorPrefix+"Transition",o="transition",a="Duration",c=0;i(e,function(e){var r=t.getComputedStyle(e)||{};c=Math.max(parseFloat(r[o+a])||parseFloat(r[n+a])||0,c)}),t.setTimeout(u,1e3*c)}else u()}function u(){c(e,o,l),e.removeClass(g),e.removeClass(v)}if(!r.supportsTransitions&&!f&&!m)return a(e,o,l),c(e,o,l),n;if(e.addClass(g),a(e,o,l),0==e.length)return u();var d=(f||p)(e);t.setTimeout(s,1)}}return function(e,t,n){a(e,t,n),c(e,t,n)}}var h=d.ngAnimate,m={};return m.enter=f("enter",c,p),m.leave=f("leave",p,l),m.move=f("move",s,p),m.show=f("show",o,p),m.hide=f("hide",p,a),m}}]},Cr="Non-assignable model expression: ";Et.$inject=["$provide"];var Sr=/^(x[\:\-_]|data[\:\-_])/i,xr=/^([^:]+):\/\/(\w+:{0,1}\w*@)?(\{?[\w\.-]*\}?)(:([0-9]+))?(\/[^\?#]*)?(\?([^#]*))?(#(.*))?$/,kr=/^([^\?#]*)?(\?([^#]*))?(#(.*))?$/,Ir=kr,Pr={http:80,https:443,ftp:21};Ut.prototype={$$replace:!1,absUrl:Bt("$$absUrl"),url:function(e,t){if(g(e))return this.$$url;var n=kr.exec(e);return n[1]&&this.path(decodeURIComponent(n[1])),(n[2]||n[1])&&this.search(n[3]||""),this.hash(n[5]||"",t),this},protocol:Bt("$$protocol"),host:Bt("$$host"),port:Bt("$$port"),path:zt("$$path",function(e){return"/"==e.charAt(0)?e:"/"+e}),search:function(e,t){return g(e)?this.$$search:(v(t)?null===t?delete this.$$search[e]:this.$$search[e]=t:this.$$search=$(e)?G(e):e,this.$$compose(),this)},hash:zt("$$hash",h),replace:function(){return this.$$replace=!0,this}},Ht.prototype=f(Ut.prototype),Gt.prototype=f(Ht.prototype);var Tr={"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:p,"+":function(e,t,r,o){return r=r(e,t),o=o(e,t),v(r)?v(o)?r+o:r:v(o)?o:n},"-":function(e,t,n,r){return n=n(e,t),r=r(e,t),(v(n)?n:0)-(v(r)?r:0)},"*":function(e,t,n,r){return n(e,t)*r(e,t)},"/":function(e,t,n,r){return n(e,t)/r(e,t)},"%":function(e,t,n,r){return n(e,t)%r(e,t)},"^":function(e,t,n,r){return n(e,t)^r(e,t)},"=":p,"===":function(e,t,n,r){return n(e,t)===r(e,t)},"!==":function(e,t,n,r){return n(e,t)!==r(e,t)},"==":function(e,t,n,r){return n(e,t)==r(e,t)},"!=":function(e,t,n,r){return n(e,t)!=r(e,t)},"<":function(e,t,n,r){return n(e,t)<r(e,t)},">":function(e,t,n,r){return n(e,t)>r(e,t)},"<=":function(e,t,n,r){return n(e,t)<=r(e,t)},">=":function(e,t,n,r){return n(e,t)>=r(e,t)},"&&":function(e,t,n,r){return n(e,t)&&r(e,t)},"||":function(e,t,n,r){return n(e,t)||r(e,t)},"&":function(e,t,n,r){return n(e,t)&r(e,t)},"|":function(e,t,n,r){return r(e,t)(e,t,n(e,t))},"!":function(e,t,n){return!n(e,t)}},Er={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},Rr={},Dr=/^(([^:]+):)?\/\/(\w+:{0,1}\w*@)?([\w\.-]*)?(:([0-9]+))?(.*)$/,Mr=e.XMLHttpRequest||function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(n){}throw Error("This browser does not support XMLHttpRequest.")};yn.$inject=["$provide"],bn.$inject=["$locale"],Cn.$inject=["$locale"];var Ar=".",jr={yyyy:kn("FullYear",4),yy:kn("FullYear",2,0,!0),y:kn("FullYear",1),MMMM:In("Month"),MMM:In("Month",!0),MM:kn("Month",2,1),M:kn("Month",1,1),dd:kn("Date",2),d:kn("Date",1),HH:kn("Hours",2),H:kn("Hours",1),hh:kn("Hours",2,-12),h:kn("Hours",1,-12),mm:kn("Minutes",2),m:kn("Minutes",1),ss:kn("Seconds",2),s:kn("Seconds",1),sss:kn("Milliseconds",3),EEEE:In("Day"),EEE:In("Day",!0),a:Tn,Z:Pn},Nr=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,Or=/^\d+$/;En.$inject=["$locale"];var Fr=m(Gn),qr=m(Bn);Mn.$inject=["$parse"];var Lr=m({restrict:"E",compile:function(e,n){return 8>=Jn&&(n.href||n.name||n.$set("href",""),e.append(t.createComment("IE fix"))),function(e,t){t.bind("click",function(e){t.attr("href")||e.preventDefault()})}}}),Vr={};i(mr,function(e,t){var n=Rt("ng-"+t);Vr[n]=function(){return{priority:100,compile:function(){return function(e,r,o){e.$watch(o[n],function(e){o.$set(t,!!e)})}}}}}),i(["src","href"],function(e){var t=Rt("ng-"+e);Vr[t]=function(){return{priority:99,link:function(n,r,o){o.$observe(t,function(t){t&&(o.$set(e,t),Jn&&r.prop(e,o[e]))})}}}});var Ur={$addControl:p,$removeControl:p,$setValidity:p,$setDirty:p,$setPristine:p};jn.$inject=["$element","$attrs","$scope"];var Hr=function(e){return["$timeout",function(t){var r={name:"form",restrict:"E",controller:jn,compile:function(){return{pre:function(e,r,o,i){if(!o.action){var a=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1};ur(r[0],"submit",a),r.bind("$destroy",function(){t(function(){dr(r[0],"submit",a)},0,!1)})}var c=r.parent().controller("form"),l=o.name||o.ngForm;l&&(e[l]=i),c&&r.bind("$destroy",function(){c.$removeControl(i),l&&(e[l]=n),u(i,Ur)})}}}};return e?u(M(r),{restrict:"EAC"}):r}]},Gr=Hr(),Br=Hr(!0),zr=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,Wr=/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,4}$/,Kr=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,Zr={text:On,number:Fn,url:qn,email:Ln,radio:Vn,checkbox:Un,hidden:p,button:p,submit:p,reset:p},Qr=["$browser","$sniffer",function(e,t){return{restrict:"E",require:"?ngModel",link:function(n,r,o,i){i&&(Zr[Gn(o.type)]||Zr.text)(n,r,o,i,t,e)}}}],Yr="ng-valid",Jr="ng-invalid",Xr="ng-pristine",eo="ng-dirty",to=["$scope","$exceptionHandler","$attrs","$element","$parse",function(e,t,n,r,o){function a(e,t){t=t?"-"+Q(t,"-"):"",r.removeClass((e?Jr:Yr)+t).addClass((e?Yr:Jr)+t)}this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$name=n.name;var c=o(n.ngModel),l=c.assign;if(!l)throw Error(Cr+n.ngModel+" ("+H(r)+")");this.$render=p;var s=r.inheritedData("$formController")||Ur,u=0,d=this.$error={};r.addClass(Xr),a(!0),this.$setValidity=function(e,t){d[e]!==!t&&(t?(d[e]&&u--,u||(a(!0),this.$valid=!0,this.$invalid=!1)):(a(!1),this.$invalid=!0,this.$valid=!1,u++),d[e]=!t,a(t,e),s.$setValidity(e,t,this))},this.$setPristine=function(){this.$dirty=!1,this.$pristine=!0,r.removeClass(eo).addClass(Xr)},this.$setViewValue=function(n){this.$viewValue=n,this.$pristine&&(this.$dirty=!0,this.$pristine=!1,r.removeClass(Xr).addClass(eo),s.$setDirty()),i(this.$parsers,function(e){n=e(n)}),this.$modelValue!==n&&(this.$modelValue=n,l(e,n),i(this.$viewChangeListeners,function(e){try{e()}catch(n){t(n)}}))};var f=this;e.$watch(function(){var t=c(e);if(f.$modelValue!==t){var n=f.$formatters,r=n.length;for(f.$modelValue=t;r--;)t=n[r](t);f.$viewValue!==t&&(f.$viewValue=t,f.$render())}})}],no=function(){return{require:["ngModel","^?form"],controller:to,link:function(e,t,n,r){var o=r[0],i=r[1]||Ur;i.$addControl(o),t.bind("$destroy",function(){i.$removeControl(o)})}}},ro=m({require:"ngModel",link:function(e,t,n,r){r.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),oo=function(){return{require:"?ngModel",link:function(e,t,r,o){if(o){r.required=!0;var i=function(e){return r.required&&(Nn(e)||e===!1)?(o.$setValidity("required",!1),n):(o.$setValidity("required",!0),e)};o.$formatters.push(i),o.$parsers.unshift(i),r.$observe("required",function(){i(o.$viewValue)})}}}},io=function(){return{require:"ngModel",link:function(e,t,r,o){var a=/\/(.*)\//.exec(r.ngList),c=a&&RegExp(a[1])||r.ngList||",",l=function(e){var t=[];return e&&i(e.split(c),function(e){e&&t.push(I(e))}),t};o.$parsers.push(l),o.$formatters.push(function(e){return b(e)?e.join(", "):n})}}},ao=/^(true|false|\d+)$/,co=function(){return{priority:100,compile:function(e,t){return ao.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e,!1)})}}}},lo=An(function(e,t,r){t.addClass("ng-binding").data("$binding",r.ngBind),e.$watch(r.ngBind,function(e){t.text(e==n?"":e)})}),so=["$interpolate",function(e){return function(t,n,r){var o=e(n.attr(r.$attr.ngBindTemplate));n.addClass("ng-binding").data("$binding",o),r.$observe("ngBindTemplate",function(e){n.text(e)})}}],uo=[function(){return function(e,t,n){t.addClass("ng-binding").data("$binding",n.ngBindHtmlUnsafe),e.$watch(n.ngBindHtmlUnsafe,function(e){t.html(e||"")})}}],fo=Hn("",!0),po=Hn("Odd",0),ho=Hn("Even",1),mo=An({compile:function(e,t){t.$set("ngCloak",n),e.removeClass("ng-cloak")}}),go=[function(){return{scope:!0,controller:"@"}}],vo=["$sniffer",function(e){return{priority:1e3,compile:function(){e.csp=!0}}}],_o={};i("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress".split(" "),function(e){var t=Rt("ng-"+e);_o[t]=["$parse",function(n){return function(r,o,i){var a=n(i[t]);o.bind(Gn(e),function(e){r.$apply(function(){a(r,{$event:e})})})}}]});var $o=An(function(e,t,n){t.bind("submit",function(){e.$apply(n.ngSubmit)})}),yo=["$http","$templateCache","$anchorScroll","$compile","$animator",function(e,t,n,r,o){return{restrict:"ECA",terminal:!0,compile:function(i,a){var c=a.ngInclude||a.src,l=a.onload||"",s=a.autoscroll;return function(i,a,u){var d,f=o(i,u),p=0,h=function(){d&&(d.$destroy(),d=null),f.leave(a.contents(),a)};i.$watch(c,function(o){var c=++p;o?e.get(o,{cache:t}).success(function(e){if(c===p){d&&d.$destroy(),d=i.$new(),f.leave(a.contents(),a);var t=Kn("<div/>").html(e).contents();f.enter(t,a),r(t)(d),!v(s)||s&&!i.$eval(s)||n(),d.$emit("$includeContentLoaded"),i.$eval(l)}}).error(function(){c===p&&h()}):h()})}}}}],wo=An({compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),bo=An({terminal:!0,priority:1e3}),Co=["$locale","$interpolate",function(e,t){var n=/{}/g;return{restrict:"EA",link:function(r,o,a){var c=a.count,l=o.attr(a.$attr.when),s=a.offset||0,u=r.$eval(l),d={},f=t.startSymbol(),p=t.endSymbol();i(u,function(e,r){d[r]=t(e.replace(n,f+c+"-"+s+p))}),r.$watch(function(){var t=parseFloat(r.$eval(c));return isNaN(t)?"":(u[t]||(t=e.pluralCat(t-s)),d[t](r,o,!0))},function(e){o.text(e)})}}}],So=["$parse","$animator",function(e,t){var n="$$NG_REMOVED";return{transclude:"element",priority:1e3,terminal:!0,compile:function(r,o,a){return function(r,o,c){var l,s,u,d,f,p,h,m=t(r,c),g=c.ngRepeat,v=g.match(/^\s*(.+)\s+in\s+(.*?)\s*(\s+track\s+by\s+(.+)\s*)?$/),_={$id:yt};if(!v)throw Error("Expected ngRepeat in form of '_item_ in _collection_[ track by _id_]' but got '"+g+"'.");if(d=v[1],f=v[2],l=v[4],l?(s=e(l),u=function(e,t,n){return h&&(_[h]=e),_[p]=t,_.$index=n,s(r,_)}):u=function(e,t){return yt(t)},v=d.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/),!v)throw Error("'item' in 'item in collection' should be identifier or (key, value) but got '"+d+"'.");p=v[3]||v[1],h=v[2];var $={};r.$watchCollection(f,function(e){var t,c,l,s,d,f,v,_,y,w,C=o,S={},x=[];if(b(e))y=e;else{y=[];for(f in e)e.hasOwnProperty(f)&&"$"!=f.charAt(0)&&y.push(f);y.sort()}for(s=y.length,c=x.length=y.length,t=0;c>t;t++)if(f=e===y?t:y[t],v=e[f],_=u(f,v,t),w=$[_])delete $[_],S[_]=w,x[t]=w;else{if(S.hasOwnProperty(_))throw i(x,function(e){e&&e.element&&($[e.id]=e)}),Error("Duplicates in a repeater are not allowed. Repeater: "+g);x[t]={id:_}}for(f in $)$.hasOwnProperty(f)&&(w=$[f],m.leave(w.element),w.element[0][n]=!0,w.scope.$destroy());for(t=0,c=y.length;c>t;t++){if(f=e===y?t:y[t],v=e[f],w=x[t],w.element){d=w.scope,l=C[0];do l=l.nextSibling;while(l&&l[n]);w.element[0]==l?C=w.element:(m.move(w.element,null,C),C=w.element)}else d=r.$new();d[p]=v,h&&(d[h]=f),d.$index=t,d.$first=0===t,d.$last=t===s-1,d.$middle=!(d.$first||d.$last),w.element||a(d,function(e){m.enter(e,null,C),C=e,w.scope=d,w.element=e,S[w.id]=w})}$=S})}}}}],xo=["$animator",function(e){return function(t,n,r){var o=e(t,r);t.$watch(r.ngShow,function(e){o[U(e)?"show":"hide"](n)})}}],ko=["$animator",function(e){return function(t,n,r){var o=e(t,r);t.$watch(r.ngHide,function(e){o[U(e)?"hide":"show"](n)})}}],Io=An(function(e,t,n){e.$watch(n.ngStyle,function(e,n){n&&e!==n&&i(n,function(e,n){t.css(n,"")}),e&&t.css(e)},!0)}),Po=["$animator",function(e){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(t,n,r,o){var a,c,l=e(t,r),s=r.ngSwitch||r.on,u=[];t.$watch(s,function(e){for(var n=0,s=u.length;s>n;n++)u[n].$destroy(),l.leave(c[n]);c=[],u=[],(a=o.cases["!"+e]||o.cases["?"])&&(t.$eval(r.change),i(a,function(e){var n=t.$new();u.push(n),e.transclude(n,function(t){var n=e.element;c.push(t),l.enter(t,n.parent(),n)})}))})}}}],To=An({transclude:"element",priority:500,require:"^ngSwitch",compile:function(e,t,n){return function(e,r,o,i){i.cases["!"+t.ngSwitchWhen]=i.cases["!"+t.ngSwitchWhen]||[],i.cases["!"+t.ngSwitchWhen].push({transclude:n,element:r})}}}),Eo=An({transclude:"element",priority:500,require:"^ngSwitch",compile:function(e,t,n){return function(e,t,r,o){o.cases["?"]=o.cases["?"]||[],o.cases["?"].push({transclude:n,element:t})}}}),Ro=An({controller:["$transclude","$element",function(e,t){e(function(e){t.append(e)})}]}),Do=["$http","$templateCache","$route","$anchorScroll","$compile","$controller","$animator",function(e,t,n,r,o,i,a){return{restrict:"ECA",terminal:!0,link:function(e,t,c){function l(){d&&(d.$destroy(),d=null)}function s(){p.leave(t.contents(),t),l()}function u(){var a=n.current&&n.current.locals,c=a&&a.$template;if(c){s(),p.enter(Kn("<div></div>").html(c).contents(),t);var l,u=o(t.contents()),h=n.current;d=h.scope=e.$new(),h.controller&&(a.$scope=d,l=i(h.controller,a),t.children().data("$ngControllerController",l)),u(d),d.$emit("$viewContentLoaded"),d.$eval(f),r()}else s()}var d,f=c.onload||"",p=a(e,c);e.$on("$routeChangeSuccess",u),u()}}}],Mo=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){if("text/ng-template"==n.type){var r=n.id,o=t[0].text;e.put(r,o)}}}}],Ao=m({terminal:!0}),jo=["$compile","$parse",function(e,r){var o=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w\d]*)|(?:\(\s*([\$\w][\$\w\d]*)\s*,\s*([\$\w][\$\w\d]*)\s*\)))\s+in\s+(.*)$/,c={$setViewValue:p};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(e,t,n){var r,o,i=this,a={},l=c;i.databound=n.ngModel,i.init=function(e,t,n){l=e,r=t,o=n},i.addOption=function(t){a[t]=!0,l.$viewValue==t&&(e.val(t),o.parent()&&o.remove())},i.removeOption=function(e){this.hasOption(e)&&(delete a[e],l.$viewValue==e&&this.renderUnknownOption(e))},i.renderUnknownOption=function(t){var n="? "+yt(t)+" ?";o.val(n),e.prepend(o),e.val(n),o.prop("selected",!0)},i.hasOption=function(e){return a.hasOwnProperty(e)},t.$on("$destroy",function(){i.renderUnknownOption=p})}],link:function(c,l,s,u){function d(e,t,n,r){n.$render=function(){var e=n.$viewValue;r.hasOption(e)?(S.parent()&&S.remove(),t.val(e),""===e&&h.prop("selected",!0)):g(e)&&h?t.val(""):r.renderUnknownOption(e)},t.bind("change",function(){e.$apply(function(){S.parent()&&S.remove(),n.$setViewValue(t.val())})})}function f(e,t,n){var r;n.$render=function(){var e=new wt(n.$viewValue);i(t.find("option"),function(t){t.selected=v(e.get(t.value))})},e.$watch(function(){j(r,n.$viewValue)||(r=M(n.$viewValue),n.$render())}),t.bind("change",function(){e.$apply(function(){var e=[];i(t.find("option"),function(t){t.selected&&e.push(t.value)}),n.$setViewValue(e)})})}function p(t,i,c){function l(){var e,r,o,l,s,v,_,y,S,x,k,I,P,T,E={"":[]},R=[""],D=c.$modelValue,M=m(t)||[],A=f?a(M):M,j={},N=!1;for($?N=new wt(D):(null===D||w)&&(E[""].push({selected:null===D,id:"",label:""}),N=!0),x=0;y=A.length,y>x;x++)j[d]=M[f?j[f]=A[x]:x],e=p(t,j)||"",(r=E[e])||(r=E[e]=[],R.push(e)),$?k=N.remove(h(t,j))!=n:(k=D===h(t,j),N=N||k),T=u(t,j),T=T===n?"":T,r.push({id:f?A[x]:x,label:T,selected:k});for($||N||E[""].unshift({id:"?",label:"",selected:!0}),S=0,_=R.length;_>S;S++){for(e=R[S],r=E[e],S>=g.length?(l={element:C.clone().attr("label",e),label:r.label},s=[l],g.push(s),i.append(l.element)):(s=g[S],l=s[0],l.label!=e&&l.element.attr("label",l.label=e)),I=null,x=0,y=r.length;y>x;x++)o=r[x],(v=s[x+1])?(I=v.element,v.label!==o.label&&I.text(v.label=o.label),v.id!==o.id&&I.val(v.id=o.id),v.element.selected!==o.selected&&I.prop("selected",v.selected=o.selected)):(""===o.id&&w?P=w:(P=b.clone()).val(o.id).attr("selected",o.selected).text(o.label),s.push(v={element:P,label:o.label,id:o.id,selected:o.selected}),I?I.after(P):l.element.append(P),I=P);for(x++;s.length>x;)s.pop().element.remove()}for(;g.length>S;)g.pop()[0].element.remove()}var s;if(!(s=y.match(o)))throw Error("Expected ngOptions in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '"+y+"'.");var u=r(s[2]||s[1]),d=s[4]||s[6],f=s[5],p=r(s[3]||""),h=r(s[2]?s[1]:d),m=r(s[7]),g=[[{element:i,label:""}]];w&&(e(w)(t),w.removeClass("ng-scope"),w.remove()),i.html(""),i.bind("change",function(){t.$apply(function(){var e,r,o,a,l,s,u,p,v=m(t)||[],_={};if($)for(o=[],s=0,p=g.length;p>s;s++)for(e=g[s],l=1,u=e.length;u>l;l++)(a=e[l].element)[0].selected&&(r=a.val(),f&&(_[f]=r),_[d]=v[r],o.push(h(t,_)));else r=i.val(),"?"==r?o=n:""==r?o=null:(_[d]=v[r],f&&(_[f]=r),o=h(t,_));c.$setViewValue(o)})}),c.$render=l,t.$watch(l)}if(u[1]){for(var h,m=u[0],_=u[1],$=s.multiple,y=s.ngOptions,w=!1,b=Kn(t.createElement("option")),C=Kn(t.createElement("optgroup")),S=b.clone(),x=0,k=l.children(),I=k.length;I>x;x++)if(""==k[x].value){h=w=k.eq(x);break}if(m.init(_,w,S),$&&(s.required||s.ngRequired)){var P=function(e){return _.$setValidity("required",!s.required||e&&e.length),e};_.$parsers.push(P),_.$formatters.unshift(P),s.$observe("required",function(){P(_.$viewValue)})}y?p(c,l,_):$?f(c,l,_):d(c,l,_,m)}}}}],No=["$interpolate",function(e){var t={addOption:p,removeOption:p};return{restrict:"E",priority:100,compile:function(n,r){if(g(r.value)){var o=e(n.text(),!0);o||r.$set("value",n.text())}return function(e,n,r){var i="$selectController",a=n.parent(),c=a.data(i)||a.parent().data(i);c&&c.databound?n.prop("selected",!1):c=t,o?e.$watch(o,function(e,t){r.$set("value",e),e!==t&&c.removeOption(t),c.addOption(e)}):c.addOption(r.value),n.bind("$destroy",function(){c.removeOption(r.value)})}}}}],Oo=m({restrict:"E",terminal:!0});Y(),tt(rr),Kn(t).ready(function(){K(t,Z)})})(window,document),angular.element(document).find("head").append('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak{display:none;}ng\\:form{display:block;}</style>'),function(e,t,n){"use strict";t.module("ngResource",["ng"]).factory("$resource",["$http","$parse",function(e,r){function o(e){return i(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function i(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function a(e,t){this.template=e+="#",this.defaults=t||{},this.urlParams={}}function c(r,o,i){function m(e,t){var n={};return t=d({},o,t),u(t,function(t,r){p(t)&&(t=t()),n[r]=t.charAt&&"@"==t.charAt(0)?h(e,t.substr(1)):t}),n}function g(e){f(e||{},this)}var v=new a(r);return i=d({},l,i),u(i,function(r,o){r.method=t.uppercase(r.method);var i="POST"==r.method||"PUT"==r.method||"PATCH"==r.method;g[o]=function(t,n,o,a){function c(){w.$resolved=!0}var l,h,_={},$=s,y=null;switch(arguments.length){case 4:y=a,$=o;case 3:case 2:if(!p(n)){_=t,l=n,$=o;break}if(p(t)){$=t,y=n;break}$=n,y=o;case 1:p(t)?$=t:i?l=t:_=t;break;case 0:break;default:throw"Expected between 0-4 arguments [params, data, success, error], got "+arguments.length+" arguments."}var h,w=this instanceof g?this:r.isArray?[]:new g(l),b={};return u(r,function(e,t){"params"!=t&&"isArray"!=t&&(b[t]=f(e))}),b.data=l,v.setUrlParams(b,d({},m(l,r.params||{}),_),r.url),h=e(b),w.$resolved=!1,h.then(c,c),w.$then=h.then(function(e){var t=e.data,n=w.$then,o=w.$resolved;return t&&(r.isArray?(w.length=0,u(t,function(e){w.push(new g(e))})):(f(t,w),w.$then=n,w.$resolved=o)),($||s)(w,e.headers),e.resource=w,e},y).then,w},g.prototype["$"+o]=function(e,t,r){var a,c=m(this),l=s;switch(arguments.length){case 3:c=e,l=t,a=r;break;case 2:case 1:p(e)?(l=e,a=t):(c=e,l=t||s);case 0:break;default:throw"Expected between 1-3 arguments [params, success, error], got "+arguments.length+" arguments."}var u=i?this:n;g[o].call(this,c,u,l,a)}}),g.bind=function(e){return c(r,d({},o,e),i)},g}var l={get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}},s=t.noop,u=t.forEach,d=t.extend,f=t.copy,p=t.isFunction,h=function(e,t){return r(t)(e)};return a.prototype={setUrlParams:function(e,n,r){var i,a,c=this,l=r||c.template,s=c.urlParams={};u(l.split(/\W/),function(e){e&&RegExp("(^|[^\\\\]):"+e+"(\\W|$)").test(l)&&(s[e]=!0)}),l=l.replace(/\\:/g,":"),n=n||{},u(c.urlParams,function(e,r){i=n.hasOwnProperty(r)?n[r]:c.defaults[r],t.isDefined(i)&&null!==i?(a=o(i),l=l.replace(RegExp(":"+r+"(\\W|$)","g"),a+"$1")):l=l.replace(RegExp("(/?):"+r+"(\\W|$)","g"),function(e,t,n){return"/"==n.charAt(0)?n:t+n})}),e.url=l.replace(/\/?#$/,"").replace(/\/*$/,""),u(n,function(t,n){c.urlParams[n]||(e.params=e.params||{},e.params[n]=t)})}},c}])}(window,window.angular),function(e,t){"use strict";function n(e){var t,n={},r=e.split(",");for(t=0;r.length>t;t++)n[r[t]]=!0;return n}function r(e,n){function r(e,r,a,c){if(r=t.lowercase(r),w[r])for(;g.last()&&b[g.last()];)i("",g.last());y[r]&&g.last()==r&&i("",r),c=v[r]||!!c,c||g.push(r);var l={};a.replace(u,function(e,t,n,r,i){var a=n||r||i||"";l[t]=o(a)}),n.start&&n.start(r,l,c)}function i(e,r){var o,i=0;if(r=t.lowercase(r))for(i=g.length-1;i>=0&&g[i]!=r;i--);if(i>=0){for(o=g.length-1;o>=i;o--)n.end&&n.end(g[o]);g.length=i}}var a,c,m,g=[],_=e;for(g.last=function(){return g[g.length-1]};e;){if(c=!0,g.last()&&C[g.last()])e=e.replace(RegExp("(.*)<\\s*\\/\\s*"+g.last()+"[^>]*>","i"),function(e,t){return t=t.replace(p,"$1").replace(h,"$1"),n.chars&&n.chars(o(t)),""}),i("",g.last());else if(0===e.indexOf("<!--")?(a=e.indexOf("-->"),a>=0&&(n.comment&&n.comment(e.substring(4,a)),e=e.substring(a+3),c=!1)):f.test(e)?(m=e.match(s),m&&(e=e.substring(m[0].length),m[0].replace(s,i),c=!1)):d.test(e)&&(m=e.match(l),m&&(e=e.substring(m[0].length),m[0].replace(l,r),c=!1)),c){a=e.indexOf("<");var $=0>a?e:e.substring(0,a);e=0>a?"":e.substring(a),n.chars&&n.chars(o($))}if(e==_)throw"Parse Error: "+e;_=e}i()}function o(e){return I.innerHTML=e.replace(/</g,"&lt;"),I.innerText||I.textContent||""}function i(e){return e.replace(/&/g,"&amp;").replace(g,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function a(e){var n=!1,r=t.bind(e,e.push);return{start:function(e,o,a){e=t.lowercase(e),!n&&C[e]&&(n=e),n||1!=S[e]||(r("<"),r(e),t.forEach(o,function(e,n){var o=t.lowercase(n);1!=k[o]||x[o]===!0&&!e.match(m)||(r(" "),r(n),r('="'),r(i(e)),r('"'))}),r(a?"/>":">"))},end:function(e){e=t.lowercase(e),n||1!=S[e]||(r("</"),r(e),r(">")),e==n&&(n=!1)},chars:function(e){n||r(i(e))}}}var c=function(e){var t=[];return r(e,a(t)),t.join("")},l=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,s=/^<\s*\/\s*([\w:-]+)[^>]*>/,u=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,d=/^</,f=/^<\s*\//,p=/<!--(.*?)-->/g,h=/<!\[CDATA\[(.*?)]]>/g,m=/^((ftp|https?):\/\/|mailto:|tel:|#)/,g=/([^\#-~| |!])/g,v=n("area,br,col,hr,img,wbr"),_=n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),$=n("rp,rt"),y=t.extend({},$,_),w=t.extend({},_,n("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),b=t.extend({},$,n("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),C=n("script,style"),S=t.extend({},v,w,b,y),x=n("background,cite,href,longdesc,src,usemap"),k=t.extend({},x,n("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,span,start,summary,target,title,type,valign,value,vspace,width")),I=document.createElement("pre");t.module("ngSanitize",[]).value("$sanitize",c),t.module("ngSanitize").directive("ngBindHtml",["$sanitize",function(e){return function(t,n,r){n.addClass("ng-binding").data("$binding",r.ngBindHtml),t.$watch(r.ngBindHtml,function(t){t=e(t),n.html(t||"")})}}]),t.module("ngSanitize").filter("linky",function(){var e=/((ftp|https?):\/\/|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s\.\;\,\(\)\{\}\<\>]/,n=/^mailto:/;return function(r,o){if(!r)return r;var i,c,l,s=r,u=[],d=a(u),f={};for(t.isDefined(o)&&(f.target=o);i=s.match(e);)c=i[0],i[2]==i[3]&&(c="mailto:"+c),l=i.index,d.chars(s.substr(0,l)),f.href=c,d.start("a",f),d.chars(i[0].replace(n,"")),d.end("a"),s=s.substring(l+i[0].length);return d.chars(s),u.join("")}})}(window,window.angular),function(e,t,n){"use strict";t.module("ngCookies",["ng"]).factory("$cookies",["$rootScope","$browser",function(e,r){function o(){var e,o,i,l;for(e in c)u(a[e])&&r.cookies(e,n);for(e in a)o=a[e],t.isString(o)?o!==c[e]&&(r.cookies(e,o),l=!0):t.isDefined(c[e])?a[e]=c[e]:delete a[e];if(l){l=!1,i=r.cookies();for(e in a)a[e]!==i[e]&&(u(i[e])?delete a[e]:a[e]=i[e],l=!0)}}var i,a={},c={},l=!1,s=t.copy,u=t.isUndefined;return r.addPollFn(function(){var t=r.cookies();i!=t&&(i=t,s(t,c),s(t,a),l&&e.$apply())})(),l=!0,e.$watch(o),a}]).factory("$cookieStore",["$cookies",function(e){return{get:function(n){return t.fromJson(e[n])},put:function(n,r){e[n]=t.toJson(r)},remove:function(t){delete e[t]}}}])}(window,window.angular);var directive={};directive.dropdownToggle=["$document","$location","$window",function(e,t){var n,r=null;return{restrict:"C",link:function(o,i){o.$watch(function(){return t.path()},function(){n&&n()}),i.parent().bind("click",function(){n&&n()}),i.bind("click",function(t){t.preventDefault(),t.stopPropagation();var o=!1;r&&(o=r===i,n()),o||(i.parent().addClass("open"),r=i,n=function(t){t&&t.preventDefault(),t&&t.stopPropagation(),e.unbind("click",n),i.parent().removeClass("open"),n=null,r=null},e.bind("click",n))})}}}],directive.tabbable=function(){return{restrict:"C",compile:function(e){var t=angular.element('<ul class="nav nav-tabs"></ul>'),n=angular.element('<div class="tab-content"></div>');n.append(e.contents()),e.append(t).append(n)},controller:["$scope","$element",function(e,t){var n,r=t.contents().eq(0),o=t.controller("ngModel")||{},i=[];o.$render=function(){var e=this.$viewValue;if((n?n.value!=e:e)&&e){for(var t=0,r=i.length;r>t;t++)if(e==i[t].value){n&&(n.paneElement.removeClass("active"),n.tabElement.removeClass("active")),n=i[t];break}n&&(n.paneElement.addClass("active"),n.tabElement.addClass("active"))}},this.addPane=function(t,a){function c(){u.title=a.title,u.value=a.value||a.title,o.$setViewValue||o.$viewValue&&u!=n||(o.$viewValue=u.value),o.$render()}var l=angular.element("<li><a href></a></li>"),s=l.find("a"),u={paneElement:t,paneAttrs:a,tabElement:l};return i.push(u),a.$observe("value",c)(),a.$observe("title",function(){c(),s.text(u.title)})(),r.append(l),l.bind("click",function(t){t.preventDefault(),t.stopPropagation(),o.$setViewValue?e.$apply(function(){o.$setViewValue(u.value),o.$render()}):(o.$viewValue=u.value,o.$render())}),function(){u.tabElement.remove();for(var e=0,t=i.length;t>e;e++)u==i[e]&&i.splice(e,1)}}}]}},directive.tabPane=function(){return{require:"^tabbable",restrict:"C",link:function(e,t,n,r){t.bind("$remove",r.addPane(t,n))}}},angular.module("bootstrap",[]).directive(directive),angular.module("ngUpload",[]).directive("uploadSubmit",["$parse",function(e){return{restrict:"AC",link:function(t,n,r){var o={};o.enableControls=r.uploadOptionsEnableControls;var i=n.parents("form[ng-upload]")||n.parents("form.ng-upload"),a=e(r.uploadSubmit);if(!angular.isFunction(a)){var c="The expression on the ngUpload directive does not point to a valid function.";throw c+"\n"}n.bind("click",function(e){e.preventDefault=!0;var r=angular.element("<iframe id='upload_iframe' name='upload_iframe' border='0' width='0' height='0' style='width: 0px; height: 0px; border: none; display: none' />");
r.bind("load",function(){var e=r.contents().find("body").text();t.$apply(function(){a(t,{content:e,completed:!0})}),""!==e&&setTimeout(function(){r.remove()},250),n.attr("disabled",null),n.attr("title","Click to start upload.")}),i.parent().append(r),t.$apply(function(){a(t,{content:"Please wait...",completed:!1})});var c=!0;o.enableControls||(n.attr("disabled","disabled"),c=!1),n.attr("title",(c?"[ENABLED]: ":"[DISABLED]: ")+"Uploading, please wait..."),i.submit()}).attr("title","Click to start upload.")}}}]).directive("ngUpload",["$parse",function(){return{restrict:"AC",link:function(e,t){t.attr("target","upload_iframe"),t.attr("method","post"),t.attr("action",t.attr("action")+"?_t="+(new Date).getTime()),t.attr("enctype","multipart/form-data"),t.attr("encoding","multipart/form-data")}}}]),angular.module("ui.config",[]).value("ui.config",{}),angular.module("ui.filters",["ui.config"]),angular.module("ui.directives",["ui.config"]),angular.module("ui",["ui.filters","ui.directives","ui.config"]),angular.module("ui.directives").directive("uiAnimate",["ui.config","$timeout",function(e,t){var n={};return angular.isString(e.animate)?n["class"]=e.animate:e.animate&&(n=e.animate),{restrict:"A",link:function(e,r,o){var i={};o.uiAnimate&&(i=e.$eval(o.uiAnimate),angular.isString(i)&&(i={"class":i})),i=angular.extend({"class":"ui-animate"},n,i),r.addClass(i["class"]),t(function(){r.removeClass(i["class"])},20,!1)}}}]),angular.module("ui.directives").directive("uiCalendar",["ui.config","$parse",function(e,t){return e.uiCalendar=e.uiCalendar||{},{require:"ngModel",restrict:"A",scope:{eventChanged:"=changed",events:"=ngModel"},link:function(n,r,o){function i(){var t,i={header:{left:"prev,next today",center:"title",right:"month,agendaWeek,agendaDay"},eventMouseover:function(e,t,n){"agendaDay"!==n.name&&$(t.target).attr("title",e.title)},events:a(n)};t=o.uiCalendar?n.$eval(o.uiCalendar):{},angular.extend(i,e.uiCalendar,t),r.html("").fullCalendar(i)}var a=t(o.ngModel);i(),n.$watch(function(){return n.eventChanged},function(){i()},!0)}}}]),angular.module("ui.directives").directive("uiCodemirror",["ui.config","$parse",function(e,t){"use strict";return e.codemirror=e.codemirror||{},{require:"ngModel",link:function(n,r,o,i){if(!r.is("textarea"))throw Error("ui-codemirror can only be applied to a textarea element");var a,c=t(o.uiCodemirror),l=function(e){var t=e.getValue();t!==i.$viewValue&&(i.$setViewValue(t),n.$apply())},s=function(t){t=angular.extend({},t,e.codemirror);var n=t.onChange;t.onChange=n?function(e){l(e),n(e)}:l,a&&a.toTextArea(),a=CodeMirror.fromTextArea(r[0],t)};s(c()),n.$watch(c,s,!0),i.$formatters.push(function(e){if(angular.isUndefined(e)||null===e)return"";if(angular.isObject(e)||angular.isArray(e))throw Error("ui-codemirror cannot use an object or an array as a model");return e}),i.$render=function(){a.setValue(i.$viewValue)}}}}]),angular.module("ui.directives").directive("uiCurrency",["ui.config","currencyFilter",function(e,t){var n={pos:"ui-currency-pos",neg:"ui-currency-neg",zero:"ui-currency-zero"};return e.currency&&angular.extend(n,e.currency),{restrict:"EAC",require:"ngModel",link:function(e,r,o,i){var a,c,l;a=angular.extend({},n,e.$eval(o.uiCurrency)),c=function(e){var n;return n=1*e,n>0?r.addClass(a.pos):r.removeClass(a.pos),0>n?r.addClass(a.neg):r.removeClass(a.neg),0===n?r.addClass(a.zero):r.removeClass(a.zero),""===e?r.text(""):r.text(t(n,a.symbol)),!0},i.$render=function(){l=i.$viewValue,r.val(l),c(l)}}}}]),angular.module("ui.directives").directive("uiDate",["ui.config",function(e){"use strict";var t;return t={},angular.isObject(e.date)&&angular.extend(t,e.date),{require:"?ngModel",link:function(t,n,r,o){var i=function(){return angular.extend({},e.date,t.$eval(r.uiDate))},a=function(){var e=i();if(o){var r=function(){t.$apply(function(){var e=n.datepicker("getDate");n.datepicker("setDate",n.val()),o.$setViewValue(e)})};if(e.onSelect){var a=e.onSelect;e.onSelect=function(e,t){return r(),a(e,t)}}else e.onSelect=r;n.bind("change",r),o.$render=function(){var e=o.$viewValue;if(angular.isDefined(e)&&null!==e&&!angular.isDate(e))throw Error("ng-Model value must be a Date object - currently it is a "+typeof e+" - use ui-date-format to convert it from a string");n.datepicker("setDate",e)}}n.datepicker("destroy"),n.datepicker(e),o.$render()};t.$watch(i,a,!0)}}}]).directive("uiDateFormat",[function(){var e={require:"ngModel",link:function(e,t,n,r){if(""===n.uiDateFormat)r.$formatters.push(function(e){return angular.isString(e)?new Date(e):null}),r.$parsers.push(function(e){return angular.isString(e)?e.toISOString():null});else{var o=n.uiDateFormat;r.$formatters.push(function(e){return angular.isString(e)?$.datepicker.parseDate(o,e):null}),r.$parsers.push(function(e){return angular.isString(e)?$.datepicker.formatDate(o,e):null})}}};return e}]),angular.module("ui.directives").directive("uiEvent",["$parse",function(e){return function(t,n,r){var o=t.$eval(r.uiEvent);angular.forEach(o,function(r,o){var i=e(r);n.bind(o,function(e){var n=Array.prototype.slice.call(arguments);n=n.splice(1),t.$apply(function(){i(t,{$event:e,$params:n})})})})}}]),angular.module("ui.directives").directive("uiIf",[function(){return{transclude:"element",priority:1e3,terminal:!0,restrict:"A",compile:function(e,t,n){return function(e,t,r){t[0].doNotMove=!0;var o,i,a=r.uiIf;e.$watch(a,function(r){o&&(o.remove(),o=null),i&&(i.$destroy(),i=null),r&&(i=e.$new(),n(i,function(e){o=e,t.after(e)})),t.parent().trigger("$childrenChanged")})}}}}]),angular.module("ui.directives").directive("uiJq",["ui.config",function(e){return{restrict:"A",compile:function(t,n){if(!angular.isFunction(t[n.uiJq]))throw Error('ui-jq: The "'+n.uiJq+'" function does not exist');var r=e.jq&&e.jq[n.uiJq];return function(e,t,n){var o=[],i="change";n.uiOptions?(o=e.$eval("["+n.uiOptions+"]"),angular.isObject(r)&&angular.isObject(o[0])&&(o[0]=angular.extend(r,o[0]))):r&&(o=[r]),n.ngModel&&t.is("select,input,textarea")&&(o&&angular.isObject(o[0])&&void 0!==o[0].ngChange&&(i=o[0].ngChange),i&&t.on(i,function(){t.trigger("input")})),t[n.uiJq].apply(t,o)}}}}]),angular.module("ui.directives").factory("keypressHelper",["$parse",function(e){var t={8:"backspace",9:"tab",13:"enter",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"delete"},n=function(e){return e.charAt(0).toUpperCase()+e.slice(1)};return function(r,o,i,a){var c,l=[];c=o.$eval(a["ui"+n(r)]),angular.forEach(c,function(t,n){var r,o;o=e(t),angular.forEach(n.split(" "),function(e){r={expression:o,keys:{}},angular.forEach(e.split("-"),function(e){r.keys[e]=!0}),l.push(r)})}),i.bind(r,function(e){var n=e.metaKey||e.altKey,i=e.ctrlKey,a=e.shiftKey,c=e.keyCode;"keypress"===r&&!a&&c>=97&&122>=c&&(c-=32),angular.forEach(l,function(r){var c=r.keys[t[e.keyCode]]||r.keys[""+e.keyCode]||!1,l=r.keys.alt||!1,s=r.keys.ctrl||!1,u=r.keys.shift||!1;c&&l==n&&s==i&&u==a&&o.$apply(function(){r.expression(o,{$event:e})})})})}}]),angular.module("ui.directives").directive("uiKeydown",["keypressHelper",function(e){return{link:function(t,n,r){e("keydown",t,n,r)}}}]),angular.module("ui.directives").directive("uiKeypress",["keypressHelper",function(e){return{link:function(t,n,r){e("keypress",t,n,r)}}}]),angular.module("ui.directives").directive("uiKeyup",["keypressHelper",function(e){return{link:function(t,n,r){e("keyup",t,n,r)}}}]),function(){function e(e,t,n,r){angular.forEach(t.split(" "),function(t){var o={type:"map-"+t};google.maps.event.addListener(n,t,function(t){r.trigger(angular.extend({},o,t)),e.$$phase||e.$apply()})})}function t(t,r){n.directive(t,[function(){return{restrict:"A",link:function(n,o,i){n.$watch(i[t],function(t){e(n,r,t,o)})}}}])}var n=angular.module("ui.directives");n.directive("uiMap",["ui.config","$parse",function(t,n){var r="bounds_changed center_changed click dblclick drag dragend dragstart heading_changed idle maptypeid_changed mousemove mouseout mouseover projection_changed resize rightclick tilesloaded tilt_changed zoom_changed",o=t.map||{};return{restrict:"A",link:function(t,i,a){var c=angular.extend({},o,t.$eval(a.uiOptions)),l=new google.maps.Map(i[0],c),s=n(a.uiMap);s.assign(t,l),e(t,r,l,i)}}}]),n.directive("uiMapInfoWindow",["ui.config","$parse","$compile",function(t,n,r){var o="closeclick content_change domready position_changed zindex_changed",i=t.mapInfoWindow||{};return{link:function(t,a,c){var l=angular.extend({},i,t.$eval(c.uiOptions));l.content=a[0];var s=n(c.uiMapInfoWindow),u=s(t);u||(u=new google.maps.InfoWindow(l),s.assign(t,u)),e(t,o,u,a),a.replaceWith("<div></div>");var d=u.open;u.open=function(e,n,o,i,c,l){r(a.contents())(t),d.call(u,e,n,o,i,c,l)}}}}]),t("uiMapMarker","animation_changed click clickable_changed cursor_changed dblclick drag dragend draggable_changed dragstart flat_changed icon_changed mousedown mouseout mouseover mouseup position_changed rightclick shadow_changed shape_changed title_changed visible_changed zindex_changed"),t("uiMapPolyline","click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),t("uiMapPolygon","click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),t("uiMapRectangle","bounds_changed click dblclick mousedown mousemove mouseout mouseover mouseup rightclick"),t("uiMapCircle","center_changed click dblclick mousedown mousemove mouseout mouseover mouseup radius_changed rightclick"),t("uiMapGroundOverlay","click dblclick")}(),angular.module("ui.directives").directive("uiMask",[function(){return{require:"ngModel",link:function(e,t,n,r){r.$render=function(){var o=r.$viewValue||"";t.val(o),t.mask(e.$eval(n.uiMask))},r.$parsers.push(function(e){var n=t.isMaskValid()||angular.isUndefined(t.isMaskValid())&&t.val().length>0;return r.$setValidity("mask",n),n?e:void 0}),t.bind("keyup",function(){e.$apply(function(){r.$setViewValue(t.mask())})})}}}]),angular.module("ui.directives").directive("uiModal",["$timeout",function(e){return{restrict:"EAC",require:"ngModel",link:function(t,n,r,o){n.addClass("modal hide"),n.on("shown",function(){n.find("[autofocus]").focus(),t.$broadcast("modal_shown")}),t.$watch(r.ngModel,function(e){n.modal(e&&"show"||"hide")}),n.on(jQuery.support.transition&&"shown"||"show",function(){e(function(){o.$setViewValue(!0)})}),n.on(jQuery.support.transition&&"hidden"||"hide",function(){e(function(){o.$setViewValue(!1)})})}}}]),angular.module("ui.directives").directive("uiReset",["ui.config",function(e){var t=null;return void 0!==e.reset&&(t=e.reset),{require:"ngModel",link:function(e,n,r,o){var i;i=angular.element('<a class="ui-reset" />'),n.wrap('<span class="ui-resetwrap" />').after(i),i.bind("click",function(n){n.preventDefault(),e.$apply(function(){r.uiReset?o.$setViewValue(e.$eval(r.uiReset)):o.$setViewValue(t),o.$render()})})}}}]),angular.module("ui.directives").directive("uiScrollfix",["$window",function(e){"use strict";return{link:function(t,n,r){var o=n.offset().top;r.uiScrollfix?"-"===r.uiScrollfix.charAt(0)?r.uiScrollfix=o-r.uiScrollfix.substr(1):"+"===r.uiScrollfix.charAt(0)&&(r.uiScrollfix=o+parseFloat(r.uiScrollfix.substr(1))):r.uiScrollfix=o,angular.element(e).on("scroll.ui-scrollfix",function(){var t;if(angular.isDefined(e.pageYOffset))t=e.pageYOffset;else{var o=document.compatMode&&"BackCompat"!==document.compatMode?document.documentElement:document.body;t=o.scrollTop}!n.hasClass("ui-scrollfix")&&t>r.uiScrollfix?n.addClass("ui-scrollfix"):n.hasClass("ui-scrollfix")&&r.uiScrollfix>t&&n.removeClass("ui-scrollfix")})}}}]),angular.module("ui.directives").directive("uiSelect2",["ui.config","$http",function(e){var t={};return e.select2&&angular.extend(t,e.select2),{require:"?ngModel",compile:function(e,n){var r,o,i,a=e.is("select"),c=void 0!==n.multiple;return e.is("select")&&(o=e.find("option[ng-repeat], option[data-ng-repeat]"),o.length&&(i=o.attr("ng-repeat")||o.attr("data-ng-repeat"),r=i.split("|")[0].trim().split(" ").pop())),function(e,n,o,i){var l=angular.extend({},t,e.$eval(o.uiSelect2));if(a?(delete l.multiple,delete l.initSelection):c&&(l.multiple=!0),i&&(i.$render=function(){a?n.select2("val",i.$modelValue):c&&!i.$modelValue?n.select2("data",[]):n.select2("data",i.$modelValue)},r&&e.$watch(r,function(e){e&&setTimeout(function(){n.select2("val",i.$viewValue),n.trigger("change")})}),!a&&(n.bind("change",function(){e.$apply(function(){i.$setViewValue(n.select2("data"))})}),l.initSelection))){var s=l.initSelection;l.initSelection=function(e,t){s(e,function(e){i.$setViewValue(e),t(e)})}}o.$observe("disabled",function(e){n.select2(e&&"disable"||"enable")}),e.$watch(o.ngMultiple,function(){n.select2(l)}),n.val(e.$eval(o.ngModel)),setTimeout(function(){n.select2(l)})}}}}]),angular.module("ui.directives").directive("uiShow",[function(){return function(e,t,n){e.$watch(n.uiShow,function(e){e?t.addClass("ui-show"):t.removeClass("ui-show")})}}]).directive("uiHide",[function(){return function(e,t,n){e.$watch(n.uiHide,function(e){e?t.addClass("ui-hide"):t.removeClass("ui-hide")})}}]).directive("uiToggle",[function(){return function(e,t,n){e.$watch(n.uiToggle,function(e){e?t.removeClass("ui-hide").addClass("ui-show"):t.removeClass("ui-show").addClass("ui-hide")})}}]),angular.module("ui.directives").directive("uiSortable",["ui.config",function(e){var t;return t={},null!=e.sortable&&angular.extend(t,e.sortable),{require:"?ngModel",link:function(e,n,r,o){var i,a,c,l,s;return c=angular.extend({},t,e.$eval(r.uiOptions)),null!=o&&(i=function(e,t){return t.item.data("ui-sortable-start",t.item.index())},a=function(t,n){var r,i;return i=n.item.data("ui-sortable-start"),r=n.item.index(),o.$modelValue.splice(r,0,o.$modelValue.splice(i,1)[0]),e.$apply()},l=c.start,c.start=function(t,n){return i(t,n),"function"==typeof l&&l(t,n),e.$apply()},s=c.update,c.update=function(t,n){return a(t,n),"function"==typeof s&&s(t,n),e.$apply()}),n.sortable(c)}}}]),angular.module("ui.directives").directive("uiTinymce",["ui.config",function(e){return e.tinymce=e.tinymce||{},{require:"ngModel",link:function(t,n,r,o){var i,a={onchange_callback:function(e){e.isDirty()&&(e.save(),o.$setViewValue(n.val()),t.$$phase||t.$apply())},handle_event_callback:function(){return this.isDirty()&&(this.save(),o.$setViewValue(n.val()),t.$$phase||t.$apply()),!0},setup:function(e){e.onSetContent.add(function(e){e.isDirty()&&(e.save(),o.$setViewValue(n.val()),t.$$phase||t.$apply())})}};i=r.uiTinymce?t.$eval(r.uiTinymce):{},angular.extend(a,e.tinymce,i),setTimeout(function(){n.tinymce(a)})}}}]),angular.module("ui.directives").directive("uiValidate",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,r){var o,i=n.uiValidate;i=e.$eval(i),i&&(angular.isFunction(i)&&(i={validator:i}),angular.forEach(i,function(e,t){o=function(n){return e(n)?(r.$setValidity(t,!0),n):(r.$setValidity(t,!1),void 0)},r.$formatters.push(o),r.$parsers.push(o)}))}}}),angular.module("ui.filters").filter("format",function(){return function(e,t){if(!e)return e;var n,r=""+e;return void 0===t?r:angular.isArray(t)||angular.isObject(t)?(n=angular.isArray(t)&&"$"||":",angular.forEach(t,function(e,t){r=r.split(n+t).join(e)}),r):r.split("$0").join(t)}}),angular.module("ui.filters").filter("highlight",function(){return function(e,t,n){return t||angular.isNumber(t)?(e=""+e,t=""+t,n?e.split(t).join('<span class="ui-match">'+t+"</span>"):e.replace(RegExp(t,"gi"),'<span class="ui-match">$&</span>')):e}}),angular.module("ui.filters").filter("inflector",function(){function e(e){return e.replace(/^([a-z])|\s+([a-z])/g,function(e){return e.toUpperCase()})}function t(e,t){return e.replace(/[A-Z]/g,function(e){return t+e})}var n={humanize:function(n){return e(t(n," ").split("_").join(" "))},underscore:function(e){return e.substr(0,1).toLowerCase()+t(e.substr(1),"_").toLowerCase().split(" ").join("_")},variable:function(t){return t=t.substr(0,1).toLowerCase()+e(t.split("_").join(" ")).substr(1).split(" ").join("")}};return function(e,t){return t!==!1&&angular.isString(e)?(t=t||"humanize",n[t](e)):e}}),angular.module("ui.filters").filter("unique",function(){return function(e,t){if(t===!1)return e;if((t||angular.isUndefined(t))&&angular.isArray(e)){var n=[],r=function(e){return angular.isObject(e)&&angular.isString(t)?e[t]:e};angular.forEach(e,function(e){for(var t=!1,o=0;n.length>o;o++)if(angular.equals(r(n[o]),r(e))){t=!0;break}t||n.push(e)}),e=n}return e}}),function(e,t){"use strict";var n=6,r=4,o="asc",i="desc",a="_ng_field_",c="_ng_depth_",l="_ng_hidden_",s="_ng_column_",u=/CUSTOM_FILTERS/g,d=/COL_FIELD/g,f=/DISPLAY_CELL_TEMPLATE/g,p=/EDITABLE_CELL_TEMPLATE/g,h=/<.+>/;e.ngGrid={},e.ngGrid.i18n={};var m=angular.module("ngGrid.services",[]),g=angular.module("ngGrid.directives",[]),v=angular.module("ngGrid.filters",[]);angular.module("ngGrid",["ngGrid.services","ngGrid.directives","ngGrid.filters"]);var _=function(e,t,r,o){if(void 0===e.selectionProvider.selectedItems)return!0;var i,a=r.which||r.keyCode,c=!1,l=!1,s=e.selectionProvider.lastClickedRow.rowIndex,u=e.columns.filter(function(e){return e.visible}),d=e.columns.filter(function(e){return e.pinned});if(e.col&&(i=u.indexOf(e.col)),37!=a&&38!=a&&39!=a&&40!=a&&9!=a&&13!=a)return!0;if(e.enableCellSelection){9==a&&r.preventDefault();var f=e.showSelectionCheckbox?1==e.col.index:0==e.col.index,p=1==e.$index||0==e.$index,h=e.$index==e.renderedColumns.length-1||e.$index==e.renderedColumns.length-2,m=u.indexOf(e.col)==u.length-1,g=d.indexOf(e.col)==d.length-1;if(37==a||9==a&&r.shiftKey){var v=0;f||(i-=1),p?f&&9==a&&r.shiftKey?(v=o.$canvas.width(),i=u.length-1,l=!0):v=o.$viewport.scrollLeft()-e.col.width:d.length>0&&(v=o.$viewport.scrollLeft()-u[i].width),o.$viewport.scrollLeft(v)}else(39==a||9==a&&!r.shiftKey)&&(h?m&&9==a&&!r.shiftKey?(o.$viewport.scrollLeft(0),i=e.showSelectionCheckbox?1:0,c=!0):o.$viewport.scrollLeft(o.$viewport.scrollLeft()+e.col.width):g&&o.$viewport.scrollLeft(0),m||(i+=1))}var _;_=e.configGroups.length>0?o.rowFactory.parsedData.filter(function(e){return!e.isAggRow}):o.filteredRows;var $=0;if(0!=s&&(38==a||13==a&&r.shiftKey||9==a&&r.shiftKey&&l)?$=-1:s!=_.length-1&&(40==a||13==a&&!r.shiftKey||9==a&&c)&&($=1),$){var y=_[s+$];y.beforeSelectionChange(y,r)&&(y.continueSelection(r),e.$emit("ngGridEventDigestGridParent"),e.selectionProvider.lastClickedRow.renderedRowIndex>=e.renderedRows.length-n-2?o.$viewport.scrollTop(o.$viewport.scrollTop()+e.rowHeight):n+2>=e.selectionProvider.lastClickedRow.renderedRowIndex&&o.$viewport.scrollTop(o.$viewport.scrollTop()-e.rowHeight))}return e.enableCellSelection&&setTimeout(function(){e.domAccessProvider.focusCellElement(e,e.renderedColumns.indexOf(u[i]))},3),!1};String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,n=Number(arguments[1])||0;for(n=0>n?Math.ceil(n):Math.floor(n),0>n&&(n+=t);t>n;n++)if(n in this&&this[n]===e)return n;return-1}),Array.prototype.filter||(Array.prototype.filter=function(e){var t=Object(this),n=t.length>>>0;if("function"!=typeof e)throw new TypeError;for(var r=[],o=arguments[1],i=0;n>i;i++)if(i in t){var a=t[i];e.call(o,a,i,t)&&r.push(a)}return r}),v.filter("checkmark",function(){return function(e){return e?"✔":"✘"}}),v.filter("ngColumns",function(){return function(e){return e.filter(function(e){return!e.isAggCol})}}),m.factory("$domUtilityService",["$utilityService",function(e){var n={},r={},o=function(){var e=t("<div></div>");e.appendTo("body"),e.height(100).width(100).css("position","absolute").css("overflow","scroll"),e.append('<div style="height: 400px; width: 400px;"></div>'),n.ScrollH=e.height()-e[0].clientHeight,n.ScrollW=e.width()-e[0].clientWidth,e.empty(),e.attr("style",""),e.append('<span style="font-family: Verdana, Helvetica, Sans-Serif; font-size: 14px;"><strong>M</strong></span>'),n.LetterW=e.children().first().width(),e.remove()};return n.eventStorage={},n.AssignGridContainers=function(e,r,o){o.$root=t(r),o.$topPanel=o.$root.find(".ngTopPanel"),o.$groupPanel=o.$root.find(".ngGroupPanel"),o.$headerContainer=o.$topPanel.find(".ngHeaderContainer"),e.$headerContainer=o.$headerContainer,o.$headerScroller=o.$topPanel.find(".ngHeaderScroller"),o.$headers=o.$headerScroller.children(),o.$viewport=o.$root.find(".ngViewport"),o.$canvas=o.$viewport.find(".ngCanvas"),o.$footerPanel=o.$root.find(".ngFooterPanel"),e.$watch(function(){return o.$viewport.scrollLeft()},function(e){return o.$headerContainer.scrollLeft(e)}),n.UpdateGridLayout(e,o)},n.getRealWidth=function(e){var n=0,r={visibility:"hidden",display:"block"},o=e.parents().andSelf().not(":visible");return t.swap(o[0],r,function(){n=e.outerWidth()}),n},n.UpdateGridLayout=function(e,t){var r=t.$viewport.scrollTop();t.elementDims.rootMaxW=t.$root.width(),t.$root.is(":hidden")&&(t.elementDims.rootMaxW=n.getRealWidth(t.$root)),t.elementDims.rootMaxH=t.$root.height(),t.refreshDomSizes(),e.adjustScrollTop(r,!0)},n.numberOfGrids=0,n.BuildStyles=function(r,o,i){var a,c=o.config.rowHeight,l=o.$styleSheet,s=o.gridId,u=r.columns,d=0;l||(l=t("#"+s),l[0]||(l=t("<style id='"+s+"' type='text/css' rel='stylesheet' />").appendTo(o.$root))),l.empty();var f=r.totalRowWidth();a="."+s+" .ngCanvas { width: "+f+"px; }"+"."+s+" .ngRow { width: "+f+"px; }"+"."+s+" .ngCanvas { width: "+f+"px; }"+"."+s+" .ngHeaderScroller { width: "+(f+n.ScrollH)+"px}";for(var p=0;u.length>p;p++){var h=u[p];if(h.visible!==!1){var m=h.pinned?o.$viewport.scrollLeft()+d:d;a+="."+s+" .col"+p+" { width: "+h.width+"px; left: "+m+"px; height: "+c+"px }"+"."+s+" .colt"+p+" { width: "+h.width+"px; }",d+=h.width}}e.isIe?l[0].styleSheet.cssText=a:l[0].appendChild(document.createTextNode(a)),o.$styleSheet=l,i&&(r.adjustScrollLeft(o.$viewport.scrollLeft()),n.digest(r))},n.setColLeft=function(t,n,o){if(o.$styleSheet){var i=r[t.index];i||(i=r[t.index]=RegExp(".col"+t.index+" { width: [0-9]+px; left: [0-9]+px"));var a=o.$styleSheet.html(),c=a.replace(i,".col"+t.index+" { width: "+t.width+"px; left: "+n+"px");e.isIe?setTimeout(function(){o.$styleSheet.html(c)}):o.$styleSheet.html(c)}},n.setColLeft.immediate=1,n.RebuildGrid=function(e,t){n.UpdateGridLayout(e,t),t.config.maintainColumnRatios&&t.configureColumnWidths(),e.adjustScrollLeft(t.$viewport.scrollLeft()),n.BuildStyles(e,t,!0)},n.digest=function(e){e.$root.$$phase||e.$digest()},n.ScrollH=17,n.ScrollW=17,n.LetterW=10,o(),n}]),m.factory("$sortService",["$parse",function(e){var t={};return t.colSortFnCache={},t.guessSortFn=function(e){var n=typeof e;switch(n){case"number":return t.sortNumber;case"boolean":return t.sortBool;case"string":return e.match(/^-?[£$¤]?[\d,.]+%?$/)?t.sortNumberStr:t.sortAlpha;default:return"[object Date]"===Object.prototype.toString.call(e)?t.sortDate:t.basicSort}},t.basicSort=function(e,t){return e==t?0:t>e?-1:1},t.sortNumber=function(e,t){return e-t},t.sortNumberStr=function(e,t){var n,r,o=!1,i=!1;return n=parseFloat(e.replace(/[^0-9.-]/g,"")),isNaN(n)&&(o=!0),r=parseFloat(t.replace(/[^0-9.-]/g,"")),isNaN(r)&&(i=!0),o&&i?0:o?1:i?-1:n-r},t.sortAlpha=function(e,t){var n=e.toLowerCase(),r=t.toLowerCase();return n==r?0:r>n?-1:1},t.sortDate=function(e,t){var n=e.getTime(),r=t.getTime();return n==r?0:r>n?-1:1},t.sortBool=function(e,t){return e&&t?0:e||t?e?1:-1:0},t.sortData=function(n,r){if(r&&n){var i,a,c=n.fields.length,l=n.fields,s=r.slice(0);r.sort(function(r,u){for(var d,f=0,p=0;0==f&&c>p;){i=n.columns[p],a=n.directions[p],d=t.getSortFn(i,s);var h=e(l[p])(r),m=e(l[p])(u);!h&&0!=h||!m&&0!=m?m||h?h?m||(f=-1):f=1:f=0:f=d(h,m),p++}return a===o?f:0-f})}},t.Sort=function(e,n){t.isSorting||(t.isSorting=!0,t.sortData(e,n),t.isSorting=!1)},t.getSortFn=function(n,r){var o,i=void 0;if(t.colSortFnCache[n.field])i=t.colSortFnCache[n.field];else if(void 0!=n.sortingAlgorithm)i=n.sortingAlgorithm,t.colSortFnCache[n.field]=n.sortingAlgorithm;else{if(o=r[0],!o)return i;i=t.guessSortFn(e(n.field)(o)),i?t.colSortFnCache[n.field]=i:i=t.sortAlpha}return i},t}]),m.factory("$utilityService",["$parse",function(n){var r=/function (.{1,})\(/,o={visualLength:function(e){var n=document.getElementById("testDataLength");return n||(n=document.createElement("SPAN"),n.id="testDataLength",n.style.visibility="hidden",document.body.appendChild(n)),t(n).css("font",t(e).css("font")),n.innerHTML=t(e).text(),n.offsetWidth},forIn:function(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)},evalProperty:function(e,t){return n(t)(e)},endsWith:function(e,t){return e&&t&&"string"==typeof e?-1!==e.indexOf(t,e.length-t.length):!1},isNullOrUndefined:function(e){return void 0===e||null===e?!0:!1},getElementsByClassName:function(e){for(var t=[],n=RegExp("\\b"+e+"\\b"),r=document.getElementsByTagName("*"),o=0;r.length>o;o++){var i=r[o].className;n.test(i)&&t.push(r[o])}return t},newId:function(){var e=(new Date).getTime();return function(){return e+=1}}(),seti18n:function(t,n){var r=e.ngGrid.i18n[n];for(var o in r)t.i18n[o]=r[o]},getInstanceType:function(e){var t=r.exec(""+e.constructor);return t&&t.length>1?t[1]:""},ieVersion:function(){for(var e=3,t=document.createElement("div"),n=t.getElementsByTagName("i");t.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->",n[0];);return e>4?e:void 0}()};return t.extend(o,{isIe:function(){return void 0!==o.ieVersion}()}),o}]);var $=function(e,t,n,r){var o=this;o.rowIndex=0,o.offsetTop=o.rowIndex*n,o.entity=e,o.label=e.gLabel,o.field=e.gField,o.depth=e.gDepth,o.parent=e.parent,o.children=e.children,o.aggChildren=e.aggChildren,o.aggIndex=e.aggIndex,o.collapsed=r,o.isAggRow=!0,o.offsetLeft=25*e.gDepth,o.aggLabelFilter=e.aggLabelFilter,o.toggleExpand=function(){o.collapsed=o.collapsed?!1:!0,o.orig&&(o.orig.collapsed=o.collapsed),o.notifyChildren()},o.setExpand=function(e){o.collapsed=e,o.notifyChildren()},o.notifyChildren=function(){for(var e=Math.max(t.aggCache.length,o.children.length),n=0;e>n;n++)if(o.aggChildren[n]&&(o.aggChildren[n].entity[l]=o.collapsed,o.collapsed&&o.aggChildren[n].setExpand(o.collapsed)),o.children[n]&&(o.children[n][l]=o.collapsed),n>o.aggIndex&&t.aggCache[n]){var r=t.aggCache[n],i=30*o.children.length;r.offsetTop=o.collapsed?r.offsetTop-i:r.offsetTop+i}t.renderedChange()},o.aggClass=function(){return o.collapsed?"ngAggArrowCollapsed":"ngAggArrowExpanded"},o.totalChildren=function(){if(o.aggChildren.length>0){var e=0,t=function(n){n.aggChildren.length>0?angular.forEach(n.aggChildren,function(e){t(e)}):e+=n.children.length};return t(o),e}return o.children.length},o.copy=function(){var e=new $(o.entity,t,n,r);return e.orig=o,e}},y=function(e,n,r,a,c,l){var s=this,d=e.colDef,f=500,p=0,m=null;s.colDef=e.colDef,s.width=d.width,s.groupIndex=0,s.isGroupedBy=!1,s.minWidth=d.minWidth?d.minWidth:50,s.maxWidth=d.maxWidth?d.maxWidth:9e3,s.enableCellEdit=e.enableCellEdit||d.enableCellEdit,s.headerRowHeight=e.headerRowHeight,s.displayName=d.displayName||d.field,s.index=e.index,s.isAggCol=e.isAggCol,s.cellClass=d.cellClass,s.sortPriority=void 0,s.cellFilter=d.cellFilter?d.cellFilter:"",s.field=d.field,s.aggLabelFilter=d.cellFilter||d.aggLabelFilter,s.visible=l.isNullOrUndefined(d.visible)||d.visible,s.sortable=!1,s.resizable=!1,s.pinnable=!1,s.pinned=e.enablePinning&&d.pinned,s.originalIndex=s.index,s.groupable=l.isNullOrUndefined(d.groupable)||d.groupable,e.enableSort&&(s.sortable=l.isNullOrUndefined(d.sortable)||d.sortable),e.enableResize&&(s.resizable=l.isNullOrUndefined(d.resizable)||d.resizable),e.enablePinning&&(s.pinnable=l.isNullOrUndefined(d.pinnable)||d.pinnable),s.sortDirection=void 0,s.sortingAlgorithm=d.sortFn,s.headerClass=d.headerClass,s.cursor=s.sortable?"pointer":"default",s.headerCellTemplate=d.headerCellTemplate||c.get("headerCellTemplate.html"),s.cellTemplate=d.cellTemplate||c.get("cellTemplate.html").replace(u,s.cellFilter?"|"+s.cellFilter:""),s.enableCellEdit&&(s.cellEditTemplate=c.get("cellEditTemplate.html"),s.editableCellTemplate=d.editableCellTemplate||c.get("editableCellTemplate.html")),d.cellTemplate&&!h.test(d.cellTemplate)&&(s.cellTemplate=t.ajax({type:"GET",url:d.cellTemplate,async:!1}).responseText),s.enableCellEdit&&d.editableCellTemplate&&!h.test(d.editableCellTemplate)&&(s.editableCellTemplate=t.ajax({type:"GET",url:d.editableCellTemplate,async:!1}).responseText),d.headerCellTemplate&&!h.test(d.headerCellTemplate)&&(s.headerCellTemplate=t.ajax({type:"GET",url:d.headerCellTemplate,async:!1}).responseText),s.colIndex=function(){var e=s.pinned?"pinned ":"";return e+="col"+s.index+" colt"+s.index,s.cellClass&&(e+=" "+s.cellClass),e},s.groupedByClass=function(){return s.isGroupedBy?"ngGroupedByIcon":"ngGroupIcon"},s.toggleVisible=function(){s.visible=!s.visible},s.showSortButtonUp=function(){return s.sortable?s.sortDirection===i:s.sortable},s.showSortButtonDown=function(){return s.sortable?s.sortDirection===o:s.sortable},s.noSortVisible=function(){return!s.sortDirection},s.sort=function(t){if(!s.sortable)return!0;var n=s.sortDirection===o?i:o;return s.sortDirection=n,e.sortCallback(s,t),!1},s.gripClick=function(){p++,1===p?m=setTimeout(function(){p=0},f):(clearTimeout(m),e.resizeOnDataCallback(s),p=0)},s.gripOnMouseDown=function(e){return e.ctrlKey&&!s.pinned?(s.toggleVisible(),a.BuildStyles(n,r),!0):(e.target.parentElement.style.cursor="col-resize",s.startMousePosition=e.clientX,s.origWidth=s.width,t(document).mousemove(s.onMouseMove),t(document).mouseup(s.gripOnMouseUp),!1)},s.onMouseMove=function(e){var t=e.clientX-s.startMousePosition,o=t+s.origWidth;return s.width=s.minWidth>o?s.minWidth:o>s.maxWidth?s.maxWidth:o,a.BuildStyles(n,r),!1},s.gripOnMouseUp=function(e){return t(document).off("mousemove",s.onMouseMove),t(document).off("mouseup",s.gripOnMouseUp),e.target.parentElement.style.cursor="default",n.adjustScrollLeft(0),a.digest(n),!1},s.copy=function(){var t=new y(e,n,r,a,c);return t.isClone=!0,t.orig=s,t},s.setVars=function(e){s.orig=e,s.width=e.width,s.groupIndex=e.groupIndex,s.isGroupedBy=e.isGroupedBy,s.displayName=e.displayName,s.index=e.index,s.isAggCol=e.isAggCol,s.cellClass=e.cellClass,s.cellFilter=e.cellFilter,s.field=e.field,s.aggLabelFilter=e.aggLabelFilter,s.visible=e.visible,s.sortable=e.sortable,s.resizable=e.resizable,s.pinnable=e.pinnable,s.pinned=e.pinned,s.originalIndex=e.originalIndex,s.sortDirection=e.sortDirection,s.sortingAlgorithm=e.sortingAlgorithm,s.headerClass=e.headerClass,s.headerCellTemplate=e.headerCellTemplate,s.cellTemplate=e.cellTemplate,s.cellEditTemplate=e.cellEditTemplate}},w=function(e){this.outerHeight=null,this.outerWidth=null,t.extend(this,e)},b=function(e){var t,n=this;n.selectInputElement=function(e){var t=e.nodeName.toLowerCase();("input"==t||"textarea"==t)&&e.select()},n.focusCellElement=function(n,r){if(n.selectionProvider.lastClickedRow){var o=void 0!=r?r:t,i=n.selectionProvider.lastClickedRow.clone?n.selectionProvider.lastClickedRow.clone.elm:n.selectionProvider.lastClickedRow.elm;if(void 0!=o&&i){var a=angular.element(i[0].children).filter(function(){return 8!=this.nodeType}),c=Math.max(Math.min(n.renderedColumns.length-1,o),0);e.config.showSelectionCheckbox&&angular.element(a[c]).scope()&&0==angular.element(a[c]).scope().col.index&&(c=1),a[c]&&a[c].children[0].focus(),t=o}}};var r=function(e,t){e.css({"-webkit-touch-callout":t,"-webkit-user-select":t,"-khtml-user-select":t,"-moz-user-select":"none"==t?"-moz-none":t,"-ms-user-select":t,"user-select":t})};n.selectionHandlers=function(t,n){var o=!1;n.bind("keydown",function(i){if(16==i.keyCode)return r(n,"none",i),!0;if(!o){o=!0;var a=_(t,n,i,e);return o=!1,a}return!0}),n.bind("keyup",function(e){return 16==e.keyCode&&r(n,"text",e),!0})}},C=function(n,r,o,i){var a=this;a.colToMove=void 0,a.groupToMove=void 0,a.assignEvents=function(){n.config.jqueryUIDraggable&&!n.config.enablePinning?n.$groupPanel.droppable({addClasses:!1,drop:function(e){a.onGroupDrop(e)}}):(n.$groupPanel.on("mousedown",a.onGroupMouseDown).on("dragover",a.dragOver).on("drop",a.onGroupDrop),n.$headerScroller.on("mousedown",a.onHeaderMouseDown).on("dragover",a.dragOver),n.config.enableColumnReordering&&!n.config.enablePinning&&n.$headerScroller.on("drop",a.onHeaderDrop),n.config.enableRowReordering&&n.$viewport.on("mousedown",a.onRowMouseDown).on("dragover",a.dragOver).on("drop",a.onRowDrop)),r.$watch("renderedColumns",function(){i(a.setDraggables)
})},a.dragStart=function(e){e.dataTransfer.setData("text","")},a.dragOver=function(e){e.preventDefault()},a.setDraggables=function(){if(n.config.jqueryUIDraggable)n.$root.find(".ngHeaderSortColumn").draggable({helper:"clone",appendTo:"body",stack:"div",addClasses:!1,start:function(e){a.onHeaderMouseDown(e)}}).droppable({drop:function(e){a.onHeaderDrop(e)}});else{var e=n.$root.find(".ngHeaderSortColumn");angular.forEach(e,function(e){e.setAttribute("draggable","true"),e.addEventListener&&e.addEventListener("dragstart",a.dragStart)}),-1!=navigator.userAgent.indexOf("MSIE")&&n.$root.find(".ngHeaderSortColumn").bind("selectstart",function(){return this.dragDrop(),!1})}},a.onGroupMouseDown=function(e){var r=t(e.target);if("ngRemoveGroup"!=r[0].className){var o=angular.element(r).scope();o&&(n.config.jqueryUIDraggable||(r.attr("draggable","true"),this.addEventListener&&this.addEventListener("dragstart",a.dragStart),-1!=navigator.userAgent.indexOf("MSIE")&&r.bind("selectstart",function(){return this.dragDrop(),!1})),a.groupToMove={header:r,groupName:o.group,index:o.$index})}else a.groupToMove=void 0},a.onGroupDrop=function(e){e.stopPropagation();var o,i;a.groupToMove?(o=t(e.target).closest(".ngGroupElement"),"ngGroupPanel"==o.context.className?(r.configGroups.splice(a.groupToMove.index,1),r.configGroups.push(a.groupToMove.groupName)):(i=angular.element(o).scope(),i&&a.groupToMove.index!=i.$index&&(r.configGroups.splice(a.groupToMove.index,1),r.configGroups.splice(i.$index,0,a.groupToMove.groupName))),a.groupToMove=void 0,n.fixGroupIndexes()):a.colToMove&&(-1==r.configGroups.indexOf(a.colToMove.col)&&(o=t(e.target).closest(".ngGroupElement"),"ngGroupPanel"==o.context.className||"ngGroupPanelDescription ng-binding"==o.context.className?r.groupBy(a.colToMove.col):(i=angular.element(o).scope(),i&&r.removeGroup(i.$index))),a.colToMove=void 0),r.$$phase||r.$apply()},a.onHeaderMouseDown=function(e){var n=t(e.target).closest(".ngHeaderSortColumn"),r=angular.element(n).scope();r&&(a.colToMove={header:n,col:r.col})},a.onHeaderDrop=function(e){if(a.colToMove&&!a.colToMove.col.pinned){var i=t(e.target).closest(".ngHeaderSortColumn"),c=angular.element(i).scope();if(c){if(a.colToMove.col==c.col)return;r.columns.splice(a.colToMove.col.index,1),r.columns.splice(c.col.index,0,a.colToMove.col),n.fixColumnIndexes(),o.BuildStyles(r,n,!0),a.colToMove=void 0}}},a.onRowMouseDown=function(e){var n=t(e.target).closest(".ngRow"),r=angular.element(n).scope();r&&(n.attr("draggable","true"),o.eventStorage.rowToMove={targetRow:n,scope:r})},a.onRowDrop=function(e){var r=t(e.target).closest(".ngRow"),i=angular.element(r).scope();if(i){var a=o.eventStorage.rowToMove;if(a.scope.row==i.row)return;n.changeRowOrder(a.scope.row,i.row),n.searchProvider.evalFilter(),o.eventStorage.rowToMove=void 0,o.digest(i.$root)}},a.assignGridEventHandlers=function(){-1===n.config.tabIndex?(n.$viewport.attr("tabIndex",o.numberOfGrids),o.numberOfGrids++):n.$viewport.attr("tabIndex",n.config.tabIndex),t(e).resize(function(){o.RebuildGrid(r,n)}),t(n.$root.parent()).on("resize",function(){o.RebuildGrid(r,n)})},a.assignGridEventHandlers(),a.assignEvents()},S=function(e,t){e.maxRows=function(){var e=Math.max(t.config.totalServerItems,t.data.length);return e},e.multiSelect=t.config.enableRowSelection&&t.config.multiSelect,e.selectedItemCount=t.selectedItemCount,e.maxPages=function(){return Math.ceil(e.maxRows()/e.pagingOptions.pageSize)},e.pageForward=function(){var n=e.pagingOptions.currentPage;t.config.totalServerItems>0?e.pagingOptions.currentPage=Math.min(n+1,e.maxPages()):e.pagingOptions.currentPage++},e.pageBackward=function(){var t=e.pagingOptions.currentPage;e.pagingOptions.currentPage=Math.max(t-1,1)},e.pageToFirst=function(){e.pagingOptions.currentPage=1},e.pageToLast=function(){var t=e.maxPages();e.pagingOptions.currentPage=t},e.cantPageForward=function(){var n=e.pagingOptions.currentPage,r=e.maxPages();return t.config.totalServerItems>0?!(r>n):1>t.data.length},e.cantPageToLast=function(){return t.config.totalServerItems>0?e.cantPageForward():!0},e.cantPageBackward=function(){var t=e.pagingOptions.currentPage;return!(t>1)}},x=function(o,i,a,c,s,u,d,f,p){var m={aggregateTemplate:void 0,afterSelectionChange:function(){},beforeSelectionChange:function(){return!0},checkboxCellTemplate:void 0,checkboxHeaderTemplate:void 0,columnDefs:void 0,data:[],dataUpdated:function(){},enableCellEdit:!1,enableCellSelection:!1,enableColumnResize:!1,enableColumnReordering:!1,enableColumnHeavyVirt:!1,enablePaging:!1,enablePinning:!1,enableRowReordering:!1,enableRowSelection:!0,enableSorting:!0,enableHighlighting:!1,excludeProperties:[],filterOptions:{filterText:"",useExternalFilter:!1},footerRowHeight:55,footerTemplate:void 0,groups:[],groupsCollapsedByDefault:!0,headerRowHeight:30,headerRowTemplate:void 0,jqueryUIDraggable:!1,jqueryUITheme:!1,keepLastSelected:!0,maintainColumnRatios:void 0,menuTemplate:void 0,multiSelect:!0,pagingOptions:{pageSizes:[250,500,1e3],pageSize:250,currentPage:1},pinSelectionCheckbox:!1,plugins:[],primaryKey:void 0,rowHeight:30,rowTemplate:void 0,selectedItems:[],selectWithCheckboxOnly:!1,showColumnMenu:!1,showFilter:!1,showFooter:!1,showGroupPanel:!1,showSelectionCheckbox:!1,sortInfo:{fields:[],columns:[],directions:[]},tabIndex:-1,totalServerItems:0,useExternalSorting:!1,i18n:"en",virtualizationThreshold:50},g=this;g.maxCanvasHt=0,g.config=t.extend(m,e.ngGrid.config,i),g.config.showSelectionCheckbox=g.config.showSelectionCheckbox&&g.config.enableColumnHeavyVirt===!1,g.config.enablePinning=g.config.enablePinning&&g.config.enableColumnHeavyVirt===!1,g.config.selectWithCheckboxOnly=g.config.selectWithCheckboxOnly&&g.config.showSelectionCheckbox!==!1,g.config.pinSelectionCheckbox=g.config.enablePinning,"string"==typeof i.columnDefs&&(g.config.columnDefs=o.$eval(i.columnDefs)),g.rowCache=[],g.rowMap=[],g.gridId="ng"+d.newId(),g.$root=null,g.$groupPanel=null,g.$topPanel=null,g.$headerContainer=null,g.$headerScroller=null,g.$headers=null,g.$viewport=null,g.$canvas=null,g.rootDim=g.config.gridDim,g.data=[],g.lateBindColumns=!1,g.filteredRows=[];var v=function(e){var n=g.config[e],r=g.gridId+e+".html";if(n&&!h.test(n))u.put(r,t.ajax({type:"GET",url:n,async:!1}).responseText);else if(n)u.put(r,n);else{var o=e+".html";u.put(r,u.get(o))}};v("rowTemplate"),v("aggregateTemplate"),v("headerRowTemplate"),v("checkboxCellTemplate"),v("checkboxHeaderTemplate"),v("menuTemplate"),v("footerTemplate"),"object"==typeof g.config.data&&(g.data=g.config.data),g.calcMaxCanvasHeight=function(){return g.config.groups.length>0?g.rowFactory.parsedData.filter(function(e){return!e[l]}).length*g.config.rowHeight:g.filteredRows.length*g.config.rowHeight},g.elementDims={scrollW:0,scrollH:0,rowIndexCellW:25,rowSelectedCellW:25,rootMaxW:0,rootMaxH:0},g.setRenderedRows=function(e){o.renderedRows.length=e.length;for(var t=0;e.length>t;t++)!o.renderedRows[t]||e[t].isAggRow||o.renderedRows[t].isAggRow?(o.renderedRows[t]=e[t].copy(),o.renderedRows[t].collapsed=e[t].collapsed,e[t].isAggRow||o.renderedRows[t].setVars(e[t])):o.renderedRows[t].setVars(e[t]),o.renderedRows[t].rowIndex=e[t].rowIndex,o.renderedRows[t].offsetTop=e[t].offsetTop,o.renderedRows[t].selected=e[t].selected,e[t].renderedRowIndex=t;g.refreshDomSizes(),o.$emit("ngGridEventRows",e)},g.minRowsToRender=function(){var e=o.viewportDimHeight()||1;return Math.floor(e/g.config.rowHeight)},g.refreshDomSizes=function(){var e=new w;e.outerWidth=g.elementDims.rootMaxW,e.outerHeight=g.elementDims.rootMaxH,g.rootDim=e,g.maxCanvasHt=g.calcMaxCanvasHeight()},g.buildColumnDefsFromData=function(){g.config.columnDefs=[];var e=g.data[0];return e?(d.forIn(e,function(e,t){-1==g.config.excludeProperties.indexOf(t)&&g.config.columnDefs.push({field:t})}),void 0):(g.lateBoundColumns=!0,void 0)},g.buildColumns=function(){var e=g.config.columnDefs,t=[];if(e||(g.buildColumnDefsFromData(),e=g.config.columnDefs),g.config.showSelectionCheckbox&&t.push(new y({colDef:{field:"✔",width:g.elementDims.rowSelectedCellW,sortable:!1,resizable:!1,groupable:!1,headerCellTemplate:u.get(o.gridId+"checkboxHeaderTemplate.html"),cellTemplate:u.get(o.gridId+"checkboxCellTemplate.html"),pinned:g.config.pinSelectionCheckbox},index:0,headerRowHeight:g.config.headerRowHeight,sortCallback:g.sortData,resizeOnDataCallback:g.resizeOnData,enableResize:g.config.enableColumnResize,enableSort:g.config.enableSorting,enablePinning:g.config.enablePinning},o,g,c,u,d)),e.length>0){var n=g.config.showSelectionCheckbox?g.config.groups.length+1:g.config.groups.length;o.configGroups.length=0,angular.forEach(e,function(e,r){r+=n;var i=new y({colDef:e,index:r,headerRowHeight:g.config.headerRowHeight,sortCallback:g.sortData,resizeOnDataCallback:g.resizeOnData,enableResize:g.config.enableColumnResize,enableSort:g.config.enableSorting,enablePinning:g.config.enablePinning,enableCellEdit:g.config.enableCellEdit},o,g,c,u,d),a=g.config.groups.indexOf(e.field);-1!=a&&(i.isGroupedBy=!0,o.configGroups.splice(a,0,i),i.groupIndex=o.configGroups.length),t.push(i)}),o.columns=t}},g.configureColumnWidths=function(){var e=g.config.columnDefs,t=g.config.showSelectionCheckbox?o.configGroups.length+1:o.configGroups.length,n=(e.length+t,[]),r=[],i=0,a=0;if(a+=g.config.showSelectionCheckbox?25:0,angular.forEach(e,function(e,c){c+=t;var l=!1,s=void 0;if(d.isNullOrUndefined(e.width)?e.width="*":(l=isNaN(e.width)?d.endsWith(e.width,"%"):!1,s=l?e.width:parseInt(e.width,10)),isNaN(s)){if(s=e.width,"auto"==s){o.columns[c].width=e.minWidth,a+=o.columns[c].width;var u=o.columns[c];return f(function(){g.resizeOnData(u,!0)}),void 0}if(-1!=s.indexOf("*"))return e.visible!==!1&&(i+=s.length),e.index=c,n.push(e),void 0;if(l)return e.index=c,r.push(e),void 0;throw'unable to parse column width, use percentage ("10%","20%", etc...) or "*" to use remaining width of grid'}e.visible!==!1&&(a+=o.columns[c].width=parseInt(e.width,10))}),n.length>0){g.config.maintainColumnRatios===!1?angular.noop():g.config.maintainColumnRatios=!0;var l=g.rootDim.outerWidth-a,s=Math.floor(l/i);angular.forEach(n,function(e){var t=e.width.length;o.columns[e.index].width=s*t;var n=1;g.maxCanvasHt>o.viewportDimHeight()&&(n+=c.ScrollW),o.columns[e.index].width-=n,e.visible!==!1&&(a+=o.columns[e.index].width)})}r.length>0&&angular.forEach(r,function(e){var t=e.width;o.columns[e.index].width=Math.floor(g.rootDim.outerWidth*(parseInt(t.slice(0,-1),10)/100))})},g.init=function(){o.selectionProvider=new E(g,o,p),o.domAccessProvider=new b(g),g.rowFactory=new P(g,o,c,u,d),g.searchProvider=new T(o,g,s),g.styleProvider=new R(o,g),o.$watch("configGroups",function(e){var t=[];angular.forEach(e,function(e){t.push(e.field||e)}),g.config.groups=t,g.rowFactory.filteredRowsChanged(),o.$emit("ngGridEventGroups",e)},!0),o.$watch("columns",function(e){c.BuildStyles(o,g,!0),o.$emit("ngGridEventColumns",e)},!0),o.$watch(function(){return i.i18n},function(e){d.seti18n(o,e)}),g.maxCanvasHt=g.calcMaxCanvasHeight(),g.config.sortInfo.fields&&g.config.sortInfo.fields.length>0&&(g.getColsFromFields(),g.sortActual())},g.resizeOnData=function(e){var n=e.minWidth,r=d.getElementsByClassName("col"+e.index);angular.forEach(r,function(e,r){var o;if(0===r){var i=t(e).find(".ngHeaderText");o=d.visualLength(i)+10}else{var a=t(e).find(".ngCellText");o=d.visualLength(a)+10}o>n&&(n=o)}),e.width=e.longest=Math.min(e.maxWidth,n+7),c.BuildStyles(o,g,!0)},g.lastSortedColumns=[],g.changeRowOrder=function(e,t){var n=g.rowCache.indexOf(e),r=g.rowCache.indexOf(t);g.rowCache.splice(n,1),g.rowCache.splice(r,0,e),o.$emit("ngGridEventChangeOrder",g.rowCache)},g.sortData=function(e,n){if(n&&n.shiftKey&&g.config.sortInfo){var r=g.config.sortInfo.columns.indexOf(e);-1===r?(1==g.config.sortInfo.columns.length&&(g.config.sortInfo.columns[0].sortPriority=1),g.config.sortInfo.columns.push(e),e.sortPriority=g.config.sortInfo.columns.length,g.config.sortInfo.fields.push(e.field),g.config.sortInfo.directions.push(e.sortDirection),g.lastSortedColumns.push(e)):g.config.sortInfo.directions[r]=e.sortDirection}else{var i=t.isArray(e);g.config.sortInfo.columns.length=0,g.config.sortInfo.fields.length=0,g.config.sortInfo.directions.length=0;var a=function(e){g.config.sortInfo.columns.push(e),g.config.sortInfo.fields.push(e.field),g.config.sortInfo.directions.push(e.sortDirection),g.lastSortedColumns.push(e)};i?(g.clearSortingData(),angular.forEach(e,function(e,t){e.sortPriority=t+1,a(e)})):(g.clearSortingData(e),e.sortPriority=void 0,a(e))}g.sortActual(),g.searchProvider.evalFilter(),o.$emit("ngGridEventSorted",g.config.sortInfo)},g.getColsFromFields=function(){g.config.sortInfo.columns?g.config.sortInfo.columns.length=0:g.config.sortInfo.columns=[],angular.forEach(o.columns,function(e){var t=g.config.sortInfo.fields.indexOf(e.field);return-1!=t&&(e.sortDirection=g.config.sortInfo.directions[t]||"asc",g.config.sortInfo.columns.push(e)),!1})},g.sortActual=function(){if(!g.config.useExternalSorting){var e=g.data.slice(0);angular.forEach(e,function(e,t){var n=g.rowMap[t];if(void 0!=n){var r=g.rowCache[r];void 0!=r&&(e.preSortSelected=r.selected,e.preSortIndex=t)}}),a.Sort(g.config.sortInfo,e),angular.forEach(e,function(e,t){g.rowCache[t].entity=e,g.rowCache[t].selected=e.preSortSelected,g.rowMap[e.preSortIndex]=t,delete e.preSortSelected,delete e.preSortIndex})}},g.clearSortingData=function(e){e?(angular.forEach(g.lastSortedColumns,function(t){e.index!=t.index&&(t.sortDirection="",t.sortPriority=null)}),g.lastSortedColumns[0]=e,g.lastSortedColumns.length=1):(angular.forEach(g.lastSortedColumns,function(e){e.sortDirection="",e.sortPriority=null}),g.lastSortedColumns=[])},g.fixColumnIndexes=function(){for(var e=0;o.columns.length>e;e++)o.columns[e].visible!==!1&&(o.columns[e].index=e)},g.fixGroupIndexes=function(){angular.forEach(o.configGroups,function(e,t){e.groupIndex=t+1})},o.elementsNeedMeasuring=!0,o.columns=[],o.renderedRows=[],o.renderedColumns=[],o.headerRow=null,o.rowHeight=g.config.rowHeight,o.jqueryUITheme=g.config.jqueryUITheme,o.showSelectionCheckbox=g.config.showSelectionCheckbox,o.enableCellSelection=g.config.enableCellSelection,o.footer=null,o.selectedItems=g.config.selectedItems,o.multiSelect=g.config.multiSelect,o.showFooter=g.config.showFooter,o.footerRowHeight=o.showFooter?g.config.footerRowHeight:0,o.showColumnMenu=g.config.showColumnMenu,o.showMenu=!1,o.configGroups=[],o.gridId=g.gridId,o.enablePaging=g.config.enablePaging,o.pagingOptions=g.config.pagingOptions,o.i18n={},d.seti18n(o,g.config.i18n),o.adjustScrollLeft=function(e){for(var t=0,n=0,r=o.columns.length,i=[],a=!g.config.enableColumnHeavyVirt,l=0,s=function(e){a?i.push(e):o.renderedColumns[l]?o.renderedColumns[l].setVars(e):o.renderedColumns[l]=e.copy(),l++},u=0;r>u;u++){var d=o.columns[u];if(d.visible!==!1){var f=d.width+t;if(d.pinned){s(d);var p=u>0?e+n:e;c.setColLeft(d,p,g),n+=d.width}else f>=e&&e+g.rootDim.outerWidth>=t&&s(d);t+=d.width}}a&&(o.renderedColumns=i)},g.prevScrollTop=0,g.prevScrollIndex=0,o.adjustScrollTop=function(e,t){if(g.prevScrollTop!==e||t){e>0&&g.$viewport[0].scrollHeight-e<=g.$viewport.outerHeight()&&o.$emit("ngGridEventScroll");var i,a=Math.floor(e/g.config.rowHeight);if(g.filteredRows.length>g.config.virtualizationThreshold){if(e>g.prevScrollTop&&g.prevScrollIndex+r>a)return;if(g.prevScrollTop>e&&a>g.prevScrollIndex-r)return;i=new k(Math.max(0,a-n),a+g.minRowsToRender()+n)}else{var c=o.configGroups.length>0?g.rowFactory.parsedData.length:g.data.length;i=new k(0,Math.max(c,g.minRowsToRender()+n))}g.prevScrollTop=e,g.rowFactory.UpdateViewableRange(i),g.prevScrollIndex=a}},o.toggleShowMenu=function(){o.showMenu=!o.showMenu},o.toggleSelectAll=function(e){o.selectionProvider.toggleSelectAll(e)},o.totalFilteredItemsLength=function(){return g.filteredRows.length},o.showGroupPanel=function(){return g.config.showGroupPanel},o.topPanelHeight=function(){return g.config.showGroupPanel===!0?g.config.headerRowHeight+32:g.config.headerRowHeight},o.viewportDimHeight=function(){return Math.max(0,g.rootDim.outerHeight-o.topPanelHeight()-o.footerRowHeight-2)},o.groupBy=function(e){if(!(1>g.data.length)&&e.groupable&&e.field){e.sortDirection||e.sort({shiftKey:o.configGroups.length>0?!0:!1});var t=o.configGroups.indexOf(e);-1==t?(e.isGroupedBy=!0,o.configGroups.push(e),e.groupIndex=o.configGroups.length):o.removeGroup(t),g.$viewport.scrollTop(0),c.digest(o)}},o.removeGroup=function(e){var t=o.columns.filter(function(t){return t.groupIndex==e+1})[0];t.isGroupedBy=!1,t.groupIndex=0,o.columns[e].isAggCol&&(o.columns.splice(e,1),o.configGroups.splice(e,1),g.fixGroupIndexes()),0===o.configGroups.length&&(g.fixColumnIndexes(),c.digest(o)),o.adjustScrollLeft(0)},o.togglePin=function(e){for(var t=e.index,n=0,r=0;o.columns.length>r&&o.columns[r].pinned;r++)n++;e.pinned&&(n=Math.max(e.originalIndex,n-1)),e.pinned=!e.pinned,o.columns.splice(t,1),o.columns.splice(n,0,e),g.fixColumnIndexes(),c.BuildStyles(o,g,!0),g.$viewport.scrollLeft(g.$viewport.scrollLeft()-e.width)},o.totalRowWidth=function(){for(var e=0,t=o.columns,n=0;t.length>n;n++)t[n].visible!==!1&&(e+=t[n].width);return e},o.headerScrollerDim=function(){var e=o.viewportDimHeight(),t=g.maxCanvasHt,n=t>e,r=new w;return r.autoFitHeight=!0,r.outerWidth=o.totalRowWidth(),n?r.outerWidth+=g.elementDims.scrollW:g.elementDims.scrollH>=t-e&&(r.outerWidth+=g.elementDims.scrollW),r},g.init()},k=function(e,t){this.topRow=e,this.bottomRow=t},I=function(e,t,n,r,o){var i=this,a=t.enableRowSelection;i.jqueryUITheme=t.jqueryUITheme,i.rowClasses=t.rowClasses,i.entity=e,i.selectionProvider=n,i.selected=n.getSelection(e),i.cursor=a?"pointer":"default",i.setSelection=function(e){i.selectionProvider.setSelection(i,e),i.selectionProvider.lastClickedRow=i},i.continueSelection=function(e){i.selectionProvider.ChangeSelection(i,e)},i.ensureEntity=function(e){i.entity!=e&&(i.entity=e,i.selected=i.selectionProvider.getSelection(i.entity))},i.toggleSelected=function(e){if(!a&&!t.enableCellSelection)return!0;var n=e.target||e;return"checkbox"==n.type&&"ngSelectionCell ng-scope"!=n.parentElement.className?!0:t.selectWithCheckboxOnly&&"checkbox"!=n.type?(i.selectionProvider.lastClickedRow=i,!0):(i.beforeSelectionChange(i,e)&&i.continueSelection(e),!1)},i.rowIndex=r,i.offsetTop=i.rowIndex*t.rowHeight,i.rowDisplayIndex=0,i.alternatingRowClass=function(){var e=0===i.rowIndex%2,t={ngRow:!0,selected:i.selected,even:e,odd:!e,"ui-state-default":i.jqueryUITheme&&e,"ui-state-active":i.jqueryUITheme&&!e};return t},i.beforeSelectionChange=t.beforeSelectionChangeCallback,i.afterSelectionChange=t.afterSelectionChangeCallback,i.getProperty=function(e){return o.evalProperty(i.entity,e)},i.copy=function(){return i.clone=new I(e,t,n,r,o),i.clone.isClone=!0,i.clone.elm=i.elm,i.clone.orig=i,i.clone},i.setVars=function(e){e.clone=i,i.entity=e.entity,i.selected=e.selected}},P=function(e,t,r,o,i){var u=this;u.aggCache={},u.parentCache=[],u.dataChanged=!0,u.parsedData=[],u.rowConfig={},u.selectionProvider=t.selectionProvider,u.rowHeight=30,u.numberOfAggregates=0,u.groupedData=void 0,u.rowHeight=e.config.rowHeight,u.rowConfig={enableRowSelection:e.config.enableRowSelection,rowClasses:e.config.rowClasses,selectedItems:t.selectedItems,selectWithCheckboxOnly:e.config.selectWithCheckboxOnly,beforeSelectionChangeCallback:e.config.beforeSelectionChange,afterSelectionChangeCallback:e.config.afterSelectionChange,jqueryUITheme:e.config.jqueryUITheme,enableCellSelection:e.config.enableCellSelection,rowHeight:e.config.rowHeight},u.renderedRange=new k(0,e.minRowsToRender()+n),u.buildEntityRow=function(e,t){return new I(e,u.rowConfig,u.selectionProvider,t,i)},u.buildAggregateRow=function(t,n){var r=u.aggCache[t.aggIndex];return r||(r=new $(t,u,u.rowConfig.rowHeight,e.config.groupsCollapsedByDefault),u.aggCache[t.aggIndex]=r),r.rowIndex=n,r.offsetTop=n*u.rowConfig.rowHeight,r},u.UpdateViewableRange=function(e){u.renderedRange=e,u.renderedChange()},u.filteredRowsChanged=function(){e.lateBoundColumns&&e.filteredRows.length>0&&(e.config.columnDefs=void 0,e.buildColumns(),e.lateBoundColumns=!1,t.$evalAsync(function(){t.adjustScrollLeft(0)})),u.dataChanged=!0,e.config.groups.length>0&&u.getGrouping(e.config.groups),u.UpdateViewableRange(u.renderedRange)},u.renderedChange=function(){if(!u.groupedData||1>e.config.groups.length)return u.renderedChangeNoGroups(),e.refreshDomSizes(),void 0;u.wasGrouped=!0,u.parentCache=[];var t=0,n=u.parsedData.filter(function(e){return e.isAggRow?e.parent&&e.parent.collapsed?!1:!0:(e[l]||(e.rowIndex=t++),!e[l])});u.totalRows=n.length;for(var r=[],o=u.renderedRange.topRow;u.renderedRange.bottomRow>o;o++)n[o]&&(n[o].offsetTop=o*e.config.rowHeight,r.push(n[o]));e.setRenderedRows(r)},u.renderedChangeNoGroups=function(){for(var t=[],n=u.renderedRange.topRow;u.renderedRange.bottomRow>n;n++)e.filteredRows[n]&&(e.filteredRows[n].rowIndex=n,e.filteredRows[n].offsetTop=n*e.config.rowHeight,t.push(e.filteredRows[n]));e.setRenderedRows(t)},u.fixRowCache=function(){var t=e.data.length,n=t-e.rowCache.length;if(0>n)e.rowCache.length=e.rowMap.length=t;else for(var r=e.rowCache.length;t>r;r++)e.rowCache[r]=e.rowFactory.buildEntityRow(e.data[r],r)},u.parseGroupData=function(e){if(e.values)for(var t=0;e.values.length>t;t++)u.parentCache[u.parentCache.length-1].children.push(e.values[t]),u.parsedData.push(e.values[t]);else for(var n in e)if(n!=a&&n!=c&&n!=s&&e.hasOwnProperty(n)){var r=u.buildAggregateRow({gField:e[a],gLabel:n,gDepth:e[c],isAggRow:!0,_ng_hidden_:!1,children:[],aggChildren:[],aggIndex:u.numberOfAggregates,aggLabelFilter:e[s].aggLabelFilter},0);u.numberOfAggregates++,r.parent=u.parentCache[r.depth-1],r.parent&&(r.parent.collapsed=!1,r.parent.aggChildren.push(r)),u.parsedData.push(r),u.parentCache[r.depth]=r,u.parseGroupData(e[n])}},u.getGrouping=function(n){u.aggCache=[],u.numberOfAggregates=0,u.groupedData={};for(var d=e.filteredRows,f=n.length,p=t.columns,h=0;d.length>h;h++){var m=d[h].entity;if(!m)return;d[h][l]=e.config.groupsCollapsedByDefault;for(var g=u.groupedData,v=0;n.length>v;v++){var _=n[v],$=p.filter(function(e){return e.field==_})[0],w=i.evalProperty(m,_);w=w?""+w:"null",g[w]||(g[w]={}),g[a]||(g[a]=_),g[c]||(g[c]=v),g[s]||(g[s]=$),g=g[w]}g.values||(g.values=[]),g.values.push(d[h])}for(var b=0;n.length>b;b++)!p[b].isAggCol&&f>=b&&p.splice(0,0,new y({colDef:{field:"",width:25,sortable:!1,resizable:!1,headerCellTemplate:'<div class="ngAggHeader"></div>',pinned:e.config.pinSelectionCheckbox},enablePinning:e.config.enablePinning,isAggCol:!0,headerRowHeight:e.config.headerRowHeight},t,e,r,o,i));r.BuildStyles(t,e,!0),e.fixColumnIndexes(),t.adjustScrollLeft(0),u.parsedData.length=0,u.parseGroupData(u.groupedData),u.fixRowCache()},e.config.groups.length>0&&e.filteredRows.length>0&&u.getGrouping(e.config.groups)},T=function(e,n,r){var o=this,i=[];o.extFilter=n.config.filterOptions.useExternalFilter,e.showFilter=n.config.showFilter,e.filterText="",o.fieldMap={},o.evalFilter=function(){var e=function(e){for(var t=0,n=i.length;n>t;t++){var c,l=i[t];if(!l.column){for(var s in e)if(e.hasOwnProperty(s)){var u=o.fieldMap[s];if(!u)continue;var d=null,f=null;u&&u.cellFilter&&(f=u.cellFilter.split(":"),d=r(f[0]));var p=e[s];if(null!=p){if("function"==typeof d){var h=""+d("object"==typeof p?a(p,u.field):p,f[1]);c=l.regex.test(h)}else c=l.regex.test("object"==typeof p?""+a(p,u.field):""+p);if(p&&c)return!0}}return!1}var m=o.fieldMap[l.columnDisplay];if(!m)return!1;var g=m.cellFilter.split(":"),v=m.cellFilter?r(g[0]):null,_=e[l.column]||e[m.field.split(".")[0]];if(null==_)return!1;if("function"==typeof v){var $=""+v("object"==typeof _?a(_,m.field):_,g[1]);c=l.regex.test($)}else c=l.regex.test("object"==typeof _?""+a(_,m.field):""+_);if(!_||!c)return!1}return!0};n.filteredRows=0===i.length?n.rowCache:n.rowCache.filter(function(t){return e(t.entity)});for(var t=0;n.filteredRows.length>t;t++)n.filteredRows[t].rowIndex=t;n.rowFactory.filteredRowsChanged()};var a=function(e,t){if("object"!=typeof e||"string"!=typeof t)return e;var n=t.split("."),r=e;if(n.length>1){for(var o=1,i=n.length;i>o;o++)if(r=r[n[o]],!r)return e;return r}return e},c=function(e,t){try{return RegExp(e,t)}catch(n){return RegExp(e.replace(/(\^|\$|\(|\)|\<|\>|\[|\]|\{|\}|\\|\||\.|\*|\+|\?)/g,"\\$1"))}},l=function(e){i=[];var n;if(n=t.trim(e))for(var r=n.split(";"),o=0;r.length>o;o++){var a=r[o].split(":");if(a.length>1){var l=t.trim(a[0]),s=t.trim(a[1]);l&&s&&i.push({column:l,columnDisplay:l.replace(/\s+/g,"").toLowerCase(),regex:c(s,"i")})}else{var u=t.trim(a[0]);u&&i.push({column:"",regex:c(u,"i")})}}};e.$watch(function(){return n.config.filterOptions.filterText},function(t){e.filterText=t}),e.$watch("filterText",function(t){o.extFilter||(e.$emit("ngGridEventFilter",t),l(t),o.evalFilter())}),o.extFilter||e.$watch("columns",function(e){for(var t=0;e.length>t;t++){var n=e[t];n.field&&(o.fieldMap[n.field.split(".")[0]]=n),n.displayName&&(o.fieldMap[n.displayName.toLowerCase().replace(/\s+/g,"")]=n)}})},E=function(e,t,n){var r=this;r.multi=e.config.multiSelect,r.selectedItems=e.config.selectedItems,r.selectedIndex=e.config.selectedIndex,r.lastClickedRow=void 0,r.ignoreSelectedItemChanges=!1,r.pKeyParser=n(e.config.primaryKey),r.ChangeSelection=function(n,o){var i=o.which||o.keyCode,a=40===i||38===i;if(!o||o.keyCode&&!a||o.ctrlKey||o.shiftKey||r.toggleSelectAll(!1,!0),o&&o.shiftKey&&!o.keyCode&&r.multi&&e.config.enableRowSelection){if(r.lastClickedRow){var c;c=t.configGroups.length>0?e.rowFactory.parsedData.filter(function(e){return!e.isAggRow}):e.filteredRows;var l=n.rowIndex,s=r.lastClickedRow.rowIndex;if(r.lastClickedRow=n,l==s)return!1;s>l?(l^=s,s=l^s,l^=s,l--):s++;for(var u=[];l>=s;s++)u.push(c[s]);if(u[u.length-1].beforeSelectionChange(u,o)){for(var d=0;u.length>d;d++){var f=u[d],p=f.selected;f.selected=!p,f.clone&&(f.clone.selected=f.selected);var h=r.selectedItems.indexOf(f.entity);-1===h?r.selectedItems.push(f.entity):r.selectedItems.splice(h,1)}u[u.length-1].afterSelectionChange(u,o)}return!0}}else r.multi?(!o.keyCode||a)&&r.setSelection(n,!n.selected):r.lastClickedRow==n?r.setSelection(r.lastClickedRow,e.config.keepLastSelected?!0:!n.selected):(r.lastClickedRow&&r.setSelection(r.lastClickedRow,!1),r.setSelection(n,!n.selected));return r.lastClickedRow=n,!0},r.getSelection=function(t){var n=!1;if(e.config.primaryKey){var o=r.pKeyParser(t);angular.forEach(r.selectedItems,function(e){o==r.pKeyParser(e)&&(n=!0)})}else n=-1!==r.selectedItems.indexOf(t);return n},r.setSelection=function(t,n){if(e.config.enableRowSelection){if(n)-1===r.selectedItems.indexOf(t.entity)&&(!r.multi&&r.selectedItems.length>0&&r.toggleSelectAll(!1,!0),r.selectedItems.push(t.entity));else{var o=r.selectedItems.indexOf(t.entity);-1!=o&&r.selectedItems.splice(o,1)}t.selected=n,t.orig&&(t.orig.selected=n),t.clone&&(t.clone.selected=n),t.afterSelectionChange(t)}},r.toggleSelectAll=function(t,n){if(n||e.config.beforeSelectionChange(e.filteredRows,t)){var o=r.selectedItems.length;o>0&&(r.selectedItems.length=0);for(var i=0;e.filteredRows.length>i;i++)e.filteredRows[i].selected=t,e.filteredRows[i].clone&&(e.filteredRows[i].clone.selected=t),t&&r.selectedItems.push(e.filteredRows[i].entity);n||e.config.afterSelectionChange(e.filteredRows,t)}}},R=function(e,t){e.headerCellStyle=function(e){return{height:e.headerRowHeight+"px"}},e.rowStyle=function(t){var n={top:t.offsetTop+"px",height:e.rowHeight+"px"};return t.isAggRow&&(n.left=t.offsetLeft),n},e.canvasStyle=function(){return{height:""+t.maxCanvasHt+"px"}},e.headerScrollerStyle=function(){return{height:t.config.headerRowHeight+"px"}},e.topPanelStyle=function(){return{width:t.rootDim.outerWidth+"px",height:e.topPanelHeight()+"px"}},e.headerStyle=function(){return{width:t.rootDim.outerWidth+"px",height:t.config.headerRowHeight+"px"}},e.groupPanelStyle=function(){return{width:t.rootDim.outerWidth+"px",height:"32px"}},e.viewportStyle=function(){return{width:t.rootDim.outerWidth+"px",height:e.viewportDimHeight()+"px"}},e.footerStyle=function(){return{width:t.rootDim.outerWidth+"px",height:e.footerRowHeight+"px"}}};g.directive("ngCellHasFocus",["$domUtilityService",function(e){var t=function(t,n){t.isFocused=!0,e.digest(t);var r=angular.element(n[0].children).filter(function(){return 8!=this.nodeType}),o=angular.element(r[0].children[0]);o.length>0&&(angular.element(o).focus(),t.domAccessProvider.selectInputElement(o[0]),angular.element(o).bind("blur",function(){return t.isFocused=!1,e.digest(t),!0}))};return function(e,n){var r=!1;e.editCell=function(){setTimeout(function(){t(e,n)},0)},n.bind("mousedown",function(){return n.focus(),!0}),n.bind("focus",function(){return r=!0,!0}),n.bind("blur",function(){return r=!1,!0}),n.bind("keydown",function(o){return r&&37!=o.keyCode&&38!=o.keyCode&&39!=o.keyCode&&40!=o.keyCode&&9!=o.keyCode&&!o.shiftKey&&13!=o.keyCode&&t(e,n),27==o.keyCode&&n.focus(),!0})}}]),g.directive("ngCellText",function(){return function(e,t){t.bind("mouseover",function(e){e.preventDefault(),t.css({cursor:"text"})}),t.bind("mouseleave",function(e){e.preventDefault(),t.css({cursor:"default"})})}}),g.directive("ngCell",["$compile","$domUtilityService",function(e,t){var n={scope:!1,compile:function(){return{pre:function(t,n){var r,o=t.col.cellTemplate.replace(d,"$eval('row.entity.' + col.field)");t.col.enableCellEdit?(r=t.col.cellEditTemplate,r=r.replace(f,o),r=r.replace(p,t.col.editableCellTemplate.replace(d,"$eval('row.entity.' + col.field)"))):r=o;var i=e(r)(t);t.enableCellSelection&&-1==i[0].className.indexOf("ngSelectionCell")&&(i[0].setAttribute("tabindex",0),i.addClass("ngCellElement")),n.append(i)},post:function(e,n){e.enableCellSelection&&e.domAccessProvider.selectionHandlers(e,n),e.$on("ngGridEventDigestCell",function(){t.digest(e)})}}}};return n}]),g.directive("ngGridFooter",["$compile","$templateCache",function(e,t){var n={scope:!1,compile:function(){return{pre:function(n,r){0===r.children().length&&r.append(e(t.get(n.gridId+"footerTemplate.html"))(n))}}}};return n}]),g.directive("ngGridMenu",["$compile","$templateCache",function(e,t){var n={scope:!1,compile:function(){return{pre:function(n,r){0===r.children().length&&r.append(e(t.get(n.gridId+"menuTemplate.html"))(n))}}}};return n}]),g.directive("ngGrid",["$compile","$filter","$templateCache","$sortService","$domUtilityService","$utilityService","$timeout","$parse",function(e,n,r,o,i,a,c,l){var s={scope:!0,compile:function(){return{pre:function(s,u,d){var f=t(u),p=s.$eval(d.ngGrid);p.gridDim=new w({outerHeight:t(f).height(),outerWidth:t(f).width()});var h=new x(s,p,o,i,n,r,a,c,l);if("string"==typeof p.columnDefs?s.$parent.$watch(p.columnDefs,function(e){return e?(h.lateBoundColumns=!1,s.columns=[],h.config.columnDefs=e,h.buildColumns(),h.configureColumnWidths(),h.eventProvider.assignEvents(),i.RebuildGrid(s,h),void 0):(h.refreshDomSizes(),h.buildColumns(),void 0)},!0):h.buildColumns(),"string"==typeof p.data){var m=function(e){h.data=t.extend([],e),h.rowFactory.fixRowCache(),angular.forEach(h.data,function(e,t){var n=h.rowMap[t]||t;h.rowCache[n]&&h.rowCache[n].ensureEntity(e),h.rowMap[n]=t}),h.searchProvider.evalFilter(),h.configureColumnWidths(),h.refreshDomSizes(),h.config.sortInfo.fields.length>0&&(h.getColsFromFields(),h.sortActual(),h.searchProvider.evalFilter(),s.$emit("ngGridEventSorted",h.config.sortInfo)),s.$emit("ngGridEventData",h.gridId)};s.$parent.$watch(p.data,m),s.$parent.$watch(p.data+".length",function(){m(s.$eval(p.data))})}return h.footerController=new S(s,h),u.addClass("ngGrid").addClass(""+h.gridId),p.enableHighlighting||u.addClass("unselectable"),p.jqueryUITheme&&u.addClass("ui-widget"),u.append(e(r.get("gridTemplate.html"))(s)),i.AssignGridContainers(s,u,h),h.eventProvider=new C(h,s,i,c),p.selectRow=function(e,t){h.rowCache[e]&&(h.rowCache[e].clone&&h.rowCache[e].clone.setSelection(t?!0:!1),h.rowCache[e].setSelection(t?!0:!1))},p.selectItem=function(e,t){p.selectRow(h.rowMap[e],t)},p.selectAll=function(e){s.toggleSelectAll(e)},p.groupBy=function(e){if(e)s.groupBy(s.columns.filter(function(t){return t.field==e})[0]);else{var n=t.extend(!0,[],s.configGroups);angular.forEach(n,s.groupBy)
}},p.sortBy=function(e){var t=s.columns.filter(function(t){return t.field==e})[0];t&&t.sort()},p.gridId=h.gridId,p.ngGrid=h,p.$gridScope=s,p.$gridServices={SortService:o,DomUtilityService:i},s.$on("ngGridEventDigestGrid",function(){i.digest(s.$parent)}),s.$on("ngGridEventDigestGridParent",function(){i.digest(s.$parent)}),s.$evalAsync(function(){s.adjustScrollLeft(0)}),angular.forEach(p.plugins,function(e){"function"==typeof e&&(e=e.call(this)),e.init(s.$new(),h,p.$gridServices),p.plugins[a.getInstanceType(e)]=e}),"function"==p.init&&p.init(h,s),null}}}};return s}]),g.directive("ngHeaderCell",["$compile",function(e){var t={scope:!1,compile:function(){return{pre:function(t,n){n.append(e(t.col.headerCellTemplate)(t))}}}};return t}]),g.directive("ngIf",[function(){return{transclude:"element",priority:1e3,terminal:!0,restrict:"A",compile:function(e,t,n){return function(e,t,r){var o,i;e.$watch(r.ngIf,function(r){o&&(o.remove(),o=void 0),i&&(i.$destroy(),i=void 0),r&&(i=e.$new(),n(i,function(e){o=e,t.after(e)}))})}}}}]),g.directive("ngInput",["$parse",function(e){return function(t,n,r){var o=e(t.$eval(r.ngInput)),i=o.assign,a=o(t.row.entity);n.val(a),n.bind("keyup",function(){var e=n.val();t.$root.$$phase||t.$apply(function(){i(t.row.entity,e)})}),n.bind("keydown",function(e){switch(e.keyCode){case 37:case 38:case 39:case 40:e.stopPropagation();break;case 27:t.$root.$$phase||t.$apply(function(){i(t.row.entity,a),n.val(a),n.blur()});default:}return!0})}}]),g.directive("ngRow",["$compile","$domUtilityService","$templateCache",function(e,t,n){var r={scope:!1,compile:function(){return{pre:function(r,o){if(r.row.elm=o,r.row.clone&&(r.row.clone.elm=o),r.row.isAggRow){var i=n.get(r.gridId+"aggregateTemplate.html");i=r.row.aggLabelFilter?i.replace(u,"| "+r.row.aggLabelFilter):i.replace(u,""),o.append(e(i)(r))}else o.append(e(n.get(r.gridId+"rowTemplate.html"))(r));r.$on("ngGridEventDigestRow",function(){t.digest(r)})}}}};return r}]),g.directive("ngViewport",[function(){return function(e,t){var n,r,o=0;t.bind("scroll",function(t){var i=t.target.scrollLeft,a=t.target.scrollTop;return e.$headerContainer&&e.$headerContainer.scrollLeft(i),e.adjustScrollLeft(i),e.adjustScrollTop(a),e.$root.$$phase||e.$digest(),r=i,o=o,n=!1,!0}),t.bind("mousewheel DOMMouseScroll",function(){return n=!0,t.focus(),!0}),e.enableCellSelection||e.domAccessProvider.selectionHandlers(e,t)}}]),e.ngGrid.i18n.en={ngAggregateLabel:"items",ngGroupPanelDescription:"Drag a column header here and drop it to group by that column.",ngSearchPlaceHolder:"Search...",ngMenuText:"Choose Columns:",ngShowingItemsLabel:"Showing Items:",ngTotalItemsLabel:"Total Items:",ngSelectedItemsLabel:"Selected Items:",ngPageSizeLabel:"Page Size:",ngPagerFirstTitle:"First Page",ngPagerNextTitle:"Next Page",ngPagerPrevTitle:"Previous Page",ngPagerLastTitle:"Last Page"},e.ngGrid.i18n.fr={ngAggregateLabel:"articles",ngGroupPanelDescription:"Faites glisser un en-tête de colonne ici et déposez-le vers un groupe par cette colonne.",ngSearchPlaceHolder:"Recherche...",ngMenuText:"Choisir des colonnes:",ngShowingItemsLabel:"Articles Affichage des:",ngTotalItemsLabel:"Nombre total d'articles:",ngSelectedItemsLabel:"Éléments Articles:",ngPageSizeLabel:"Taille de page:",ngPagerFirstTitle:"Première page",ngPagerNextTitle:"Page Suivante",ngPagerPrevTitle:"Page précédente",ngPagerLastTitle:"Dernière page"},e.ngGrid.i18n.ge={ngAggregateLabel:"artikel",ngGroupPanelDescription:"Ziehen Sie eine Spaltenüberschrift hier und legen Sie es der Gruppe nach dieser Spalte.",ngSearchPlaceHolder:"Suche...",ngMenuText:"Spalten auswählen:",ngShowingItemsLabel:"Zeige Artikel:",ngTotalItemsLabel:"Meiste Artikel:",ngSelectedItemsLabel:"Ausgewählte Artikel:",ngPageSizeLabel:"Größe Seite:",ngPagerFirstTitle:"Erste Page",ngPagerNextTitle:"Nächste Page",ngPagerPrevTitle:"Vorherige Page",ngPagerLastTitle:"Letzte Page"},e.ngGrid.i18n.sp={ngAggregateLabel:"Artículos",ngGroupPanelDescription:"Arrastre un encabezado de columna aquí y soltarlo para agrupar por esa columna.",ngSearchPlaceHolder:"Buscar...",ngMenuText:"Elegir columnas:",ngShowingItemsLabel:"Artículos Mostrando:",ngTotalItemsLabel:"Artículos Totales:",ngSelectedItemsLabel:"Artículos Seleccionados:",ngPageSizeLabel:"Tamaño de Página:",ngPagerFirstTitle:"Primera Página",ngPagerNextTitle:"Página Siguiente",ngPagerPrevTitle:"Página Anterior",ngPagerLastTitle:"Última Página"},e.ngGrid.i18n["zh-cn"]={ngAggregateLabel:"条目",ngGroupPanelDescription:"拖曳表头到此处以进行分组",ngSearchPlaceHolder:"搜索...",ngMenuText:"数据分组与选择列：",ngShowingItemsLabel:"当前显示条目：",ngTotalItemsLabel:"条目总数：",ngSelectedItemsLabel:"选中条目：",ngPageSizeLabel:"每页显示数：",ngPagerFirstTitle:"回到首页",ngPagerNextTitle:"下一页",ngPagerPrevTitle:"上一页",ngPagerLastTitle:"前往尾页"},e.ngGrid.i18n["zh-tw"]={ngAggregateLabel:"筆",ngGroupPanelDescription:"拖拉表頭到此處以進行分組",ngSearchPlaceHolder:"搜尋...",ngMenuText:"選擇欄位：",ngShowingItemsLabel:"目前顯示筆數：",ngTotalItemsLabel:"總筆數：",ngSelectedItemsLabel:"選取筆數：",ngPageSizeLabel:"每頁顯示：",ngPagerFirstTitle:"第一頁",ngPagerNextTitle:"下一頁",ngPagerPrevTitle:"上一頁",ngPagerLastTitle:"最後頁"},angular.module("ngGrid").run(["$templateCache",function(e){e.put("aggregateTemplate.html",'<div ng-click="row.toggleExpand()" ng-style="rowStyle(row)" class="ngAggregate">    <span class="ngAggregateText">{{row.label CUSTOM_FILTERS}} ({{row.totalChildren()}} {{AggItemsLabel}})</span>    <div class="{{row.aggClass()}}"></div></div>'),e.put("cellEditTemplate.html",'<div ng-cell-has-focus ng-dblclick="editCell()">	<div ng-if="!isFocused">	DISPLAY_CELL_TEMPLATE	</div>	<div ng-if="isFocused">	EDITABLE_CELL_TEMPLATE	</div></div>'),e.put("cellTemplate.html",'<div class="ngCellText" ng-class="col.colIndex()"><span ng-cell-text>{{COL_FIELD CUSTOM_FILTERS}}</span></div>'),e.put("checkboxCellTemplate.html",'<div class="ngSelectionCell"><input tabindex="-1" class="ngSelectionCheckbox" type="checkbox" ng-checked="row.selected" /></div>'),e.put("checkboxHeaderTemplate.html",'<input class="ngSelectionHeader" type="checkbox" ng-show="multiSelect" ng-model="allSelected" ng-change="toggleSelectAll(allSelected)"/>'),e.put("editableCellTemplate.html",'<input ng-class="\'colt\' + col.index" ng-input="COL_FIELD" />'),e.put("footerTemplate.html",'<div ng-show="showFooter" class="ngFooterPanel" ng-class="{\'ui-widget-content\': jqueryUITheme, \'ui-corner-bottom\': jqueryUITheme}" ng-style="footerStyle()">    <div class="ngTotalSelectContainer" >        <div class="ngFooterTotalItems" ng-class="{\'ngNoMultiSelect\': !multiSelect}" >            <span class="ngLabel">{{i18n.ngTotalItemsLabel}} {{maxRows()}}</span><span ng-show="filterText.length > 0" class="ngLabel">({{i18n.ngShowingItemsLabel}} {{totalFilteredItemsLength()}})</span>        </div>        <div class="ngFooterSelectedItems" ng-show="multiSelect">            <span class="ngLabel">{{i18n.ngSelectedItemsLabel}} {{selectedItems.length}}</span>        </div>    </div>    <div class="ngPagerContainer" style="float: right; margin-top: 10px;" ng-show="enablePaging" ng-class="{\'ngNoMultiSelect\': !multiSelect}">        <div style="float:left; margin-right: 10px;" class="ngRowCountPicker">            <span style="float: left; margin-top: 3px;" class="ngLabel">{{i18n.ngPageSizeLabel}}</span>            <select style="float: left;height: 27px; width: 100px" ng-model="pagingOptions.pageSize" >                <option ng-repeat="size in pagingOptions.pageSizes">{{size}}</option>            </select>        </div>        <div style="float:left; margin-right: 10px; line-height:25px;" class="ngPagerControl" style="float: left; min-width: 135px;">            <button class="ngPagerButton" ng-click="pageToFirst()" ng-disabled="cantPageBackward()" title="{{i18n.ngPagerFirstTitle}}"><div class="ngPagerFirstTriangle"><div class="ngPagerFirstBar"></div></div></button>            <button class="ngPagerButton" ng-click="pageBackward()" ng-disabled="cantPageBackward()" title="{{i18n.ngPagerPrevTitle}}"><div class="ngPagerFirstTriangle ngPagerPrevTriangle"></div></button>            <input class="ngPagerCurrent" type="number" style="width:50px; height: 24px; margin-top: 1px; padding: 0 4px;" ng-model="pagingOptions.currentPage"/>            <button class="ngPagerButton" ng-click="pageForward()" ng-disabled="cantPageForward()" title="{{i18n.ngPagerNextTitle}}"><div class="ngPagerLastTriangle ngPagerNextTriangle"></div></button>            <button class="ngPagerButton" ng-click="pageToLast()" ng-disabled="cantPageToLast()" title="{{i18n.ngPagerLastTitle}}"><div class="ngPagerLastTriangle"><div class="ngPagerLastBar"></div></div></button>        </div>    </div></div>'),e.put("gridTemplate.html",'<div class="ngTopPanel" ng-class="{\'ui-widget-header\':jqueryUITheme, \'ui-corner-top\': jqueryUITheme}" ng-style="topPanelStyle()">    <div class="ngGroupPanel" ng-show="showGroupPanel()" ng-style="groupPanelStyle()">        <div class="ngGroupPanelDescription" ng-show="configGroups.length == 0">{{i18n.ngGroupPanelDescription}}</div>        <ul ng-show="configGroups.length > 0" class="ngGroupList">            <li class="ngGroupItem" ng-repeat="group in configGroups">                <span class="ngGroupElement">                    <span class="ngGroupName">{{group.displayName}}                        <span ng-click="removeGroup($index)" class="ngRemoveGroup">x</span>                    </span>                    <span ng-hide="$last" class="ngGroupArrow"></span>                </span>            </li>        </ul>    </div>    <div class="ngHeaderContainer" ng-style="headerStyle()">        <div class="ngHeaderScroller" ng-style="headerScrollerStyle()" ng-include="gridId + \'headerRowTemplate.html\'"></div>    </div>    <div ng-grid-menu></div></div><div class="ngViewport" unselectable="on" ng-viewport ng-class="{\'ui-widget-content\': jqueryUITheme}" ng-style="viewportStyle()">    <div class="ngCanvas" ng-style="canvasStyle()">        <div ng-style="rowStyle(row)" ng-repeat="row in renderedRows" ng-click="row.toggleSelected($event)" ng-class="row.alternatingRowClass()" ng-row></div>    </div></div><div ng-grid-footer></div>'),e.put("headerCellTemplate.html",'<div class="ngHeaderSortColumn {{col.headerClass}}" ng-style="{\'cursor\': col.cursor}" ng-class="{ \'ngSorted\': !noSortVisible }">    <div ng-click="col.sort($event)" ng-class="\'colt\' + col.index" class="ngHeaderText">{{col.displayName}}</div>    <div class="ngSortButtonDown" ng-show="col.showSortButtonDown()"></div>    <div class="ngSortButtonUp" ng-show="col.showSortButtonUp()"></div>    <div class="ngSortPriority">{{col.sortPriority}}</div>    <div ng-class="{ ngPinnedIcon: col.pinned, ngUnPinnedIcon: !col.pinned }" ng-click="togglePin(col)" ng-show="col.pinnable"></div></div><div ng-show="col.resizable" class="ngHeaderGrip" ng-click="col.gripClick($event)" ng-mousedown="col.gripOnMouseDown($event)"></div>'),e.put("headerRowTemplate.html",'<div ng-style="{ height: col.headerRowHeight }" ng-repeat="col in renderedColumns" ng-class="col.colIndex()" class="ngHeaderCell" ng-header-cell></div>'),e.put("menuTemplate.html",'<div ng-show="showColumnMenu || showFilter"  class="ngHeaderButton" ng-click="toggleShowMenu()">    <div class="ngHeaderButtonArrow"></div></div><div ng-show="showMenu" class="ngColMenu">    <div ng-show="showFilter">        <input placeholder="{{i18n.ngSearchPlaceHolder}}" type="text" ng-model="filterText"/>    </div>    <div ng-show="showColumnMenu">        <span class="ngMenuText">{{i18n.ngMenuText}}</span>        <ul class="ngColList">            <li class="ngColListItem" ng-repeat="col in columns | ngColumns">                <label><input ng-disabled="col.pinned" type="checkbox" class="ngColListCheckbox" ng-model="col.visible"/>{{col.displayName}}</label>				<a title="Group By" ng-class="col.groupedByClass()" ng-show="col.groupable && col.visible" ng-click="groupBy(col)"></a>				<span class="ngGroupingNumber" ng-show="col.groupIndex > 0">{{col.groupIndex}}</span>                      </li>        </ul>    </div></div>'),e.put("rowTemplate.html",'<div ng-style="{ \'cursor\': row.cursor }" ng-repeat="col in renderedColumns" ng-class="col.colIndex()" class="ngCell {{col.cellClass}}" ng-cell></div>')}])}(window,jQuery),ngGridFlexibleHeightPlugin=function(e){var t=this;t.grid=null,t.scope=null,t.init=function(n,r){t.grid=r,t.scope=n;var o=function(){setTimeout(i,1)},i=function(){var r=t.grid.gridId,o="."+r+" .ngFooterPanel",i=t.grid.$topPanel.height()+$(o).height(),a=t.grid.$canvas.height()+1;(null==n.baseViewportHeight||0==n.baseViewportHeight)&&(n.baseViewportHeight=t.grid.$viewport.height()),n.baseViewportHeight>a&&(null!=e&&null!=e.minHeight&&e.minHeight>a+i&&(a=e.minHeight-i-2),t.grid.$viewport.css("height",a+2+"px"),t.grid.$root.css("height",a+i+2+"px")),t.grid.refreshDomSizes()};n.catHashKeys=function(){var e,t="";for(e in n.renderedRows)t+=n.renderedRows[e].$$hashKey;return t},n.$watch("catHashKeys()",i),n.$watch(r.config.data,o)}};
angular.module("anGrid.directives",["anGrid.services","anGrid.filters","ngSanitize"],["$compileProvider",function(e){e.directive("angrid",["$compile","widthServices","setDefaultOption",function(e,t,n){var o={transclude:!0,scope:!0,controller:["$scope","$element","$attrs",function(e,o,a){var i=this;e.option=e.$eval(a.angrid),this.config=n(e.option),t(e.option.columnDefs),e.option.angridStyle=this.config.angridStyle,e.option.canSelectRows=this.config.canSelectRows,e.option.multiSelect=this.config.multiSelect,e.option.displaySelectionCheckbox=this.config.displaySelectionCheckbox,e.option.selectWithCheckboxOnly=this.config.selectWithCheckboxOnly,e.option.multiSelectWithCheckbox=this.config.multiSelectWithCheckbox,e.option.columnDefs=this.config.columnDefs,e.option.enableSorting=this.config.enableSorting,e.option.selectedItems=this.config.selectedItems,e.option.searchFilter=this.config.searchFilter,e.option.searchHighlight=this.config.searchHighlight,e.option.searchHighlight=this.config.caseSensitive,e.option.showFooter=this.config.showFooter,e.option._orderByPredicate=this.config._orderByPredicate,e.option._orderByreverse=this.config._orderByreverse,e.angrid={},e.angrid.hasFooterClass=e.option.showFooter?"hasFooter":"";var r=0,c=function(t){"string"==typeof e.option.data&&(r=t?t.length:0,e.thedata=e.$eval(e.option.data)||[],i.config.data=e.thedata)};e.$parent.$watch(e.option.data,c),e.$parent.$watch(e.option.data+".length",function(t){t!=r&&c(e.$eval(e.option.data))}),e.$on("anrowData change",function(){console.log("row change")})}],template:'<div class="anGrid instance {{option.angridStyle}}"><div class="anHead"><!-- thead --><ul><anhead sort-field="option._orderByPredicate" sort-reverse="option._orderByreverse" selects="option.selectedItems"></anhead></ul></div><div class="anBody {{angrid.hasFooterClass}}"><!-- tbody --><ul><anrow ng-repeat="rowdata in thedata | orderBy:option._orderByPredicate:option._orderByreverse | filter:search" anrow-data="rowdata" selects="option.selectedItems" search-filter="option.searchFilter" ></anrow></ul></div><div class="anFooter" ng-show="option.showFooter"><div class="btn-group filter"><input id="inputIcon" type="text" ng-model="option.searchFilter" /><i class="icon-search"></i></div></div><div class="expression">{{ search.$ = option.searchFilter }}</div></div>',replace:!0};return o}]),e.directive("anrow",["$compile",function(e){return{require:"^angrid",restrict:"E",transclude:!0,scope:{anrowData:"=anrowData",selectedItems:"=selects",searchFilter:"=searchFilter"},template:'<li ng-click="anrow.toggleSelectedFuc($event)" ng-class="anrow.rowCssClassFuc()" ng-mouseenter="anrow.hovered=true" ng-mouseleave="anrow.hovered=false" ></li>',replace:!0,link:function(t,n,o,a){t.anrowColumns=a.config.columnDefs,t.anrowData.selected=!1,t.anrow=angular.extend({hovered:!1,rowCssClassFuc:function(){var e="";if(void 0!==typeof t.anrowData.selected)return e=t.anrowData.selected?"selected":"",e+=this.hovered?" hover":""},checkboxClassFuc:function(){return void 0!==typeof t.anrowData.selected?t.anrowData.selected?"dijitCheckBox dijitCheckBoxChecked":"dijitCheckBox":void 0},multiSelectFuc:function(){if(t.anrowData.selected){t.anrowData.selected=!1;var e=a.config.selectedItems;t.selectedItems=[],angular.forEach(e,function(e){e.selected&&t.selectedItems.push(e)})}else t.anrowData.selected=!0,t.selectedItems.push(t.anrowData)},singleSelectFuc:function(){t.anrowData.selected?t.selectedItems.length>1?(angular.forEach(a.config.data,function(e){e.selected=!1}),t.selectedItems=[],t.anrowData.selected=!0,t.selectedItems.push(t.anrowData)):(t.anrowData.selected=!1,t.selectedItems=[]):(angular.forEach(a.config.data,function(e){e.selected=!1}),t.anrowData.selected=!0,t.selectedItems=[],t.selectedItems.push(t.anrowData))},toggleSelectedFuc:function(e){a.config.canSelectRows&&void 0!==typeof t.anrowData.selected&&(a.config.selectWithCheckboxOnly&&"checkbox"!=e.target.dir||(a.config.multiSelect?a.config.multiSelectWithCheckbox===!0&&"checkbox"!=e.target.dir?this.singleSelectFuc():this.multiSelectFuc():this.singleSelectFuc()))}},t.anrow);var i=a.config.displaySelectionCheckbox===!0?'<div class="anCheckbox"><span dir="checkbox" ng-class="anrow.checkboxClassFuc()"></span></div>':"",r=i+'<ol class="clearfix">'+'<ancell ng-repeat="col in anrowColumns" row-data="anrowData" col-data="col" search-filter="searchFilter"></ancell>'+"</ol>";n.append(e(r)(t))}}}]),e.directive("ancell",["$compile","$filter",function(e,t){return{require:"^angrid",restrict:"E",transclude:!0,scope:{rowData:"=rowData",colData:"=colData",searchFilter:"=searchFilter"},template:'<li class="{{colData.cssClass}}" ng-style="colData._style" title="{{title}}"></li>',replace:!0,link:function(n,o,a,i){if(""!==n.colData.columnFilter){var r=t(n.colData.columnFilter);n.title=r(n.rowData[n.colData.field])}else n.title=n.rowData[n.colData.field];n.caseSensitive=i.config.caseSensitive;var c=""===n.colData.columnFilter?"":" | "+n.colData.columnFilter,s=""===c?'<span ng-bind-html-unsafe="rowData[colData.field] | highlight:searchFilter:caseSensitive"></span>':'<span ng-bind-html="rowData[colData.field]'+c+'"></span>';s=n.colData.columnTemplete?n.colData.columnTemplete:s,o.append(e(s)(n))}}}]),e.directive("anhead",["$compile",function(e){return{require:"^angrid",restrict:"E",transclude:!0,template:"<li></li>",replace:!0,scope:{sortfield:"=sortField",sortreverse:"=sortReverse",selectedItems:"=selects"},link:function(t,n,o,a){t.anhead=angular.extend({selectAll:!1,columnDefs:a.config.columnDefs,toggleSelectAllFuc:function(){a.config.canSelectRows&&a.config.displaySelectionCheckbox&&(t.selectedItems=[],this.selectAll?(this.selectAll=!1,angular.forEach(a.config.data,function(e){e.selected=!1})):(this.selectAll=!0,angular.forEach(a.config.data,function(e){e.selected=!0,t.selectedItems.push(e)})))},sortFuc:function(e){a.config.enableSorting&&e.sortable&&(angular.forEach(this.columnDefs,function(e){e._sortIconflag=!1}),e._sortIconflag=!0,t.sortfield=e.field,t.sortreverse=!t.sortreverse,t.caret=t.sortreverse?"caretdown":"caretup")},headCellCssFuc:function(e){var t=e.sortable===!0?"sortable ":" ";return t+=e.cssClass}},t.anhead);var i=a.config.displaySelectionCheckbox===!0?'<div class="anCheckbox" ng-click="anhead.toggleSelectAllFuc()"><span class="dijitCheckBox" ng-class="{\'dijitCheckBoxChecked\': anhead.selectAll}"></span></div>':"",r=i+"<ol>"+'<li ng-repeat="col in anhead.columnDefs" ng-class="anhead.headCellCssFuc(col)"  ng-class="{\'sortable\': col.sortable}" ng-style="{{col._style}}" ng-click="anhead.sortFuc(col)">{{col.displayName|i18n}}<span ng-class="caret" ng-show="col._sortIconflag"></span></li>'+"</ol>";n.append(e(r)(t))}}}])}]),angular.module("anGrid.services",[]).factory("setDefaultOption",function(){return function(e){return angular.forEach(e.columnDefs,function(t,n){t=angular.extend({field:"",displayName:this.field,cssClass:"",width:"",sortable:!0,columnFilter:"",columnTemplete:!1,_sortIconflag:!1,_style:""},t),e.columnDefs.splice(n,1,t)}),e=angular.extend({angridStyle:"th-list",canSelectRows:!0,multiSelect:!0,displaySelectionCheckbox:!0,selectWithCheckboxOnly:!1,multiSelectWithCheckbox:!1,columnDefs:[],enableSorting:!0,selectedItems:[],searchFilter:"",searchHighlight:!1,caseSensitive:!0,showFooter:!1,_orderByPredicate:"",_orderByreverse:!1},e)}}).factory("widthServices",function(){return function(e){var t=0,n="";angular.forEach(e,function(o,a){var i=parseFloat(o.width);if(isNaN(i)){if(""===o.cssClass){if(""!==o.width&&"auto"!==o.width)throw'you would better use percentage ("10%","20%", etc...) to use remaining width of grid';var r=100-t,c="%"==n?r/(e.length-a):100/e.length;o._style={left:t+"%",width:c+"%"},t+=c}}else{var s=o.width.substr((""+i).length);if(s=""===s?"px":s,n=0===a?s:n,s!=n)throw'you must set the same util of width, you would better use percentage ("10%","20%", etc...)';o.style={left:t+s,width:o.width},t+=i}})}}),angular.module("anGrid.filters",[]).filter("tostring",function(){return function(e){switch(typeof e){case"undefined":return"undefined";case"function":return e();default:return null===e?"null":""+e}}}).filter("checkmark",function(){return function(e){return e?"✔":"✘"}}).filter("reverse",function(){return function(e,t){for(var n="",o=0;e.length>o;o++)n=e.charAt(o)+n;return t&&(n=n.toUpperCase()),n}}).filter("highlight",function(){return function(e,t,n){return t||angular.isNumber(t)?(e=""+e,t=""+t,n?e.split(t).join('<span class="ui-match">'+t+"</span>"):e.replace(RegExp(t,"gi"),'<span class="ui-match">$&</span>')):"boolean"==typeof e?""+e:e}}),angular.module("anGrid",["anGrid.services","anGrid.directives","anGrid.filters"]),angular.module("RestService",["ngResource","AppService"]).factory("ApiResource",function(){return{enabled_panels:{list:"/resource/panels"},region:{list:"/resource/region/list"},quota:{list:"/resource/quota/list"},instance:{list:"/resource/instance/list",detail:"/resource/instance/detail/:id",console:"/resource/instance/console/",vnc:"/resource/instance/vnc/"},vm_usage:{detail:"/resource/vm_usage/detail/:id"},volume:{list:"/resource/volume/list",detail:"/resource/volume/detail/:id"},flavor:{list:"/resource/flavor/list",detail:"/resource/flavor/detail/:id"},image:{list:"/resource/image/list",detail:"/resource/image/detail/:id"},snapshot:{list:"/resource/snapshot/list",detail:"/resource/snapshot/detail/:id"},security_group:{list:"/resource/security_group/list",detail:"/resource/security_group/detail/:id"},keypair:{list:"/resource/keypair/list",detail:"/resource/keypair/detail/:id",create_keypair:"/resource/keypair/create"},floating_ip:{list:"/resource/floating_ip/list",detail:"/resource/floating_ip/detail/:id",list_pool:"/resource/floating_ip/list_pool"},load_balancer:{list:"/resource/load_balancer/list",detail:"/resource/load_balancer/detail/:id"},coupon_code:{list:"/resource/coupon/code_list"},coupon_log:{list:"/resource/coupon/log_list",remaining:"/resource/coupon/coupon_remaining"},user_crash:{list:"/resource/crash/crash_monthly_log",detail:"/resource/crash/crash_monthly_detail/:id",remaining:"/resource/crash/crash_remaining"},volume_type:{list:"/resource/volume_type/list",detail:"/resource/volume_type/detail/:id"},volume_snapshot:{list:"/resource/volume_snapshot/list",detail:"/resource/volume_snapshot/detail/:id"},admin_node:{list:"/resource/node/list",detail:"/resource/node/detail/:id"},admin_instance:{list:"/resource/instance/list"},admin_service:{list:"/resource/service/list"},admin_project:{list:"/resource/project/list",detail:"/resource/project/detail/:id"},admin_user:{list:"/resource/user/list",detail:"/resource/user/detail/:id"},admin_quota:{list:"/resource/quota/list"},admin_coupon:{code_list:"/resource/coupon/code_list"},admin_apply_code:{list:"/resource/apply_code/list",detail:"/resource/apply_code/detail/:id"}}}).factory("BaseResource",["$resource","$http","$cookies","ApiResource",function(e,t,n,o){return function(a){var i,r,c;return t.defaults.headers.common["X-CSRFToken"]=n.csrftoken,t.defaults.headers.common["Content-Type"]="application/json;charset=utf-8",i=o[a],r=e(i.list,{},{save_list:{method:"POST",isArray:!0}}),c=e(i.detail,{id:"@id"},{update:{method:"PUT"},action:{method:"PUT"}}),c.remove=function(e,t,n){this.delete({id:e},function(){n&&n.delay_delete?t&&t():r._delete(e)})},c.update_data=function(e,t,n,o){t.id=e,this.update(t,function(t){if(!o)return n&&n(t),r._update_cache(e,t),void 0;var a=o.refresh;return a?(c.get({id:e},function(t){n&&n(),r._update_cache(e,t)}),void 0):void 0})},r.cache=null,r.fetching=!1,r._tmp_callbacks=[],r._update_cache=function(e,t){var n;n=this._get_by_uuid(e,!0).index,void 0==t?this.cache.splice(n,1):this.cache[n]=t},r._get_by_uuid=function(e,t){if(1==t){for(var n=0;this.cache.length>n;n++)if(this.cache[n]&&this.cache[n].id==e)return{item:t[n],index:n};return{item:null,index:null}}var o;return o=c.get({id:e}),this._update_cache(e,o),{item:item,index:null}},r.fetch=function(e,t){e=void 0===e?{}:e;var n=e.from_cache;void 0===n&&(n=2),delete e.from_cache;var o=e.no_update_cache;switch(void 0!==o&&delete e.no_update_cache,n){case 0:return"function"==typeof t&&t(this.cache),this.cache;case 1:var a=this;return a.fetching=!0,null==a.cache&&(a.cache=[]),this.query(e,function(e){if(o);else{a.cache.splice(0,a.cache.length);for(var n=0;e.length>n;n++)a.cache.push(e[n])}if(a.fetching=!1,"function"==typeof t&&t(a.cache,e),0!=a._tmp_callbacks.length){var i=a._tmp_callbacks.splice(0);for(var n in i)"function"==typeof i[n]&&i[n](a.cache,e)}},function(e){(403==e.status||401==e.status.status)&&window.location.reload()}),a.cache;case 2:return null===this.cache||this.fetching?this.fetching?(this._tmp_callbacks.push(t),this.cache):(e.from_cache=1,this.fetch(e,t)):(e.from_cache=0,this.fetch(e,t))}},r._delete=function(e){var t=this._get_by_uuid(e,!0).index;return void 0!==t?this.cache.splice(t,1):null},r.create=function(e,t,n){var o=function(e){"function"==typeof n&&n(e)},a=function(){r.save(e,function(e){r.cache.push(e),o(e)})};if(t){if(t.multi)this.save_list(e,function(e){for(var t=0;e.length>t;t++)r.cache.push(e[t]);o(e)});else if(t.refresh_based_on_count){var i=e.count;return 1==i?a():r.save(e,function(){r.fetch({from_cache:1},o)}),void 0}}else a()},{list_resource:r,detail_resource:c}}}]).factory("CouponCodeResource",["BaseResource",function(e){var t=new e("coupon_code");return{list_resource:t.list_resource}}]).factory("CouponLogResource",["$resource","ApiResource","BaseResource",function(e,t,n){var o=new n("coupon_log");return o.remaining_resource=e(t.coupon_log.remaining),{list_resource:o.list_resource,remaining_resource:o.remaining_resource}}]).factory("CrashResource",["$resource","ApiResource","BaseResource",function(e,t,n){var o;return o=new n("user_crash"),o.remaining_resource=e(t.user_crash.remaining),{list_resource:o.list_resource,detail_resource:o.detail_resource,remaining_resource:o.remaining_resource}}]).factory("PanelGroupsResource",["BaseResource",function(e){var t;return t=new e("enabled_panels").list_resource}]).factory("RegionsResource",["BaseResource",function(e){var t=new e("region");return{list_resource:t.list_resource,detail_resource:t.detail_resource}}]).factory("QuotasResource",["BaseResource",function(e){var t;return t=new e("quota").list_resource,{list_resource:t}}]).factory("InstancesResource",["BaseResource",function(e){var t=new e("instance");return t=new e("instance"),{list_resource:t.list_resource,detail_resource:t.detail_resource}}]).factory("VmUsagesResource",["BaseResource",function(e){var t;return t=new e("vm_usage"),{detail_resource:t.detail_resource}}]).factory("VolumesResource",["BaseResource",function(e){var t;return t=new e("volume"),{list_resource:t.list_resource,detail_resource:t.detail_resource}}]).factory("VolumeTypesResource",["BaseResource",function(e){var t;return t=new e("volume_type"),{list_resource:t.list_resource,detail_resource:t.detail_resource}}]).factory("VolumeSnapshotsResource",["BaseResource",function(e){var t;return t=new e("volume_snapshot"),{list_resource:t.list_resource,detail_resource:t.detail_resource}}]).factory("FlavorsResource",["BaseResource",function(e){var t;return t=new e("flavor"),{list_resource:t.list_resource,detail_resource:t.detail_resource}}]).factory("ImagesResource",["BaseResource",function(e){var t;return t=new e("image"),{list_resource:t.list_resource,detail_resource:t.detail_resource}}]).factory("SnapshotsResource",["BaseResource",function(e){var t;return t=new e("snapshot"),{list_resource:t.list_resource,detail_resource:t.detail_resource}}]).factory("SecurityGroupsResource",["BaseResource",function(e){var t;return t=new e("security_group"),{list_resource:t.list_resource,detail_resource:t.detail_resource}}]).factory("KeypairsResource",["BaseResource",function(e){var t;return t=new e("keypair"),{list_resource:t.list_resource,detail_resource:t.detail_resource}}]).factory("FloatingIpsResource",["BaseResource","$resource","ApiResource",function(e,t,n){var o;return o=new e("floating_ip"),o.pool_resource=t(n.floating_ip.list_pool),{list_resource:o.list_resource,detail_resource:o.detail_resource,pool_resource:o.pool_resource}}]).factory("LoadBalancersResource",["BaseResource",function(e){var t;return t=new e("load_balancer"),{list_resource:t.list_resource,detail_resource:t.detail_resource}}]).factory("AdminNodesResource",["BaseResource",function(e){var t;return t=new e("admin_node"),{list_resource:t.list_resource,detail_resource:t.detail_resource}}]).factory("AdminInstancesResource",["BaseResource",function(e){var t;return t=new e("admin_instance").list_resource,{list_resource:t}}]).factory("AdminServicesResource",["BaseResource",function(e){var t;return t=new e("admin_service").list_resource,{list_resource:t}}]).factory("AdminProjectsResource",["BaseResource",function(e){var t;return t=new e("admin_project"),{list_resource:t.list_resource,detail_resource:t.detail_resource}}]).factory("AdminUsersResource",["BaseResource",function(e){var t;return t=new e("admin_user"),{list_resource:t.list_resource,detail_resource:t.detail_resource}}]).factory("AdminQuotasResource",["BaseResource",function(e){var t;return t=new e("admin_quota").list_resource,{list_resource:t}}]).factory("AdminApplyCodesResource",["BaseResource",function(e){var t;return t=new e("admin_apply_code"),{list_resource:t.list_resource,detail_resource:t.detail_resource}}]),angular.module("AppService",["AppFilter"]).factory("init_quotas",function(){return function(e,t){for(var n={},o=0;e.length>o;o++)n[e[o]]={raw_used:null,raw_limit:null};for(var o=0;t.length>o;o++){var a=t[o];void 0!==n[a.name]&&(n[a.name].raw_limit=a.limit)}return n}}).factory("get_instance_quotas",function(){return function(e,t){e.instances.raw_used=t.length;for(var n=0,o=0,a=0;t.length>a;a++)n+=t[a].flavor.vcpus,o+=t[a].flavor.ram;return e.cores.raw_used=n,e.ram.raw_used=o,e}}).factory("combine_instance_flavor",function(){return function(e,t){for(var n=0;e.length>n;n++)for(var o=e[n],a=o.flavor.id,i=0;t.length>i;i++){var r=t[i];r.id==a&&(o.flavor=r)}return e}}).factory("date_formatter",function(){return Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in t)RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[n]:("00"+t[n]).substr((""+t[n]).length)));return e},function(){}}).factory("check_status",function(){return{instance_status_stable:function(e){var t=["active","sleeping","error"];return-1!=t.indexOf(e)?!0:!1},image_status_stable:function(e){var t=["active","error"];return-1!=t.indexOf(e)?!0:!1},lb_status_stable:function(e){var t=["active","error"];return-1!=t.indexOf(e)?!0:!1},volume_snapshot_status_stable:function(e){var t=["active","error"];return-1!=t.indexOf(e)?!0:!1},volume_status_stable:function(e){var t=["active","error","sleeping"];return-1!=t.indexOf(e)?!0:!1}}}).factory("is_dough_enabled",["$cookies",function(e){return function(){return"True"==e.dough_enabled?!0:!1}}]).factory("is_kanyun_enabled",["$cookies",function(e){return function(){return"True"==e.kanyun_enabled?!0:!1}}]).factory("is_loadbalance_enabled",["$cookies",function(e){return function(){return"True"==e.loadbalance_enabled?!0:!1}}]).factory("form_valid",function(){return function(e){var t=$(e),n=t.find("input.ng-invalid");return 0==n.length?!0:!1}}).factory("redirect",["$timeout","$location",function(e,t){return function(n){n!=t.path()&&e(function(){t.path(n)},500)}}]),angular.module("RestServiceV2",["CommonService"]).factory("I18nResource",["$resource","ApiResource",function(e){var t={zh_CN:e("/static/js/app/locale/zh_CN.json"),en_US:e("/static/js/app/locale/en_US.json")};return function(e){var e=void 0!==t[e]?e:"zh_CN";return"function"==typeof t[e]&&(t[e]=t[e].get()),t[e]}}]).factory("ApiList",function(){var e={panel:{list:"/resource/panels"},region:{list:"/resource/region/list"},quota:{list:"/resource/quota/list"},instance:{list:"/resource/instance/list",detail:"/resource/instance/detail/:id",console:"/resource/instance/console/",vnc:"/resource/instance/vnc/"},vm_usage:{detail:"/resource/vm_usage/detail/:id"},volume:{list:"/resource/volume/list",detail:"/resource/volume/detail/:id"},flavor:{list:"/resource/flavor/list",detail:"/resource/flavor/detail/:id"},image:{list:"/resource/image/list",detail:"/resource/image/detail/:id"},snapshot:{list:"/resource/snapshot/list",detail:"/resource/snapshot/detail/:id"},sg:{list:"/resource/security_group/list",detail:"/resource/security_group/detail/:id"},keypair:{list:"/resource/keypair/list",detail:"/resource/keypair/detail/:id",create_keypair:"/resource/keypair/create"},floating_ip:{list:"/resource/floating_ip/list",detail:"/resource/floating_ip/detail/:id",list_pool:"/resource/floating_ip/list_pool"},floating_ip_pool:{list:"/resource/floating_ip/list_pool"},load_balancer:{list:"/resource/load_balancer/list",detail:"/resource/load_balancer/detail/:id"},coupon_code:{list:"/resource/coupon/code_list"},coupon_log:{list:"/resource/coupon/log_list",remaining:"/resource/coupon/coupon_remaining"},user_crash:{list:"/resource/crash/crash_monthly_log",detail:"/resource/crash/crash_monthly_detail/:id",remaining:"/resource/crash/crash_remaining"},volume_type:{list:"/resource/volume_type/list",detail:"/resource/volume_type/detail/:id"},volume_snapshot:{list:"/resource/volume_snapshot/list",detail:"/resource/volume_snapshot/detail/:id"},admin_node:{list:"/resource/node/list",detail:"/resource/node/detail/:id"},service:{list:"/resource/service/list"},project:{list:"/resource/project/list",detail:"/resource/project/detail/:id"},user:{list:"/resource/user/list",detail:"/resource/user/detail/:id"},admin_coupon:{code_list:"/resource/coupon/code_list"},apply_code:{list:"/resource/apply_code/list",detail:"/resource/apply_code/detail/:id"},user_metadata:{ui_config:"/resource/user_metadata/ui_config"},project_usage:{list:"/resource/project_usage/list",detail:"/resource/project_usage/detail/:id"}};return{get:function(t,n){return n=n?n:"list",e[t][n]}}}).factory("CacheService",["$rootScope",function(e){var t={},n=function(n,o){if(n in t)throw Error("cacheId "+n+" taken");this.size=0,this.stats=angular.extend({},o,{id:n}),this.data={},this.init=!1,this.dump_data=[],this.cacheId=n;var a=this;return t[this.cacheId]={cache_change_event:"cache_change:"+a.cacheId,size:function(){return a.size},init:function(){return a.init},load:function(e){for(var t=0;e.length>t;t++)a.data[e[t].id]=e[t];a.init=!0},dump:function(){return a.dump_data.splice(0,a.dump_data.length),angular.forEach(a.data,function(e){this.push(e)},a.dump_data),a.dump_data},put:function(t,n){return angular.isUndefined(n)?void 0:(t in a.data||a.size++,a.data[t]=n,!a.init&&(a.init=!0),e.$broadcast(this.cache_change_event,{action:"put",id:t}),n)},get:function(e){return a.data[e]},remove:function(t){delete a.data[t],a.size--,e.$broadcast(this.cache_change_event,{action:"remove",id:t})},removeAll:function(){a.init=!1,a.data={},a.size=0,e.$broadcast(this.cache_change_event)},destroy:function(){a.data=null,a.stats=null,delete t[n]},info:function(){return angular.extend({},a.stats,{size:a.size})}},t[this.cacheId]};return n.info=function(){var e={};return angular.forEach(t,function(t,n){e[n]=t.info()}),e},n.get=function(e){return t[e]},n}]).factory("ResourcePool",["$resource","$http","$cookies","$window","ApiList","CacheService","CheckStatusService","LogCenter",function(e,t,n,o,a,i,r,c){var s=n.csrftoken;return t.defaults.headers.common["X-CSRFToken"]=s,function(n){var s=this;this.resource_url=a.get(n),this.detail_url=a.get(n,"detail"),this.cache=new i(n);var l=function(e){var t=e.status;400==t?c.error(e.data):401==t||403==t?o.location.reload():404==t||(413==t?c.warn(e.data):c.warn(e.data))},u=function(e){var t=e[0],n=e[1],o=e[2],a=e[3];switch(e.length){case 4:return[t,n,o,a];case 3:return angular.isFunction(e[1])?[t,n,o]:[t,n,o,l];case 2:return angular.isFunction(e[0])?[t,n]:angular.isFunction(e[1])?[t,n,l]:[t,n,angular.noop,l];case 1:return angular.isFunction(e[0])?[t,l]:[t,angular.noop,l];default:return[angular.noop,l]}},d=function(e){return angular.isString(e)?e:(angular.forEach(e,function(e){void 0===e.in_stable||e.in_stable||r(e.id,n)}),e)},p=function(e){return angular.isString(e)?e:(s.cache.load(e),s.cache.dump())};this.req=e(this.resource_url,{},{save_multi:{method:"POST",isArray:!0},fetch:{method:"GET",isArray:!0,transformResponse:[t.defaults.transformResponse[0],d,p]}}),this.detail_req=e(this.detail_url,{},{update:{method:"PUT"},get_list:{method:"GET",isArray:!0}}),this.fetch=function(){if(!s.cache.init()){var e=u(arguments);return s.req.fetch.apply(s,e)}var t=s.cache.dump();switch(arguments.length){case 4:return arguments[3](t);case 3:return arguments[2](t);case 2:return arguments[1](t);case 1:return angular.isFunction(arguments[0])?arguments[0](t):t;default:return t}},this.query=function(){return s.cache.removeAll(),s.req.fetch.apply(s,arguments)},this.query_no_cache=function(){var e=u(arguments);return s.req.query.apply(s,e)},this.save=function(){var e=u(arguments);s.req.save.apply(s,e)},this.save_multi=function(){var e=u(arguments);s.req.save_multi.apply(s,e)},this.remove=function(){var e=u(arguments);s.detail_req.remove.apply(s,e)},this.update=function(){var e=u(arguments);s.detail_req.update.apply(s,e)},this.get=function(){var e=u(arguments);s.detail_req.get.apply(s,e)},this.get_list=function(){var e=u(arguments);s.detail_req.get_list.apply(s,e)}}}]).factory("CheckStatusService",["$rootScope","$http","$timeout","ApiList","EventCenter",function(e,t,n,o,a){var i={queue:{},push:function(e,t){e in this.queue&&n.cancel(this.queue[e]),this.queue[e]=t},cancel:function(e){e in this.queue&&(n.cancel(this.queue[e]),delete this.queue[e])},clear:function(){for(var e=0;this.queue.length>e;e++)n.cancel(this.queue[e]);this.queue={}}},r=function(e,r){var c=o.get(r,"detail");c=c.slice(0,c.length-3)+e;var s=2e3,l=function(){var o=n(function(){return t.head(c)},s);o.then(function(t){var n=(t.data,t.status),o=t.headers;return 202!=n?(i.cancel(e),a.trigger(r+":check_stop",e),void 0):(o("x-status"),o("x-realstatus"),o("x-task"),l(),void 0)},function(t){var n=(t.data,t.status);return t.headers,404==n?(a.trigger(r+":resource_removed",e),void 0):void 0}),i.push(e,o)};l()};return r.clean_task=function(){i.clear()},r}]).factory("CouponCodePool",["ResourcePool",function(){}]).factory("CouponLogPool",["ResourcePool",function(){}]).factory("CrashPool",["ResourcePool",function(){}]).factory("PanelGroupPool",["ResourcePool",function(e){var t=new e("panel");return t}]).factory("RegionPool",["ResourcePool",function(e){var t=new e("region");return t}]).factory("QuotaPool",["ResourcePool",function(e){var t=new e("quota");return t}]).factory("FlavorPool",["ResourcePool","EventCenter","LogCenter",function(e,t,n){var o=new e("flavor"),a=function(e){o.save(e,function(e){o.cache.put(e.id,e),n.created_resource("flavor",e.name)})},i=function(e){o.remove({id:e},function(){var t=o.cache.get(e);n.deleted_resource("flavor",t.name),o.cache.remove(e)})};return t.on("flavor:create",a),t.on("flavor:remove",i),o}]).factory("ImagePool",["ResourcePool","CheckStatusService","EventCenter","LogCenter",function(e,t,n,o){var a=new e("image"),i=function(e,t){a=a.update({id:e},t,function(t){a.cache.put(e,t),o.updated_resource("image",t.name)})},r=function(e){a=a.remove({id:e},function(n){o.deleting_resource("image",n.name),t(e,"image")})};return n.on("image:update",i),n.on("image:remove",r),n.on("image:check_stop",function(e){a.get({id:e},function(t){a.cache.put(e,t),o.created_resource("image",t.name)})}),n.on("image:resource_removed",function(e){var t=a.cache.get(e);o.deleted_resource("image",t.name),a.cache.remove(e)}),a}]).factory("SnapshotPool",["redirect","ResourcePool","CheckStatusService","EventCenter","LogCenter",function(e,t,n,o,a){var i=new t("snapshot"),r=function(t){a.creating_resource("snapshot",t.name),i.save(t,function(t){i.cache.put(t.id,t),n(t.id,"snapshot"),e("/app/snapshot")})},c=function(e){a.deleting_resource("snapshot",e),i.remove({id:e},function(){i.get({id:e},function(){n(e,"snapshot")},function(t){404==t.status&&i.cache.remove(e)})})},s=function(e,t){i.update({id:e},t,function(t){i.cache.put(e,t),a.updated_resource("snapshot",t.name)})};return o.on("snapshot:create",r),o.on("snapshot:remove",c),o.on("snapshot:update",s),o.on("snapshot:check_stop",function(e){i.get({id:e},function(t){i.cache.put(e,t),a.created_resource("snapshot",t.name)})}),o.on("snapshot:resource_removed",function(e){var t=i.cache.get(e);a.deleted_resource("snapshot",t.name),i.cache.remove(e)}),i}]).factory("InstancePool",["$filter","ResourcePool","CheckStatusService","EventCenter","LogCenter",function(e,t,n,o,a){var i=e("i18n"),r=new t("instance"),c=function(e){e.count>1?a.info(i8n("creating %d instances",e.count)):a.creating_resource("instance",e.name),r.save(e,function(t){var o=e.count;o>1?r.query():(r.cache.put(t.id,t),n(t.id,"instance"))})},s=function(e){var t=r.cache.get(e);a.deleting_resource("instance",t.name),r.remove({id:e},function(){r.get({id:e},function(t){r.cache.put(e,t),n(e,"instance")},function(n){404==n.status&&(a.deleted_resource("instance",t.name),r.cache.remove(e))})})},l=function(e,t){var o=r.cache.get(e);a.info(i("start %s instance:%s",i(t.action),o.name)),r.update({id:e},t,function(o){r.cache.put(e,o),"update"!=t.action&&n(e,"instance")})};return o.on("instance:create",c),o.on("instance:remove",s),o.on("instance:action_on_instance",l),o.on("instance:resource_removed",function(e){var t=r.cache.get(e);a.deleted_resource("instance",t.name),r.cache.remove(e)}),o.on("instance:check_stop",function(e){r.get({id:e},function(t){a.success(i("instance %s is %s",t.name,t.status)),r.cache.put(e,t)})}),r}]).factory("SgPool",["ResourcePool","EventCenter","LogCenter",function(e,t,n){var o=new e("sg"),a=function(e){o.save(e,function(e){n.created_resource("sg",e.name),o.cache.put(e.id,e)})},i=function(e){o.remove({id:e},function(){var t=o.cache.get(e);n.deleted_resource("sg",t.name),o.cache.remove(e)})},r=function(e,t){o.update({id:e},t,function(t){n.updated_resource("sg",t.name),o.cache.put(e,t)})};return t.on("sg:create",a),t.on("sg:remove",i),t.on("sg:update",r),o}]).factory("VmUsagePool",["ResourcePool",function(){}]).factory("VolumePool",["$filter","ResourcePool","CheckStatusService","EventCenter","LogCenter",function(e,t,n,o,a){var i=e("i18n"),r=new t("volume"),c=function(e){r.save(e,function(e){r.cache.put(e.id,e),a.creating_resource("volume",e.name),n(e.id,"volume")})},s=function(e){r.remove({id:e},function(){r.get({id:e},function(t){a.deleting_resource("volume",t.name),r.cache.put(t.id,t),n(e,"volume")},function(t){if(404==t.status){var n=r.cache.get(e);a.deleted_resource("volume",n.name),r.cache.remove(e)}})})},l=function(e,t){r.update({id:e},t,function(t){r.cache.put(e,t),t.in_stable||(n(e,"volume"),a.success(i("successfully attached volume %s to instance ",t.name)))})},u=function(e,t){r.update({id:e},t,function(t){r.cache.put(e,t),t.in_stable||(a.success(i("successfully detached volume %s from instance ",t.name)),n(t.id,"volume"))})};return o.on("volume:create",c),o.on("volume:remove",s),o.on("volume:attach",l),o.on("volume:detach",u),o.on("volume:resource_removed",function(e){var t=r.cache.get(e);a.deleted_resource("volume",t.name),r.cache.remove(e)}),o.on("volume:check_stop",function(e){r.get({id:e},function(t){r.cache.put(e,t)})}),r}]).factory("VolumeTypePool",["ResourcePool","EventCenter","LogCenter",function(e,t,n){var o=new e("volume_type"),a=function(e){o.save(e,function(e){n.created_resource("volume_type",e.name),o.cache.put(e.id,e)})},i=function(e){o.remove({id:e},function(){var t=o.cache.get(e);n.deleted_resource("volume_type",t.name),o.cache.remove(e)})};return t.on("volume_type:create",a),t.on("volume_type:remove",i),o}]).factory("VolumeSnapshotPool",["redirect","ResourcePool","CheckStatusService","EventCenter","LogCenter",function(e,t,n,o,a){var i=new t("volume_snapshot"),r=function(t){i.save(t,function(t){i.cache.put(t.id,t),a.creating_resource("volume_snapshot",t.name),n(t.id,"volume_snapshot"),e("/app/volume_snapshot")
})},c=function(e){var t=i.cache.get(e);a.deleting_resource("volume_snapshot",t.name),i.remove({id:e},function(){i.get({id:e},function(t){i.cache.put(e,t),n(e,"volume_snapshot")},function(n){404==n.status&&(a.deleted_resource("volume_snapshot",t.name),i.cache.remove(e))})})};return o.on("volume_snapshot:create",r),o.on("volume_snapshot:remove",c),o.on("volume_snapshot:check_stop",function(e){i.get({id:e},function(t){i.cache.put(e,t)})}),o.on("volume_snapshot:resource_removed",function(e){var t=i.cache.get(e);a.deleted_resource("volume_snapshot",t.name),i.cache.remove(e)}),i}]).factory("KeypairPool",["ResourcePool","EventCenter","LogCenter",function(e,t,n){var o=new e("keypair"),a=function(e){o.save(e,function(e){n.created_resource("keypair",e.name),o.cache.put(e.id,e)})},i=function(e){o.remove({id:e},function(){var t=o.cache.get(e);n.deleted_resource("keypair",t.name),o.cache.remove(e)})};return t.on("keypair:remove",i),t.on("keypair:import",a),o}]).factory("FloatingIpPool",["ResourcePool","EventCenter","LogCenter",function(e,t,n){var o=new e("floating_ip"),a=function(e){o.save(e,function(e){n.created_resource("floating_ip",e.ip),o.cache.put(e.id,e)})},i=function(e){o.remove({id:e},function(){var t=o.cache.get(e);n.deleted_resource("floating_ip",t.ip),o.cache.remove(e)})},r=function(e,t){o.update({id:e},t,function(t){o.cache.put(e,t)})},c=function(e,t){o.update({id:e},t,function(t){o.cache.put(e,t)})};return t.on("floating_ip:allocate",a),t.on("floating_ip:release",i),t.on("floating_ip:associate",r),t.on("floating_ip:disassociate",c),o}]).factory("FloatingIpPoolPool",["ResourcePool",function(e){var t=new e("floating_ip_pool");return t}]).factory("LBPool",["ResourcePool","CheckStatusService","EventCenter","LogCenter",function(e,t,n,o){var a=new e("load_balancer"),i=function(e){a.save(e,function(e){o.creating_resource("load_balancer",e.name),a.cache.put(e.id,e),t(e.id,"load_balancer")})},r=function(e){var n=a.cache.get(e);o.deleting_resource("load_balancer",n.name),a.remove({id:e},function(){a.get({id:e},function(n){a.cache.put(e,n),t(e,"load_balancer")},function(t){404==t.status&&(o.deleted_resource("load_balancer",n.name),a.cache.remove(e))})})},c=function(e,n){a.update({id:e},n,function(n){o.updating_resource("load_balancer",n.name),a.cache.put(e,n),t(e,"load_balancer")})};return n.on("load_balancer:create",i),n.on("load_balancer:remove",r),n.on("load_balancer:update",c),n.on("load_balancer:resource_removed",function(e){var t=a.cache.get(e);o.deleted_resource("load_balancer",t.name),a.cache.remove(e)}),n.on("load_balancer:check_stop",function(e){a.get({id:e},function(t){a.cache.put(e,t)})}),a}]).factory("KanyunNodePool",["ResourcePool",function(){}]).factory("ServicePool",["ResourcePool",function(e){var t=new e("service");return t}]).factory("ProjectPool",["ResourcePool","EventCenter","LogCenter",function(e,t,n){var o=new e("project"),a=function(e){o.save(e,function(e){n.created_resource("project",e.name),o.cache.put(e.id,e)})},i=function(e){o.remove({id:e},function(){var t=o.cache.get(e);n.deleted_resource("project",t.name),o.cache.remove(e)})},r=function(e,t){o.update({id:e},t,function(t){n.updated_resource("project",t.name),o.cache.put(e,t)})},c=function(e,t){o.update({id:e},t,function(t){n.updated_resource("project",t.name),o.cache.put(e,t)})};return t.on("project:create",a),t.on("project:remove",i),t.on("project:update",r),t.on("project:update_quota",c),o}]).factory("UserPool",["ResourcePool","EventCenter","LogCenter",function(e,t,n){var o=new e("user"),a=function(e){o.save(e,function(e){n.created_resource("user",e.name),o.cache.put(e.id,e)})},i=function(e,t){o.update({id:e},t,function(t){n.updated_resource("user",t.name),o.cache.put(e,t)})},r=function(e){o.remove({id:e},function(){var t=o.cache.get(e);n.deleted_resource("user",t.name),o.cache.remove(e)})};return t.on("user:create",a),t.on("user:update",i),t.on("user:remove",r),o}]).factory("ApplyCodePool",["ResourcePool","EventCenter","LogCenter",function(e,t){var n=new e("apply_code"),o=function(e){n.save_multi(e,function(e){angular.forEach(e,function(e){n.cache.put(e.id,e)})})},a=function(e){n.remove({id:e},function(){n.cache.remove(e)})};return t.on("apply_code:create",o),t.on("apply_code:remove",a),n}]).factory("UiConfigPool",["$resource","ApiList","EventCenter","LogCenter",function(e,t,n){var o=t.get("user_metadata","ui_config"),a=e(o,{},{fetch:{method:"GET",isArray:!1}}),i=function(e){e={ui_config:e},a.save(e)};return n.on("ui_config:save",i),a}]).factory("ProjectUsagePool",["ResourcePool",function(e){var t=new e("project_usage");return t}]),angular.module("CommonService",[]).factory("form_valid",function(){return function(e){var t=$(e),n=t.find("input.ng-invalid");return 0==n.length?!0:!1}}).factory("redirect",["$timeout","$location",function(e,t){return function(n){n!=t.path()&&e(function(){t.path(n)},500)}}]).factory("LogCenter",["$rootScope","$filter",function(e,t){var n=t("i18n"),o=function(t){e.$broadcast("log_msg",t,"debug")},a=function(t){e.$broadcast("log_msg",t,"info")},i=function(t){e.$broadcast("log_msg",t,"success")},r=function(t){e.$broadcast("log_msg",t,"warn")},c=function(t){e.$broadcast("log_msg",t,"error")},s=function(e,t){var e=n(e),o=n("creating %s:%s",e,t);a(o)},l=function(e,t){var e=n(e),o=n("created %s:%s",e,t);i(o)},u=function(e,t){var e=n(e),o=n("deleting %s:%s",e,t);a(o)},d=function(e,t){var e=n(e),o=n("deleted %s:%s",e,t);i(o)},p=function(e,t){var e=n(e),o=n("updating %s:%s",e,t);a(o)},m=function(e,t){var e=n(e),o=n("updated %s:%s",e,t);i(o)};return{debug:o,info:a,success:i,warn:r,error:c,creating_resource:s,created_resource:l,deleting_resource:u,deleted_resource:d,updating_resource:p,updated_resource:m}}]).factory("EventCenter",function(){var e={on:function(e,t,o){if(!n(this,"on",e,[t,o])||!t)return this;this._events||(this._events={});var a=this._events[e]||(this._events[e]=[]);return a.push({callback:t,context:o,ctx:o||this}),this},once:function(e,t,o){if(!n(this,"once",e,[t,o])||!t)return this;var a=this,i=_.once(function(){a.off(e,i),t.apply(this,arguments)});return i._callback=t,this.on(e,i,o)},off:function(e,t,o){var a,i,r,c,s,l,u,d;if(!this._events||!n(this,"off",e,[t,o]))return this;if(!e&&!t&&!o)return this._events={},this;for(c=e?[e]:_.keys(this._events),s=0,l=c.length;l>s;s++)if(e=c[s],r=this._events[e]){if(this._events[e]=a=[],t||o)for(u=0,d=r.length;d>u;u++)i=r[u],(t&&t!==i.callback&&t!==i.callback._callback||o&&o!==i.context)&&a.push(i);a.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=[].slice.call(arguments,1);if(!n(this,"trigger",e,t))return this;var a=this._events[e],i=this._events.all;return a&&o(a,t),i&&o(i,arguments),this},stopListening:function(e,t,n){var o=this._listeners;if(!o)return this;var a=!t&&!n;"object"==typeof t&&(n=this),e&&((o={})[e._listenerId]=e);for(var i in o)o[i].off(t,n,this),a&&delete this._listeners[i];return this}},t=/\s+/,n=function(e,n,o,a){if(!o)return!0;if("object"==typeof o){for(var i in o)e[n].apply(e,[i,o[i]].concat(a));return!1}if(t.test(o)){for(var r=o.split(t),c=0,s=r.length;s>c;c++)e[n].apply(e,[r[c]].concat(a));return!1}return!0},o=function(e,t){var n,o=-1,a=e.length,i=t[0],r=t[1],c=t[2];switch(t.length){case 0:for(;a>++o;)(n=e[o]).callback.call(n.ctx);return;case 1:for(;a>++o;)(n=e[o]).callback.call(n.ctx,i);return;case 2:for(;a>++o;)(n=e[o]).callback.call(n.ctx,i,r);return;case 3:for(;a>++o;)(n=e[o]).callback.call(n.ctx,i,r,c);return;default:for(;a>++o;)(n=e[o]).callback.apply(n.ctx,t)}};return e}).factory("LocaleSetting",["$resource","$locale","$cookies","$document",function(e,t,n,o){var a=function(e){o[0].cookie="lang="+e+";path=/"},i=function(){var e=n.lang;return e?e:t.id};return{set:a,current:i}}]),angular.module("AppFilter",["RestService"]).filter("i18n",["I18nResource","LocaleSetting",function(e,t){return function(n){for(var o,a,i,r=[],c=1;arguments.length>c;c++)r.push(arguments[c]);return o=t.current(),a=e(o),i=void 0!==a[n]?a[n]:n,r.length>0&&(i=vsprintf(i,r)),i}}]).filter("uptime_format",["$filter",function(e){var t=e("i18n"),n=60,o=60*n,a=24*o,i=t("miniute"),r=t("hour"),c=t("day");return function(e){if(n>e)return 0+i;if(o>e)return e+i;if(a>e){var t=parseInt(e/60/60),s=parseInt((e-3600*t)/60);return t+r+","+s+i}var l=parseInt(e/60/60/24),t=parseInt((e-86400*l)/60/60),s=parseInt((e-86400*l-3600*t)/60);return t>0?l+c+","+t+r+","+s+i:l+c+","+s+i}}]).filter("gb_format",function(){return function(e){return parseInt(e)||(e="0"),e+"GB"}}).filter("mb_format",function(){return function(e){return parseInt(e)||(e="0"),1024>e?e+"MB":e/1024+"GB"}}).filter("month_price",function(){return function(e){if(!e)return 0;var t=e.monthly;return t?t.price+"":0}}).filter("hour_price",function(){return function(e){if(!e)return 0;var t=e.hourly;return t?t.price+"":0}}).filter("image_status_filter",function(){return function(e){return e.status}}).filter("flavor_filter",function(){return function(e){var t=e.name,n=e.ram,o=e.ephemeral,a=e.vcpus,i=e.disk;return t+"| ram:"+n+"MB| ephemeral:"+o+"GB| vcpus:"+a+"| disk:"+i+"GB"}}).filter("payment_type_filter",function(){return function(e){if(!e)return"";var t=e.product_info;if(!t)return"";var n=t.payment_type;return"hourly"==n?t.hourly.price+"/"+"hour":"monthly"==n?t.monthly.price+"/"+"month":""}}).filter("distri_filter",function(){return function(e){return"<span class='os-icon-"+e.distri+"'></span>"}}).filter("status_icon_filter",function(){return function(e){return"<span class='status-icon-"+e+"'></span>"}}).filter("sg_filter",function(){return function(e){if(e){for(var t=[],n=0;e.length>n;n++)t.push(e[n].name);return t.join(",")}}}).filter("part_filter",function(){return function(e,t){void 0===t&&(t=2);for(var n=[],o=0;t>o;o++)n[o]={};for(var a in e)n[o++%t][a]=e[a];return n}}).filter("anGrid_copy_filter",function(){return function(e){return"<span class='copy_column'>                <span class='copy_text'>{{rowData[colData.field]}}</span>                <span class='copy_btn'>                    <a ng-init='$parent.$parent.$parent.$parent.$parent."+e.anGridCopyInitFn+"( rowData[colData.field] )'                        ng-click='$parent.$parent.$parent.$parent.$parent."+e.anGridCopyFn+"($event, rowData[colData.field])' class='btn btn-small  "+e.anGridCopyClass+"'                        >{{'Copy' | i18n}}                    </a>                </span>            </span>"}}).filter("operation_connect_filter",function(){return function(){return"<span class='btn btn-small' ng-click='open_connect_instance()'>{{'Connect'|i18n}}</span>"}}).filter("moniter_metrics_format",function(){return function(){return"<a ng-repeat='metric in rowData[\"metrics\"]' ng-click=\"$emit('metric selected', rowData, metric )\" class='metric'>{{metric}}</a>"}}).filter("instance_class_filter",function(){return function(e){var t={sleeping:"gray",error:"red",building:"yellow"};return e in t?t[e]:""}}).filter("instance_status_filter",function(){return function(e){return"status"in e?e.real_status:e}}).filter("volume_attach_filter",function(){return function(e){if(e&&0!=e.length){for(var t=[],n=0;e.length>n;n++)t.push("attach to <strong>"+e[n].instance_name+"</strong> on "+e[n].device);return t.join("<br/>")}}});var app_directives=angular.module("AppDirectives",["AppService","CommonService","RestService","RestServiceV2"]);app_directives.directive("usagePieChart",function(){return{restrict:"E",replace:!0,scope:{chartId:"@",chartTitle:"@"},template:'<div class="usage_chart_wrapper"><div class="usage_chart" id="{{chartId}}"><div class="usage_percent">{{usage}}</div></div><div class="usage_chart_label">{{chartTitle|i18n}}</div></div>',link:function(e,t,n){e.render=function(){$.jqplot(n.chartId,[[["a",1],["b",2]]],{grid:{background:"white",borderWidth:"0",borderColor:"white",shadow:!1},seriesDefaults:{renderer:$.jqplot.DonutRenderer,rendererOptions:{sliceMargin:3,startAngle:-90,showDataLabels:!1}},seriesColors:["#59ad58","#d9ecd8"]}),e.$apply(function(){var t=e.$parent.selectedItems[0],o=n.chartId;"cpu_usage"==o?e.usage=t.cpu:"mem_usage"==o?e.usage=t.mem_percent:"disk_usage"==o&&(e.usage=t.disk_percent)})}}}}).directive("vmNode",function(){return{restrict:"E",replace:!0,template:"<div><div class='vm_node_active'></div></div>"}}),app_directives.directive("topbardropdown",["$location",function(e){return{restrict:"E",scope:{items:"=",iconleft:"@",iconright:"@"},replace:!0,template:'<span class="btn" data-toggle="dropdown" href="#"><i ng-show="iconleft" class="iconleft {{iconcolor}} {{iconleft}}"></i><span>{{items[0].name|i18n}}</span><i ng-show="iconright" class="iconright {{iconcolor}} {{iconright}}"></i><ul ng-show="items.length > 1" class="dropdown-menu" role="menu" aria-labelleby="dLabel"><li ng-repeat="item in items"><a ng-click="item_click(item)" ng-hide="$index == 0" >{{item.name|i18n}}</a></li></ul></span>',link:function(t,n,o){t.view_change=function(t){e.path(t.link)},t.iconcolor="icon-black";var a=$(n[0]),i=$(n.children(".dropdown-menu")[0]);a.find(".iconleft"),a.find(".iconright"),o.iconright,t.hovered=!1,n.mouseenter(function(){n.siblings().children(".dropdown-menu.open").removeClass("open"),n.addClass("open")});var r=null;n.mouseleave(function(){n.hasClass("open")&&(r=window.setTimeout(function(){n.removeClass("open")},100))}),i.mouseenter(function(){null!==r&&window.clearTimeout(r)}),i.mouseleave(function(){n.hasClass("open")&&n.removeClass("open")}),t.item_click=function(e){void 0==e.callback?t.view_change(e):e.callback(e)}}}}]).directive("sidepanel",function(){return{restrict:"E",scope:{group:"=",selectedPanel:"="},replace:!0,template:"<div class='nav-group'><li class='menu-header' ng-click='toggle_panel()' ng-class='{\"active\": has_item_selected()}'><i class='icon-th-list'></i><i ng-class='{\"icon-chevron-down\": folded == false, \"icon-chevron-right\": folded == true}' ></i>{{group.name|i18n}}</li><ul ui-sortable='{axis:\"y\"}' class='nav'><li ng-repeat='panel in group.panels' ng-class='{\"active\": selectedPanel == panel.name}'><a ng-href='/app/{{panel.name}}' class='sidebar-{{panel.name}}'><i class='icon-icon'></i>{{panel.name|i18n}}</a></li></ul></div>",link:function(e,t){e.folded=!1,e.has_item_selected=function(){for(var t=0;e.group.panels.length>t;t++){var n=e.group.panels[t];if(n.name==e.selectedPanel)return!0}return!1},e.toggle_panel=function(){e.folded?($(t).find(".nav").slideDown(),e.folded=!1):($(t).find(".nav").slideUp(),e.folded=!0)}}}}).directive("confirmDialog",function(){return{restrict:"E",scope:{title:"@",msg:"@",action:"&",confirmDialogShown:"="},templateUrl:"/static/js/templates/common/confirmDialog.html",link:function(e,t,n){e.close_modal=function(){e.confirmDialogShown=!1},e.perform_action=function(){e.submitted=!0,e.action(),e.close_modal()},e.$watch("confirmDialogShown",function(t){t&&(e.submitted=!1)}),e._title=n.title?n.title:"Confirm",e._msg=n.msg?n.msg:"Confirm to delete?"}}}).directive("stdCenterWrapper",function(){return{restrict:"C",link:function(e,t){if($(t).height($("body").height()-120),0!=t.find(".buttom_region").length){e.height=Math.max(130,$("#panel_center").height()/3),$(t).splitter({type:"h",sizeTop:e.height});var n=function(){null==e.height&&(e.height=t.find(".upper_region").height()),t.find(".upper_region").height("100%"),e.$broadcast("pushheight")},o=function(){t.find(".upper_region").height(e.height),e.height=null,e.$broadcast("popheight")};t.hasClass("activable")&&n(),e.$watch("selectedItems",function(e){e&&1==e.length?(t.addClass("active"),t.hasClass("activable")&&o()):(t.removeClass("active"),t.hasClass("activable")&&n())})}else t.find(".upper_region").height("100%")}}}).directive("dropDownBtn",function(){return{restrict:"A",scope:{disabled:"=",onClick:"&"},link:function(e,t){var n=$(t);n.on("click",function(){e.disabled||e.onClick()}),e.$watch("disabled",function(e){e?n.addClass("dropdown-btn-disabled"):n.removeClass("dropdown-btn-disabled")}),e.label_toggle=function(t){var n=t.type;return"toggle_pause"==n?1!=e.$parent.selectedItems.length?"Pause Instance":"paused"==e.$parent.selectedItems[0].status?"Unpause Instance":"Pause Instance":"toggle_suspend"==n?1!=e.$parent.selectedItems.length?"Suspend Instance":"suspended"==e.$parent.selectedItems[0].status?"Resume Instance":"Suspend Instance":"toggle_stop"==n?1!=e.$parent.selectedItems.length?"Stop":"shutoff"==e.$parent.selectedItems[0].status?"Start Instance":"Stop Instance":void 0}}}}).directive("pageLoader",function(){return{restrict:"E",replace:!0,template:"<div class='page-loader hide'><span>loading..</span></div>",link:function(e,t){e.$on("load_complete",function(){$(t).addClass("hide")}),e.$on("load_start",function(){$(t).removeClass("hide")})}}}).directive("notifyWindow",["$timeout",function(e){return{restrict:"E",replace:!0,templateUrl:"/static/js/templates/common/notify.html",link:function(t,n){var o=function(){var e=new Date;return e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()};t.msgs={data:[],push:function(e,t){this.data.push({date:o(),msg:e,level:t})},clean:function(){this.data=[]}},t.$on("log_msg",function(o,a,i){i=i||"info",t.msgs.push(a,i),!t.display_full&&$(n).find(".notify_min a").fadeOut().fadeIn(),e(function(){var e=$(n).find(".msg_wrapper").last()[0];e&&e.scrollIntoViewIfNeeded()},100)})}}}]).directive("uiConfig",function(){return{restrict:"A",replace:!0,transclude:!0,template:"<div><i class='icon-cog'></i><div class='trans-box' ng-transclude><i class='ui-up-arrow'></i></div> </div>",link:function(e,t){$(".ui-config i").hide(),$(t).parent().hover(function(){$(".ui-config i").fadeIn()},function(){$(".ui-config i").fadeOut(),$(".ui-config div").slideUp(200)}),$(".ui-config i").on("click",function(){$(".ui-config div").slideToggle(200)})}}}),app_directives.directive("createApplyCode",["EventCenter",function(e){return{restrict:"E",replace:!0,scope:{createApShown:"="},templateUrl:"/static/js/templates/admin/apply_code/create_ap.html",link:function(t){t.submit=function(){var n={count:t.count};e.trigger("apply_code:create",n),t.close_create_ap_modal()},t.close_create_ap_modal=function(){t.createApShown=!1}}}}]),app_directives.directive("chart",function(){var e=function(e,t,n){var o=0,a=function(){void 0!==n.withPaging&&t.find(".arrow").click(function(){o+=$(this).hasClass("arrow_left")?-1:1,e.refresh()})};a();var i=function(e){e=1e3*e;var t=new Date(e),n=t.getMonth()+1,o=t.getDate(),a=t.getHours(),i=t.getMinutes();return n+"/"+o+" "+a+":"+i},r=function(){var t,n=new Date;return n=n.getTime()/1e3,t=60*e.timeRange,n-=t,i(n)};e.resize=function(){void 0===n.width&&(e.width=t.width()),void 0===n.height&&(e.height=t.height()),$("#"+e.id+"_chart").html("").css({width:e.width,height:e.height}),t.addClass("chart")};var c=function(){return{id:e.id,metric:e.metric,statistic_method:e.statisticMethod,time_range:e.timeRange,time_period:e.timePeriod}},s=function(o){if(void 0===$||void 0===$.jqplot||0==$("#"+e.id+"_chart").length)return setTimeout(s,200),void 0;if(e.resize(),e.option={},e.option.animate=o?!0:!1,e.option.animateReplot=o?!0:!1,e.option.axes={xaxis:{renderer:$.jqplot.DateAxisRenderer,tickOptions:{formatString:"%m/%d %H:%M"},min:r()},yaxis:{tickOptions:{formatString:"%.2f"+window.monitor.options.unit}}},e.option.series=[{lineWidth:2,markerOptions:{show:!1},rendererOptions:{smooth:!0}}],e.option.title=n.title,void 0!==e.color())if("object"==typeof e.color())for(var a in e.color())a>=e.option.series.length?e.option.series.push({color:e.color()[a]}):e.option.series[a].color=e.color()[a];else for(var a in e.option.series)e.option.series[a].color=e.color;e.option.highlighter={show:!0,sizeAdjust:7.5},e.option.cursor={show:!1,tooltipLocation:"e"};var l=l?l:e.id+"_chart",u="/resource/vm_usage/detail/"+e.id,d=function(e){var t=[[]],n=c();return-1!==e.indexOf("undefined")?t:($.ajax({async:!1,url:e,data:n,dataType:"json",success:function(e){if(0==e.values.length)return t[0].push([i(Date.parse(new Date)/1e3),0]),t;for(var n=e.values,o=0;n.length>o;o++)t[0].push([i(n[o].x),n[o].y])}}),t)};e.option.dataRenderer=d,$.jqplot(l,u,e.option);var p=t.find(".jqplot-series-canvas").eq(0);if(p&&void 0!==n.withPaging){var m=t.find(".arrow.arrow_left").eq(0);m.css({left:p.css("left"),top:p.css("top"),height:p.css("height")});var f=t.find(".arrow.arrow_right").eq(0);f.css({left:1*p.css("left").replace("px","")+1*p.css("width").replace("px","")-f.width(),top:p.css("top"),height:p.css("height")})}};e.refresh=function(){s(!0)},e.$watch("metric",function(t){void 0!==t&&e.chart_shown&&e.refresh()}),e.$watch("id",function(t){void 0!==t&&e.chart_shown&&e.refresh()}),e.$watch("statisticMethod",function(t){void 0!==t&&e.chart_shown&&e.refresh()}),e.$watch("timeRange",function(t){void 0!==t&&e.chart_shown&&e.refresh()}),e.$watch("timePeriod",function(t){void 0!==t&&e.chart_shown&&e.refresh()}),e.$on("popheight",function(){e.chart_shown=!0,e.refresh()}),e.$on("pushheight",function(){e.chart_shown=!1})};return{restrict:"E",replace:!0,scope:{charid:"@id",width:"@",height:"@",title:"@",color:"&",datasource:"@",dataconfig:"&",withPaging:"@",id:"=uuid",metric:"=",statisticMethod:"=",timeRange:"=",timePeriod:"="},template:'<div class="chart"><div id="{{id}}_chart" style="float:left"><p style="color:#777;text-align:center">loading...</p></div></div>',link:e}}).directive("smallChart",[function(){return{restrict:"E",replace:!0,templateUrl:"/static/js/templates/project/monitor/small_chart.html",scope:{chartId:"@",metric:"@",id:"=",timeRange:"=",timePeriod:"="},link:function(e,t,n){var o=!1,a=function(e){return $.jqplot.sprintf("%.2f",e)},i={cpu:"CPU Utilization",blk_read:"Disk Read",blk_write:"Disk Write",nic_outgoing:"Net Out",nic_incoming:"Net In",vmnetwork:"Vmnetwork"};e.chart_title=i[n.metric];var r=function(e){e=1e3*e;var t=new Date(e),n=t.getMonth()+1,o=t.getDate(),a=t.getHours(),i=t.getMinutes();return n+"/"+o+" "+a+":"+i},c=function(){var t,n=new Date;return n=n.getTime()/1e3,t=60*e.timeRange,n-=t,r(n)},s=function(){return{id:n.id,metric:n.metric,statistic_method:e.statistic_method,time_range:e.timeRange,time_period:e.timePeriod}},l=function(e){var t=[[]],n=s();return $.ajax({async:!1,url:e,data:n,dataType:"json",success:function(e){if(0==e.values.length)return t[0].push([r(Date.parse(new Date)/1e3),0]),void 0;for(var n=e.values,o=0;n.length>o;o++)t[0].push([r(n[o].x),n[o].y])}}),t};e.statistic_methods=[{value:"avg",name:"average"},{value:"max",name:"max"},{value:"min",name:"min"},{value:"sum",name:"sum"}],e.statistic_method=e.statistic_methods[0].value,e.statistic_method_changed=function(){e.render()},e.render=function(){var t={animate:!0,animateReplot:!0,grid:{background:"white"},axesDefaults:{tickOptions:{showGridline:!1}},axes:{xaxis:{renderer:$.jqplot.DateAxisRenderer,tickOptions:{formatString:"%m/%d %H:%M"},min:c()},yaxis:{tickOptions:{formatter:function(e,t){var o=n.metric;return"cpu"==o?a(t)+"%":1024>t?a(t)+"B":1048576>t?a(t/1024)+"KB":1073741824>t?a(t/1024/1024)+"MB":a(t/1024/1024/1024)+"GB"}}}},series:[{lineWidth:2,markerOptions:{show:!1},rendererOptions:{smooth:!0}}],highlighter:{sizeAdjust:7.5},cursor:{style:"pointer",show:!0,showTooltip:!0,tooltipLocation:"e"},dataRenderer:l},i="/resource/vm_usage/detail/"+e.id;$.jqplot.eventListenerHooks.pop(),$.jqplot.eventListenerHooks.push(["jqplotClick",function(){e.monitor_detail=!0}]),void 0!==e.current_chart&&e.current_chart.destroy(),e.current_chart=$.jqplot(e.chartId+"_chart",i,t),o=!0},e.$watch("timeRange",function(){o&&e.render()}),e.$watch("timePeriod",function(){o&&e.render()})}}}]),app_directives.directive("createCouponModal",["CouponCodeResource",function(e){return{restrict:"E",replace:!0,scope:{modalShown:"="},templateUrl:"/static/js/templates/admin/coupon/create_coupon.html",link:function(t){t.submit=function(){var n={value:t.value,count:t.count};e.list_resource.create(n,{multi:!0},function(){e.list_resource.fetch({from_cache:1})}),t.close_modal()},t.close_modal=function(){t.modalShown=!1}}}}]).directive("loadCouponModal",["CouponLogResource",function(e){return{restrict:"E",replace:!0,scope:{modalShown:"="},templateUrl:"/static/js/templates/project/balance/load_coupon.html",link:function(t){t.submit=function(){var n={code:t.code};e.list_resource.create(n,null,function(){e.remaining_resource.get(function(e){t.$parent.coupon_remaining=e.remaining}),e.list_resource.fetch({year:(new Date).getFullYear(),from_cache:1})}),t.close_modal()},t.close_modal=function(){t.modalShown=!1}}}}]),app_directives.directive("createFlavorModal",["is_dough_enabled","FlavorPool","EventCenter",function(e,t,n){return{restrict:"E",replace:!0,scope:{modalShown:"="},templateUrl:"/static/js/templates/admin/flavor/create_flavor.html",link:function(t){t.is_dough_enabled=function(){return e()},t.submit=function(){var e={name:t.name,vcpu:t.vcpu,ram:t.ram,disk:t.disk,ephemeral:t.ephemeral,swap:t.swap};t.is_dough_enabled()&&(e.hourly=t.hourly,e.monthly=t.monthly),n.trigger("flavor:create",e),t.close_modal()},t.close_modal=function(){t.modalShown=!1}}}}]).directive("flavorNameValid",["FlavorPool",function(e){return{restrict:"A",require:"ngModel",link:function(t,n,o,a){t.flavor_name_valid=function(t){for(var n=e.fetch(),o=0;n.length>o;o++){var a=n[o];if(a.name==t)return!1}return!0},a.$parsers.unshift(function(e){return t.flavor_name_valid(e)?(a.$setValidity("flavor_name_valid",!0),e):(a.$setValidity("flavor_name_valid",!1),e)})}}}]),app_directives.directive("allocateIp",["FloatingIpPoolPool","EventCenter",function(e,t){return{restrict:"E",replace:!0,scope:{allocateIpShown:"="},templateUrl:"/static/js/templates/project/floating_ip/allocate_ip.html",link:function(n){n.$watch("allocateIpShown",function(t){t&&(n.pool_list=e.fetch(function(e){return n.ip_pool=e[0],e}))}),n.submit_allocate_ip=function(){var e={pool:n.ip_pool.name};t.trigger("floating_ip:allocate",e),n.closeModal()},n.closeModal=function(){n.allocateIpShown=!1}}}}]).directive("associateIp",["FloatingIpPool","InstancePool","EventCenter",function(e,t,n){return{restrict:"E",replace:!0,scope:{associateIpShown:"="},templateUrl:"/static/js/templates/project/floating_ip/associate_ip.html",link:function(e){e.submit=function(){data={action:"associate",instance_uuid:e.instance_uuid},n.trigger("floating_ip:associate",e.$parent.selectedItems[0].id,data),e.closeModal()},e.$watch("associateIpShown",function(n,o){n!==o&&(e.instance_list=t.fetch(function(t){return e.instance_uuid=t[0].id,t}))}),e.closeModal=function(){e.associateIpShown=!1},e.$on("associate_ip_shown",function(){e.floating_ip=e.$parent.selectedItems[0].ip})}}}]),app_directives.directive("modalHeader",function(){return{restrict:"E",replace:!0,scope:{title:"@"},templateUrl:"/static/js/templates/common/modal_header.html",link:function(e){e.close=e.$parent.closeModal}}}).directive("modalFooter",["form_valid",function(e){return{restrict:"E",replace:!0,scope:{cancelText:"@",okText:"@",formInvalid:"=",completeUpload:"="},templateUrl:"/static/js/templates/common/modal_footer.html",link:function(t,n,o){t._cancelText=o.cancelText||"Cancel",t._okText=o.okText||"Create",t.close=t.$parent.closeModal,t.form_invalid=function(){var o=$(n).parent("form");return e(o[0])?t.formInvalid?t.formInvalid():!1:!0}}}}]).directive("modalDesc",function(){return{restrict:"E",replace:!0,scope:{title:"@",desc:"@"},templateUrl:"/static/js/templates/common/modal_desc.html",link:function(e,t,n){e._title=n.title||"Description"}}}).directive("bInput",["$compile",function($compile){return{restrict:"E",replace:!0,scope:{type:"@",label:"@",value:"=",name:"@",placeholder:"@",model:"=",required:"@",validate:"@"},templateUrl:"/static/js/templates/common/bootstrap_input.html",link:function(scope,elem,attr){scope._required=eval(void 0===attr.required?!0:attr.required);var validate=void 0===attr.validate?"":eval(attr.validate).join(" "),type=attr.type||"text",placeholder=attr.placeholder||"",name=attr.name||"",input='<input value="{{value}}" name="'+name+'" type="'+type+'" placeholder="'+placeholder+'" ng-model="model" ng-required="_required" '+validate+">"+"</input>";$(elem).find(".controls").append($compile(input)(scope))}}}]).directive("bSelect",["$compile",function($compile){return{restrict:"E",replace:!0,scope:{label:"@",model:"=",name:"@",required:"@",options:"=",optionId:"@",optionName:"@"},templateUrl:"/static/js/templates/common/bootstrap_input.html",link:function(scope,elem,attr){scope._required=eval(attr.required||!0);var optionId=attr.optionId||"id",optionName=attr.optionName||"name",name=attr.name||"",option_str="item."+optionId+" as item."+optionName+" for item in options",select='<select name="'+name+'" ng-model="model" ng-required="_required" ng-options="'+option_str+'">'+"</select>";$(elem).find(".controls").append($compile(select)(scope))}}}]).directive("bTextarea",["$compile",function($compile){return{restrict:"E",replace:!0,scope:{label:"@",model:"=",required:"@"},templateUrl:"/static/js/templates/common/bootstrap_input.html",link:function(scope,elem,attr){scope._required=eval(attr.required||!1);var textarea="<textarea ng-model='model' ng-required='_required'/>";$(elem).find(".controls").append($compile(textarea)(scope))}}}]),app_directives.directive("integer",function(){var e=/^\-?\d*$/;return{require:"ngModel",link:function(t,n,o,a){a.$parsers.unshift(function(t){return e.test(t)?(a.$setValidity("integer",!0),t):(a.$setValidity("integer",!1),void 0)})}}}).directive("intRange",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,o){var a=angular.fromJson(n.intRange),i=a[0],r=a[1];o.$parsers.unshift(function(e){return i>e||e>r?(o.$setValidity("int_valid",!1),void 0):(o.$setValidity("int_valid",!0),e)})}}}).directive("sourceValid",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,o){o.$parsers.unshift(function(e){var t=/^(25[0-5]|2[0-4]\d|[0-1]?\d?\d)(\.(25[0-5]|2[0-4]\d|[0-1]?\d?\d)){3}\/(3[0-2]|[1-2]?\d)$/;return t.test(e)?(o.$setValidity("source_valid",!0),e):(o.$setValidity("source_valid",!1),void 0)})}}}).directive("portRangeValid",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,o){o.$parsers.unshift(function(e){var t=/^(\d+)$|^(\d+)\s*-\s*(\d+)$/,n=t.exec(e),a=function(e){var t=1,n=65535;return e>=t&&n>=e};if(null!=n){if(void 0!=n[1]){if(!a(n[1]))return o.$setValidity("port_range_valid",!1),void 0}else{if(!a(n[2])||!a(n[3]))return o.$setValidity("port_range_valid",!1),void 0;if(n[2]>=n[3])return o.$setValidity("port_range_valid",!1),void 0}return o.$setValidity("port_range_valid",!0),e}return o.$setValidity("port_range_valid",!1),void 0})}}}),app_directives.directive("createImage",function(){return{restrict:"E",replace:!0,scope:{modalShown:"="},templateUrl:"/static/js/templates/admin/image/create_image.html",link:function(e,t){e.closeModal=function(){e.modalShown=!1},e.image_formats=[{id:"aki",name:"AKI - Amazon Kernel Image"},{id:"ami",name:"AMI - Amazon Machine Image"},{id:"ari",name:"ARI - Amazzon Ramdisk Image"},{id:"iso",name:"ISO - optical Disk Image"},{id:"qcow2",name:"QCOW2 - QEMU Emulator"},{id:"raw",name:"Raw"},{id:"vdi",name:"VDI"},{id:"vhd",name:"VHD"},{id:"vmdk",name:"VHDK"}],e.form_invalid=function(){return e.disk_format?e.copy_from||""!=$(t).find("input[type=file]")[0].value?void 0:!0:!0},e.complete_upload=function(e,t){console.log(e),console.log(t)},e.csrf_token=$.cookie("csrftoken")}}}),app_directives.directive("launchInstance",["$filter","combine_instance_flavor","init_quotas","get_instance_quotas","is_dough_enabled","VolumePool","QuotaPool","SnapshotPool","ImagePool","KeypairPool","SgPool","InstancePool","FlavorPool","CouponLogResource","CrashResource","EventCenter",function(e,t,n,o,a,i,r,c,s,l,u,d,p,m,f,_){return{restrict:"E",replace:!0,scope:{modalShown:"=launchInstanceShown"},templateUrl:"/static/js/templates/project/instance/launch_instance.html",link:function(e){e.snapshots=[],e.images=[],e.payment_type="hourly",e.snapshots=c.fetch(function(t){return t.length>0&&(e.snapshot_uuid=t[0].id),t}),e.images=s.fetch(function(t){return t.length>0&&(e.image_uuid=t[0].id),t}),e.keypairs=l.fetch(function(t){return t.length>0&&(e.instance_keypair=t[0]),t
}),e.$on("cache_change:keypair",function(){e.keypairs=l.fetch()}),e.security_groups=u.fetch(),e.$on("cache_change:sg",function(){e.security_groups=u.fetch()}),r.fetch(function(t){e.quotas=n(["instances","cores","gigabytes","ram"],t),d.fetch(function(t){e.instances=t,e.quotas=o(e.quotas,e.instances),e.availableInstance=e.quotas.instances.raw_limit-e.quotas.instances.raw_used,i.fetch(function(t){for(var n=0,o=0;t.length>o;o++)n+=t[o].size;e.quotas.gigabytes.raw_used=n})})}),e.$watch("modalShown",function(t){t&&a()&&(m.remaining_resource.get(function(t){e.coupon_remaining=t.remaining}),f.remaining_resource.get(function(t){e.balance_remaining=t.remaining}))}),e.is_dough_enabled=a(),e.unable_to_create_instance=function(t){var n=t.instance_flavor.$invalid,o=t.instance_name.$invalid,i=t.instance_keypair.$invalid,r=e.need_keypair();if(r||(i=!1),n||o||i)return!0;if(a()){var c=e.coupon_remaining+e.balance_remaining;if(e.current_charge()>c)return!0}return!1},e.create_instance=function(){var t,n,o=e.instance_name,i=e.flavorSelected.id,r=e.user_data,c=e.instance_sg,s=e.instance_copies,l=e.need_keypair();n="image"==e.user_image_type?e.image_uuid:e.snapshot_uuid,a()&&(t=e.flavorSelected.product_info[e.payment_type].product_id);var u={name:o,image_uuid:n,flavor_uuid:i,user_data:r,security_groups:c,count:s,product_id:t};l&&(u.key_uuid=e.instance_keypair.id),_.trigger("instance:create",u),e.close_modal()},e.close_modal=function(){e.modalShown=!1},e.$on("launch_instance_with_snapshot",function(t,n){e.user_image_type="snapshot",e.snapshot_uuid=n.id}),e.$on("launch_instance_with_image",function(t,n){e.user_image_type="image",e.image_uuid=n.id}),e.$watch("availableInstance",function(t){e.instanceCopies=[];for(var n=1;t>=n;n++)e.instanceCopies.push(n);e.instance_copies=e.instanceCopies[0]}),e.flavor_price=function(){if(!a())return"";if(e.flavorSelected){var t=e.flavorSelected.product_info[e.payment_type];return t.price+t.currency+"/"+t.order_unit}},e.current_charge=function(){if(!a())return 0;if(e.flavorSelected){var t=e.flavorSelected.product_info[e.payment_type];return t.price*e.instance_copies}},e.need_keypair=function(){if(0==e.images.length)return!0;if("image"==e.user_image_type){for(var t=e.image_uuid,n=null,o=0;e.images.length>o;o++)e.images[o].id==t&&(n=e.images[o]);if("windows"==n.os_type)return!1}return!0},e.open_create_sg_modal=function(){e.sg_modal_shown=!0,e.update_sg=!1},e.open_create_keypair_modal=function(){e.keypair_modal_shown=!0,e.import_keypair=!1}}}}]).directive("connectInstance",["$filter","ApiList",function(e,t){var n=function(e,n){e.initTab=navigator.userAgent.indexOf("Window")>0?"windows":"linux";var o=t.get("instance","vnc");e.$watch("modalShown",function(t){if(t){e.keypair=e.$parent.selectedItems[0].key_name,e.vnc_url=o+e.$parent.selectedItems[0].id;var n=e.$parent.selectedItems[0].ssh_domain,a=n.split(":");e.domain=a[0],e.port=a[1]}}),e.open_vnc=function(){window.open(e.vnc_url)},e.closeModal=function(){e.modalShown=!1};var a=n.controller("ngModel");a.$viewValue=e.initTab,a.$render()};return{restrict:"E",replace:!0,scope:{modalShown:"="},templateUrl:"/static/js/templates/project/instance/connect_instance.html",link:n}}]).directive("dropdowntable",["is_dough_enabled","FlavorPool",function(e,t){return{restrict:"E",transclude:!0,scope:{flavorSelected:"="},link:function(n){n.thead=["name","VCPU","disk","ephemeral","ram"],n.data_attr_name=["name","vcpus","disk","ephemeral","ram"],e()&&(n.thead.push("hourly","monthly"),n.data_attr_name.push("hourly","monthly")),t.fetch(function(e){n.data=[];for(var t=0;e.length>t;t++){var o={name:e[t].name,vcpus:e[t].vcpus,disk:e[t].disk,ephemeral:e[t].ephemeral,ram:e[t].ram,origin_flavor:e[t]};if(null!=e[t].product_info){var a=e[t].product_info.hourly.price+" "+e[t].product_info.hourly.currency,i=e[t].product_info.monthly.price+" "+e[t].product_info.monthly.currency;o.hourly=a,o.monthly=i}n.data.push(o)}}),n.selecting=function(e){n.select_show=!1,n.select_value=e[n.data_attr_name[0]],n.flavorSelected=e.origin_flavor}},template:'<div><input type="text" name="instance_flavor" class="dropdown-select" ng-model="select_value" ng-init="select_show=false" ng-click="select_show=true" readonly="readonly" required><div  class="dropdown-select-wrapper"><table class="dropdown-select-table" ng-show="select_show" ng-model="select_show"><thead><tr><th ng-repeat="head in thead">{{head}}</th></tr></thead><tbody><tr ng-repeat="flavor in data" ng-click="selecting(flavor)"><td ng-repeat="key in data_attr_name">{{flavor[key]}}</td></tr></tbody></table></div></div>',replace:!0}}]).directive("editInstance",["EventCenter",function(e){return{restrict:"E",replace:!0,scope:{modalShown:"="},templateUrl:"/static/js/templates/project/instance/edit_instance.html",link:function(t){t.submit=function(){var n={name:t.name,action:"update"};e.trigger("instance:action_on_instance",t.$parent.selectedItems[0].id,n),t.close_modal()},t.close_modal=function(){t.modalShown=!1},t.$watch("modalShown",function(e){if(e){var n=t.$parent.selectedItems[0];t.name=n.name}})}}}]).directive("takeSnapshot",["EventCenter",function(e){return{restrict:"E",replace:!0,scope:{modalShown:"="},templateUrl:"/static/js/templates/project/instance/take_snapshot.html",link:function(t){t.submit=function(){var n={name:t.name,instance_id:t.$parent.selectedItems[0].id};e.trigger("snapshot:create",n),t.close_modal()},t.close_modal=function(){t.modalShown=!1}}}}]),app_directives.directive("keypairmodal",["$timeout","ApiList","KeypairPool","EventCenter",function(e,t,n,o){return{restrict:"E",replace:!0,scope:{keypairModalShown:"=",importKeypair:"="},templateUrl:"/static/js/templates/project/keypair/keypair_modal.html",link:function(a){a.key_exist=function(e){return n.fetch(function(t){for(var n=0;t.length>n;n++)if(t[n].name==e)return!1;return!0})},a.create_url=t.get("keypair","create_keypair"),a.refresh_keypairs=function(){a.$parent.keypairs=n.query(function(e){return a.$parent.instance_keypair=a.$parent.keypairs[0],e})},a.import_keypair=function(e,t){var n={name:e,public_key:t};o.trigger("keypair:import",n)},a.close_keypair_modal=function(){a.keypairModalShown=!1},a.can_submit=function(e){return a.importKeypair&&e.keypair_name.$valid&&e.public_key.$valid||!a.importKeypair&&e.keypair_name&&e.keypair_name.$valid},a.submit_keypair=function(){a.importKeypair?(a.import_keypair(a.keypair_name,a.public_key),a.close_keypair_modal()):(function(e){e("iframe#temp-download").length?e("iframe#temp-download").attr("src",a.create_url+"/"+a.keypair_name):e("<iframe></iframe>").attr({id:"temp-download",src:a.create_url+"/"+a.keypair_name}).appendTo("body:eq(0)").hide()}(jQuery),a.close_keypair_modal(),e(a.refresh_keypairs,1e3))}}}}]).directive("keypairNameValid",["KeypairPool",function(e){return{restrict:"A",require:"ngModel",link:function(t,n,o,a){t.key_name_valid=function(t){for(var n=e.fetch(),o=0;n.length>o;o++)if(n[o].name==t)return console.log("exist"),!1;return!0},a.$parsers.unshift(function(e){return t.key_name_valid(e)?(a.$setValidity("key_name_valid",!0),e):(a.$setValidity("key_name_valid",!1),e)})}}}]),app_directives.directive("loadbalancermodal",["LBPool","InstancePool","EventCenter",function(e,t,n){return{restrict:"E",replace:!0,scope:{modalShown:"=",editLoadBalancer:"="},templateUrl:"/static/js/templates/project/load_balancer/load_balancer_modal.html",link:function(e){e.load_balancer_name="",e.instances=t.fetch(),e.$watch("modalShown",function(t){if(t&&e.editLoadBalancer){var n=e.$parent.selectedItems[0];e.id=n.id,e.load_balancer_name=n.name,e.protocol=n.protocol,e.instance_port=n.instance_port,e.balancing_method=n.config.balancing_method,e.server_name=n.http_server_names,e.instance=n.instance_uuids}}),e.submit=function(){var t,o=e.protocol;t={name:e.load_balancer_name,protocol:e.protocol,instance_port:parseInt(e.instance_port),instance_uuids:e.instance,config:{balancing_method:e.balancing_method,health_check_target_path:"/",health_check_timeout_ms:5e3,health_check_interval_ms:3e4,health_check_healthy_threshold:5,health_check_unhealthy_threshold:3}},"http"==o&&(t.http_server_names=e.server_name),e.editLoadBalancer?n.trigger("load_balancer:update",e.id,t):n.trigger("load_balancer:create",t),e.close_modal()},e.close_modal=function(){e.modalShown=!1},e.can_submit=function(e){return e.load_balancer_name.$valid&&e.protocol.$valid&&e.instance_port.$valid&&e.balancing_method.$valid&&e.instance.$valid&&("tcp"==e.protocol.$modelValue||e.server_name.$valid)}}}}]).directive("loadBalancerNameValid",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,o){e.max_length_limit=function(e){return 40>=e.length},e.illegal_characters=function(e){return/^[a-zA-Z0-9]*?$/.test(e)},o.$parsers.unshift(function(t){return o.$setValidity("max_length_limit",e.max_length_limit(t)),o.$setValidity("illegal_characters",e.illegal_characters(t)),t})}}}).directive("instancePortValid",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,o){e.valid=function(e){return e>0&&65536>=e},o.$parsers.unshift(function(t){return o.$setValidity("valid",e.valid(t)),t})}}}).directive("serverNameValid",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,o){e.baddomain=function(e){return/^[a-zA-Z0-9][a-zA-Z0-9]{0,62}(\.[a-zA-Z0-9][a-zA-Z0-9]{0,62})*$/.test(e)},o.$parsers.unshift(function(t){return""!==t&&o.$setValidity("baddomain",e.baddomain(t)),t})}}}),app_directives.directive("quotaitem",["$filter",function(e){return{restrict:"E",replace:!0,scope:{resourceName:"=",resourceRawLimit:"=",resourceRawUsed:"=",flavorSelected:"=",copies:"="},template:"<div class='quota_item_wrapper'><div class='quota_title clearfix'><a class='title'>{{resourceName|i18n}}(<span>{{format_display(resourceRawUsedScoped)}} {{'used'|i18n}}</span>)</a><p class='limit' ng-hide='resourceRawLimit == null'>{{format_display(resourceRawLimit)}} total</p></div><div class='quota_bar'><div class='progress progress-striped active'><div class='bar' ng-class='{\"bar-warning\": resourcePercent>50 && resourcePercent<100, \"bar-danger\": resourcePercent>=100}' style='width: {{resourcePercent}}%'></div></div></div></div>",link:function(t){var n=e("gb_format"),o=e("mb_format");t.format_display=function(e){return"gigabytes"==t.resourceName?n(e):"ram"==t.resourceName?o(e):e},t.$watch("resourceRawUsed",function(e){void 0!==e&&(t.resourceRawUsedScoped=e)}),t.$watch("resourceRawUsedScoped",function(e){void 0!==e&&null!==e&&(t.resourcePercent=100*(t.resourceRawUsedScoped/t.resourceRawLimit))}),t.$watch("flavorSelected",function(e){if(void 0!==e&&void 0!==t.copies){var n=parseInt(t.resourceRawUsed),o=t.copies;t.resourceRawUsedScoped="cores"==t.resourceName?n+parseInt(e.vcpus)*o:"gigabytes"==t.resourceName?n+parseInt(e.disk)*o:"instances"==t.resourceName?n+1*o:"ram"==t.resourceName?n+parseInt(e.ram)*o:n}}),t.$watch("copies",function(e){if(void 0!==e&&void 0!==t.flavorSelected){var n=parseInt(t.resourceRawUsed),o=t.flavorSelected;t.resourceRawUsedScoped="cores"==t.resourceName?n+parseInt(o.vcpus)*e:"gigabytes"==t.resourceName?n+parseInt(o.disk)*e:"instances"==t.resourceName?n+1*e:"ram"==t.resourceName?n+parseInt(o.ram)*e:n}})}}}]).directive("launchnode",function(){return{restrict:"E",replace:!0,scope:{availableInstance:"=",onClick:"&"},template:"<div class='node large' ng-click='onClick()'><div class='node-inner launch'><span class='content'><div><h1>{{availableInstance}}</h1><q>{{'available'|i18n}}</q></div><div><h1>+</h1><q>{{'launch'|i18n}}</q></div></span></div></div>"}}).directive("instancenode",[function(){return{restrict:"E",scope:{name:"=",instanceUuid:"=",flavorName:"=",status:"=",uptime:"="},replace:!0,template:"<div class='node large'><div class='node-inner' ng-class='status|instance_class_filter'><span class='content'><div>{{name}}</div><div>{{flavorName}}</div><div>{{'uptime'|i18n}}:{{uptime|uptime_format}}</div></span></div></div>"}}]),app_directives.directive("createProjectModal",["EventCenter",function(e){return{restrict:"E",replace:!0,scope:{modalShown:"="},templateUrl:"/static/js/templates/admin/project/create_project.html",link:function(t){t.submit=function(){var n={name:t.name,description:t.description,enabled:t.enabled};e.trigger("project:create",n),t.close_modal()},t.close_modal=function(){t.modalShown=!1}}}}]).directive("editProjectModal",["EventCenter",function(e){return{restrict:"E",replace:!0,scope:{modalShown:"="},templateUrl:"/static/js/templates/admin/project/edit_project.html",link:function(t){t.submit=function(){var n={action:"update_info",name:t.name,description:t.description,enabled:t.enabled};e.trigger("project:update",t.$parent.selectedItems[0].id,n),t.close_modal()},t.close_modal=function(){t.modalShown=!1},t.$on("edit_project_shown",function(){var e=t.$parent.selectedItems[0];t.name=e.name,t.description=e.description,t.enabled=e.enabled})}}}]).directive("manageProjectModal",[function(){return{restrict:"E",replace:!0,scope:{modalShown:"="},templateUrl:"/static/js/templates/admin/project/manage_project.html",link:function(e){e.close_modal=function(){e.modalShown=!1}}}}]).directive("modifyQuotaModal",["ProjectPool","EventCenter",function(e,t){return{restrict:"E",replace:!0,scope:{modalShown:"="},templateUrl:"/static/js/templates/admin/project/modify_quota.html",link:function(n){n.get_quota=function(){e.get_list({id:n.$parent.selectedItems[0].id,action:"get_quota"},function(e){for(var t=0;e.length>t;t++){var o=e[t];n[o.name]=o.limit}})},n.submit=function(){var e={action:"update_quota",injected_file_content_bytes:n.injected_file_content_bytes,metadata_items:n.metadata_items,injected_files:n.injected_files,gigabytes:n.gigabytes,ram:n.ram,floating_ips:n.floating_ips,instances:n.instances,volumes:n.volumes,cores:n.cores};t.trigger("project:update_quota",n.$parent.selectedItems[0].id,e),n.close_modal()},n.close_modal=function(){n.modalShown=!1},n.$on("modify_quota_shown",function(){n.get_quota()})}}}]),app_directives.directive("sg",["$filter","EventCenter",function(e,t){return{restrict:"E",replace:!0,scope:{modalShown:"=",updateSg:"="},templateUrl:"/static/js/templates/project/security_group/sg.html",link:function(n){var o=e("i18n");n.name_not_null=o("name not null"),n.desc_not_null=o("description not null"),n.port_range_info=o("port range info"),n.icmp_type_info=o("type info"),n.icmp_code_info=o("code info"),n.source_info=o("source info"),n.quick_rules=[],n.quick_rules.push([{name:"SAE Bridge",protocol:"tcp",port_range:"1-65535",source:"0.0.0.0/0"},{name:"All TCP",protocol:"tcp",port_range:"1-65535",source:"0.0.0.0/0"},{name:"All UDP",protocol:"udp",port_range:"1-65535",source:"0.0.0.0/0"},{name:"All ICMP",protocol:"icmp",type:"-1",code:"-1",source:"0.0.0.0/0"}]),n.quick_rules.push([{name:"SSH",protocol:"tcp",port_range:"22",source:"0.0.0.0/0"},{name:"MySQL",protocol:"tcp",port_range:"3306",source:"0.0.0.0/0"},{name:"DNS",protocol:"udp",port_range:"53",source:"0.0.0.0/0"},{name:"RDP",protocol:"tcp",port_range:"3389",source:"0.0.0.0/0"}]),n.quick_rules.push([{name:"HTTP",protocol:"tcp",port_range:"80",source:"0.0.0.0/0"},{name:"HTTPS",protocol:"tcp",port_range:"443",source:"0.0.0.0/0"},{name:"POP3",protocol:"tcp",port_range:"110",source:"0.0.0.0/0"},{name:"POP3S",protocol:"tcp",port_range:"995",source:"0.0.0.0/0"}]),n.quick_rules.push([{name:"SMTP",protocol:"tcp",port_range:"25",source:"0.0.0.0/0"},{name:"SMTPS",protocol:"tcp",port_range:"465",source:"0.0.0.0/0"},{name:"IMAP",protocol:"tcp",port_range:"143",source:"0.0.0.0/0"},{name:"IMAPS",protocol:"tcp",port_range:"993",source:"0.0.0.0/0"}]),n.rule_categories=[{protocol:"tcp",cols:{"1.protocol":"TCP","2.port_range":"Port Range","3.source":"Source"}},{protocol:"udp",cols:{"1.protocol":"UDP","2.port_range":"Port Range","3.source":"Source"}},{protocol:"icmp",cols:{"1.protocol":"ICMP","2.type":"Type","3.code":"Code","4.source":"Source"}}],n.category_col_order=function(e){var t=[];for(var n in e.cols){var o=/.\.(\w*)/.exec(n);0==t.length&&"protocol"==o[1]?t.push("nothing"):t.push(o[1])}return t},n.rule_mapping=new function(){var e={},t={};this.all=function(){return e},this.count=function(e){return void 0!==e?t[e]:t.tcp+t.udp+t.icmp},this.add=function(o){if("Array"!=typeof o){if(null!==o.protocol){var a=n(o);void 0===e[o.protocol][a]&&(e[o.protocol][a]=o,t[o.protocol]++)}}else for(var i in o)this.add(o[i])},this.has=function(t){var o=void 0!==e[t.protocol][n(t)];return o},this.toggle=function(e){this.has(e)?this.remove(e):this.add(e)},this.get=function(t){return e[t]},this.getRaw=function(t){if(t){var n=[];for(var o in e)for(var a in e[o])n.push(e[o][a]);return n}return e},this.remove=function(o){var a=n(o);void 0!==e[o.protocol][a]&&(delete e[o.protocol][a],t[o.protocol]--)},this.reset=function(){e={tcp:{},udp:{},icmp:{}};for(var n in e)t[n]=0},this.reset();var n=function(e){switch(e.protocol){case"tcp":case"udp":return 1*/\d*/.exec(e.port_range)+1e5+"#"+e.port_range+"@"+e.source;case"icmp":return e.type+"@"+e.code+"@"+e.source}}},n.create_sg=function(e){t.trigger("sg:create",e),n.close_sg_modal()},n.update_sg=function(e,o){t.trigger("sg:update",e,o),n.close_sg_modal()},n.$watch("modalShown",function(e){if(e&&(n.rule_mapping.reset(),n.updateSg))for(var t=n.$parent.selectedItems[0].rules,o=0;t.length>o;o++){var a={source:t[o].source,protocol:t[o].ip_protocol};"icmp"==t[o].ip_protocol?(a.type=t[o].from_port,a.code=t[o].to_port):a.port_range=t[o].from_port==t[o].to_port?t[o].from_port:t[o].from_port+"-"+t[o].to_port,n.rule_mapping.add(a)}});var a=function(e){var t,n,o=(""+e).split("-");return 1==o.length?t=n=o[0]:2==o.length&&(t=$.trim(o[0]),n=$.trim(o[1])),{from_port:t,to_port:n}};n.close_sg_modal=function(){n.modalShown=!1},n.new_rule=function(e){var t,o=a(e.port_range.$modelValue);t=o.from_port==o.to_port?o.from_port:o.from_port+"-"+o.to_port,n.rule_mapping.add({protocol:e.protocol.$modelValue,port_range:t,type:e.type.$modelValue,code:e.code.$modelValue,source:e.source.$modelValue})},n.can_submit=function(e){return n.updateSg||e.sg_name&&e.sg_desc&&e.sg_name.$valid&&e.sg_desc.$valid},n.add_rule_valid=function(e){return("tcp"==e.protocol.$modelValue||"udp"==e.protocol.$modelValue)&&e.port_range.$valid&&e.source.$valid||"icmp"==e.protocol.$modelValue&&e.type.$valid&&e.code.$valid&&e.source.$valid},n.submit_sg=function(e){for(var t=n.rule_mapping.getRaw(!0),o=[],i=0;t.length>i;i++){var r,c,s=t[i];if("icmp"==s.protocol)r=s.type,c=s.code;else{var l=a(s.port_range);r=l.from_port,c=l.to_port}o.push({ip_protocol:s.protocol,from_port:r,to_port:c,source:s.source})}var u={rules:o};if(n.updateSg){var d=n.$parent.selectedItems[0].id;u.name=n.$parent.selectedItems[0].name,u.description=n.$parent.selectedItems[0].description,n.update_sg(d,u)}else u.name=e.sg_name.$modelValue,u.description=e.sg_desc.$modelValue,n.create_sg(u)}}}}]),app_directives.directive("updateSnapshot",["SnapshotPool","EventCenter",function(e,t){return{restrict:"E",replace:!0,scope:{updateSnapshotShown:"="},templateUrl:"/static/js/templates/project/snapshot/update_snapshot.html",link:function(e){e.update_snapshot=function(){var n={name:e.snapshot_name,is_public:!1,disk_format:e.disk_format,container_format:e.container_format};t.trigger("snapshot:update",e.$parent.selectedItems[0].id,n),e.close_update_snapshot()},e.close_update_snapshot=function(){e.updateSnapshotShown=!1},e.$on("update_snapshot_shown",function(){var t=e.$parent.selectedItems[0];e.snapshot_name=t.name,e.kernel_id=t.properties.kernel_id,e.ramdisk_id=t.properties.ramdisk_id,e.architecture=t.properties.architecture,e.container_format=t.container_format,e.disk_format=t.disk_format})}}}]),app_directives.directive("swiftList",["EventCenter",function(e){return{restrict:"E",scope:!0,replace:!0,template:'<div class="swift-list"><div class="swift-list-paths"><span class="swift-list-path" ng-repeate="path in paths">{{path.name}}</span></div><div class="swift-list-grid" ng-grid="{data:"files"}"></div></div>',link:function(t,n,o){"swift-data-name"in o&&!(!attrs["swift-data-name"]in t.$parent)&&(t.files=t.$parent[attrs["swift-data-name"]],t.paths=[],t.changePath=function(t){e.trigger("swift:changePath",t)},t.createFolder=function(){},t.uploadFile=function(){})}}}]),app_directives.directive("createUserModal",["ProjectPool","UserPool","EventCenter",function(e,t,n){return{restrict:"E",replace:!0,scope:{modalShown:"=",isEdit:"=",selectedItems:"="},templateUrl:"/static/js/templates/admin/user/create_user.html",link:function(t){t.submit=function(){var e={name:t.name,email:t.email,password:t.password,project_uuid:t.project_uuid,enabled:t.enabled};t.isEdit?n.trigger("user:update",t.$parent.selectedItems[0].id,e):n.trigger("user:create",e),t.close_modal()},t.$watch("modalShown",function(n){n&&(t.project_list=e.fetch(function(e){return t.project_uuid=e[0].id,e}))}),t.close_modal=function(){t.modalShown=!1},t.can_submit=function(){return t.updateSg||sg_form.sg_name&&sg_form.sg_desc&&sg_form.sg_name.$valid&&sg_form.sg_desc.$valid},t.$watch("modalShown",function(){if(t.modalShown){var e=t.isEdit,n=t.$parent.selectedItems[0];t.name=e?n.name:"",t.email=e?n.email:"",t.password="",t.confirm_password="",t.project_uuid=e?0:0,t.enabled=e?n.enabled:!0,$("#input_name").attr({"name-valid-except":t.name}),e&&$("#create_user_form .help-inline").hide()}})}}}]).directive("nameValid",["UserPool",function(e){return{restrict:"A",require:"ngModel",link:function(t,n,o,a){t.users=e.fetch(),console.log(t.users),a.$parsers.unshift(function(e){for(var n=!1,o=0;t.users.length>o;o++)if(t.users[o].name.toLowerCase()===e.toLowerCase()){n=!0;break}var i=$("#input_name").attr("name-valid-except");return i||(i=""),e.toLowerCase()==i.toLowerCase()&&(n=!1),a.$setValidity("repeated",!n),n||a.$setValidity("required",!0),e})}}}]).directive("sameAsValid",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,o){e.sameAs=n.sameAs,o.$parsers.unshift(function(t){var a=$(e.sameAs).val()==t;return n.sameAsValidOff&&(a=!1),o.$setValidity("same_as_valid",a),t})}}}).directive("emailFormatValid",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,o){o.$parsers.unshift(function(e){return o.$setValidity("email_format_valid",""==e||/.@./.test(e)),e})}}}).directive("lengthLimitValid",function(){return{restrict:"A",require:"ngModel",link:function(e,t,n,o){o.$parsers.unshift(function(e){return void 0!==n.lengthMin&&o.$setValidity("too_short",0==e.length||e.length>=n.lengthMin),void 0!==n.lengthMax&&o.$setValidity("too_long",e.length<=n.lengthMax),e}),void 0!==e.lengthMin&&o.$setValidity("too_short",!1)}}}),app_directives.directive("createVt",["EventCenter",function(e){return{restrict:"E",replace:!0,scope:{modalShown:"="},templateUrl:"/static/js/templates/admin/volume/create_vt.html",link:function(t){t.closeModal=function(){t.modalShown=!1},t.submit=function(){e.trigger("volume_type:create",{name:t.name}),t.closeModal()}}}}]).directive("vtExist",["VolumeTypePool",function(e){return{restrict:"A",require:"ngModel",link:function(t,n,o,a){t.vt_name_valid=function(t){var n=e.fetch(function(e){for(var n=0;e.length>n;n++)if(e[n].name==t)return!1;return!0});return n},a.$parsers.unshift(function(e){return t.vt_name_valid(e)?(a.$setValidity("vt_exit",!0),e):(a.$setValidity("vt_exit",!1),e)})}}}]).directive("createVolume",["redirect","VolumePool","VolumeTypePool","VolumeSnapshotPool","form_valid","EventCenter",function(redirect,VolumePool,VolumeTypePool,VolumeSnapshotPool,form_valid,EventCenter){return{restrict:"E",replace:!0,scope:{modalShown:"=",createFromSnapshot:"@"},templateUrl:"/static/js/templates/project/volume/create_volume.html",link:function(scope,elem,attr){scope.closeModal=function(){scope.modalShown=!1},VolumePool.fetch(),scope.submit=function(){var e={name:scope.name,description:scope.description,volume_type:scope.volume_type,size:scope.size};scope._createFromSnapshot&&(e.snapshot_id=scope.snapshot_id),EventCenter.trigger("volume:create",e),scope.closeModal(),scope._createFromSnapshot&&redirect("/app/volume")},scope.volume_types=VolumeTypePool.fetch(),scope.form_invalid=function(){return void 0===scope.volume_type?!0:!1},scope._createFromSnapshot=eval(attr.createFromSnapshot||!1),scope.$watch("modalShown",function(e){e&&scope.createFromSnapshot&&(scope.volume_snapshots=[],VolumeSnapshotPool.fetch(function(e){angular.forEach(e,function(e){e.id==scope.$parent.selectedItems[0].id&&(this.push({id:e.id,name:e.name+"("+e.size+"GB)"}),scope.snapshot_id=e.id)},scope.volume_snapshots)}))})}}}]).directive("editAttachment",["InstancePool","EventCenter",function(e,t){return{restrict:"E",replace:!0,scope:{modalShown:"="},templateUrl:"/static/js/templates/project/volume/edit_attachment.html",link:function(n){n.closeModal=function(){n.modalShown=!1},n.form_invalid=function(){return void 0===n.instance_id?!0:!1},n.submit=function(){var e=n.$parent.selectedItems[0].id,o={action:"attach",instance_id:n.instance_id,device:n.device,id:e};t.trigger("volume:attach",e,o),n.closeModal()},n.$watch("modalShown",function(t){t&&e.fetch(function(e){n.instance_list=e})})}}}]).directive("editDetachment",["EventCenter",function(e){return{restrict:"E",replace:!0,scope:{modalShown:"="},templateUrl:"/static/js/templates/project/volume/edit_detachment.html",link:function(t){t.closeModal=function(){t.modalShown=!1},t.submit=function(){var n=t.$parent.selectedItems[0],o={action:"detach",instance_id:n.attachments[0].server_id,id:n.id};e.trigger("volume:detach",n.id,o),t.closeModal()},t.$watch("modalShown",function(e){if(e){var n=t.$parent.selectedItems[0].attachments[0];t.instance_name=n.instance_name,t.device=n.device}})}}}]).directive("createVolumeSnapshot",["redirect","VolumeSnapshotPool","EventCenter",function(e,t,n){return{restrict:"E",replace:!0,scope:{modalShown:"="},templateUrl:"/static/js/templates/project/volume/create_volume_snapshot.html",link:function(e){t.fetch(),e.closeModal=function(){e.modalShown=!1},e.submit=function(){var t={volume_id:e.$parent.selectedItems[0].id,name:e.name,description:e.description};n.trigger("volume_snapshot:create",t),e.closeModal()}}}}]);var app_module=angular.module("App",["ui","ngCookies","bootstrap","anGrid","RestService","RestServiceV2","CommonService","AppService","AppFilter","AppDirectives"]).value("ui.config",{jq:{tooltip:{placement:"right"},popover:{trigger:"hover",placement:"bottom"}}}).config(["$routeProvider","$locationProvider",function(e,t){e.when("/app/test",{templateUrl:"/static/js/templates/test.html",controller:"TestCtrl"}).when("/app/overview",{templateUrl:"/static/js/templates/project/overview/index.html",controller:"user.OverviewCtrl"}).when("/app/instance",{templateUrl:"/static/js/templates/project/instance/index.html",controller:"user.InstanceCtrl"}).when("/app/volume",{templateUrl:"/static/js/templates/project/volume/index.html",controller:"user.VolumeCtrl"}).when("/app/volume_snapshot",{templateUrl:"/static/js/templates/project/volume/snapshot.html",controller:"user.VolumeSnapshotCtrl"}).when("/app/image",{templateUrl:"/static/js/templates/project/image/index.html",controller:"user.ImageCtrl"}).when("/app/snapshot",{templateUrl:"/static/js/templates/project/snapshot/index.html",controller:"user.SnapshotCtrl"}).when("/app/security_group",{templateUrl:"/static/js/templates/project/security_group/index.html",controller:"user.SgCtrl"}).when("/app/keypair",{templateUrl:"/static/js/templates/project/keypair/index.html",controller:"user.KeypairCtrl"}).when("/app/floating_ip",{templateUrl:"/static/js/templates/project/floating_ip/index.html",controller:"user.FloatingIpCtrl"}).when("/app/load_balancer",{templateUrl:"/static/js/templates/project/load_balancer/index.html",controller:"user.LBCtrl"}).when("/app/monitor",{templateUrl:"/static/js/templates/project/monitor/index.html",controller:"user.MonitorCtrl"}).when("/app/billing",{templateUrl:"/static/js/templates/project/billing/index.html",controller:"user.BillingCtrl"}).when("/app/balance",{templateUrl:"/static/js/templates/project/balance/index.html",controller:"user.BalanceCtrl"}).when("/app/admin_overview",{templateUrl:"/static/js/templates/admin/overview/index.html",controller:"admin.OverviewCtrl"}).when("/app/admin_instance",{templateUrl:"/static/js/templates/admin/instance/index.html",controller:"user.InstanceCtrl"}).when("/app/admin_volume",{templateUrl:"/static/js/templates/admin/volume/index.html",controller:"admin.VolumeCtrl"}).when("/app/admin_service",{templateUrl:"/static/js/templates/admin/service/index.html",controller:"admin.ServiceCtrl"}).when("/app/admin_flavor",{templateUrl:"/static/js/templates/admin/flavor/index.html",controller:"admin.FlavorCtrl"}).when("/app/admin_image",{templateUrl:"/static/js/templates/admin/image/index.html",controller:"admin.ImageCtrl"}).when("/app/admin_project",{templateUrl:"/static/js/templates/admin/project/index.html",controller:"admin.ProjectCtrl"}).when("/app/admin_user",{templateUrl:"/static/js/templates/admin/user/index.html",controller:"admin.UserCtrl"}).when("/app/admin_quota",{templateUrl:"/static/js/templates/admin/quota/index.html",controller:"admin.QuotaCtrl"}).when("/app/admin_coupon",{templateUrl:"/static/js/templates/admin/coupon/index.html",controller:"admin.CouponCtrl"}).when("/app/admin_apply_code",{templateUrl:"/static/js/templates/admin/apply_code/index.html",controller:"admin.ApplyCodeCtrl"}).otherwise({redirectTo:"/app/overview"}),t.html5Mode(!0)}]);app_module.controller("AppCtrl",["$window","$filter","$timeout","$scope","$rootScope","$location","$cookies","PanelGroupsResource","RegionsResource","LocaleSetting",function(e,t,n,o,a,i,r,c,s,l){var u=t("i18n");o.user_console="true"==r.user_console?"false":"true",o.logout=function(){e.location.href="/accounts/logout/"},o.products=[],o.regions=[],o.services=[],o.user_info=[{name:r.username||"User",link:"#"},{name:"Logout",link:"/accounts/logout/",callback:o.logout}];var d=function(){l.set(this.lang)};o.lang=[{name:u("Language")},{name:"简体中文",lang:"zh_CN",callback:d},{name:"English",lang:"en_US",callback:d}],o.help_links=[{name:"Document",link:"#"}];var p=function(e){for(var t=i.path().substring(5),n=0;e.length>n;n++)for(var a=e[n].panels,r=0;a.length>r;r++){var c=a[r];c.name==t&&(o.selected_panel=c.name)}};o.panel_groups=c.query(function(e){for(var t=0;e.length>t;t++){var n=e[t],a="/app/"+n.panels[0].name;o.products.push({name:n.name,link:a})}p(e)}),s.list_resource.fetch({},function(e){for(var t=function(e){return function(){location.href=location.origin+"/app/region_change/"+"?endpoint="+e.link+"&region_name="+e.name}},n=0;e.length>n;n++)e[n].callback=t(e[n]);for(var a=null,i=0;e.length>i;i++){var r=e[i];if(r.current){a=r,e.splice(i,1);break}}e.unshift(a),o.regions=e}),o.toggle_user_admin_console=function(){document.cookie="true"==r.user_console?"user_console=false; path=/":"user_console=true; path=/",e.location.reload()},a.$on("$routeChangeStart",function(){if(void 0!==e.ajax_list){for(var t=0;e.ajax_list.length>t;t++)n.cancel(e.ajax_list[t]);e.ajax_list=[]}}),a.$on("$routeChangeSuccess",function(){i.path().substring(5),o.services=[],0!==o.panel_groups.length&&p(o.panel_groups)})}]),app_module.controller("TestCtrl",["$scope","UiConfigPool","EventCenter",function(e,t,n){t.fetch(function(e){console.log(e)}),e.click=function(){n.trigger("ui_config:save",{a:1,b:2})},e.gridOptions={data:"keypairs",showFilter:!0,showSelectionCheckbox:!0,showColumnMenu:!0,maintainColumnRatios:!0,enableColumnResize:!0,plugins:[new ngGridFlexibleHeightPlugin],selectedItems:e.selectedItems,columnDefs:[{field:"name",displayName:"Name"},{field:"fingerprint",displayName:"Fingerprint"}]}}]),app_module.controller("admin.ApplyCodeCtrl",["$scope","ApplyCodePool","EventCenter",function(e,t,n){e.open_create_ap=function(){e.create_ap_shown=!0},e.open_confirm_dialog=function(){e.confirm_dialog_shown=!0},e.delete_aps=function(){for(var t=0;e.selectedItems.length>t;t++){var o=e.selectedItems[t];n.trigger("apply_code:remove",o.id)}},e.$emit("load_start"),e.apply_codes=t.fetch(function(t){return e.$emit("load_complete"),t}),e.selectedItems=[],e.gridOptions={angridStyle:"th-list",data:"apply_codes",multiSelectWithCheckbox:!0,columnDefs:[{field:"id",displayName:"Code"},{field:"used_by",displayName:"Used by"},{field:"used",displayName:"Used"},{field:"used_at",displayName:"Used At"}],selectedItems:e.selectedItems},e.$on("cache_change:apply_code",function(){e.apply_codes=t.fetch()
})}]),app_module.controller("admin.CouponCtrl",["$scope","CouponCodeResource",function(e,t){e.$emit("load_start"),e.coupons=t.list_resource.fetch({},function(){e.$emit("load_complete")}),e.open_create_coupon=function(){e.create_coupon_shown=!0},e.selectedItems=[],e.gridOptions={angridStyle:"th-list",multiSelectWithCheckbox:!0,data:"coupons",columnDefs:[{field:"code",displayName:"Code"},{field:"sn",displayName:"SN"}],selectedItems:e.selectedItems},e.$watch("gridOptions.selectedItems",function(t){e.selectedItems=t})}]),app_module.controller("admin.FlavorCtrl",["$scope","is_dough_enabled","FlavorPool","EventCenter","$filter",function(e,t,n,o){e.open_create_flavor=function(){e.create_flavor_shown=!0},e.open_confirm_dialog=function(){e.confirm_dialog_shown=!0},e.delete_flavors=function(){for(var t=0;e.selectedItems.length>t;t++){var n=e.selectedItems[t];o.trigger("flavor:remove",n.id)}},e.$emit("load_start"),e.flavors=n.fetch(function(t){return e.$emit("load_complete"),t});var a=[{field:"name",displayName:"Name"},{field:"vcpus",displayName:"Cores"},{field:"ram",displayName:"Ram",columnFilter:"mb_format"},{field:"disk",displayName:"Root Disk",columnFilter:"gb_format"},{field:"ephemeral",displayName:"Ephemeral",columnFilter:"gb_format"}];t()&&a.push({field:"product_info",displayName:"Monthly Price",columnFilter:"month_price"},{field:"product_info",displayName:"Hourly Price",columnFilter:"hour_price"}),e.selectedItems=[],e.gridOptions={angridStyle:"th-list",multiSelectWithCheckbox:!0,data:"flavors",columnDefs:a,selectedItems:e.selectedItems},e.$watch("gridOptions.selectedItems",function(t){e.selectedItems=t}),e.$on("cache_change:flavor",function(){e.flavors=n.fetch()})}]),app_module.controller("admin.ImageCtrl",["$scope","ImagePool","EventCenter",function(e,t,n){e.$emit("load_start"),e.images=t.fetch(function(t){return e.$emit("load_complete"),t}),e.open_confirm_dialog=function(){e.confirm_dialog_shown=!0,e.displayItem},e.open_create_image=function(){e.create_image_shown=!0},e.delete_images=function(){for(var t=0;e.selectedItems.length>t;t++){var o=e.selectedItems[t];n.trigger("image:remove",o.id)}},e.selectedItems=[],e.gridOptions={angridStyle:"th-list",multiSelectWithCheckbox:!0,data:"images",columnDefs:[{field:"name",displayName:"Name"},{field:"status",displayName:"Status",columnFilter:"image_status_filter"},{field:"is_public",displayName:"Public"},{field:"container_format",displayName:"Container Format"}],selectedItems:e.selectedItems},e.$watch("gridOptions.selectedItems",function(t){e.selectedItems=t,0!=e.selectedItems.length&&(e.displayItem=e.selectedItems[0])}),e.$on("cache_change:image",function(){e.images=t.fetch()})}]),app_module.controller("admin.OverviewCtrl",["$scope","$location","is_kanyun_enabled","AdminNodesResource",function(e,t,n,o){n()||t.path("/app/admin_instance"),e.$emit("load_start"),e.node_list=o.list_resource.fetch({from_cache:1},function(){e.$emit("load_complete")}),e.selectedItems=[],e.gridOptions={angridStyle:"th",data:"node_list",multiSelectWithCheckbox:!0,columnDefs:[{field:"hostname",displayName:"Host Name",cssClass:"col1"},{field:"cpu",displayName:"CPU",cssClass:"col2"},{field:"mem",displayName:"Memory",cssClass:"col3"},{field:"disk",displayName:"Disk Capacity",cssClass:"col4"}],selectedItems:e.selectedItems},e.$watch("gridOptions.selectedItems",function(t){e.selectedItems=t}),e.$on("popheight",function(){var t=e.selectedItems[0];o.detail_resource.query({id:t.id,get_vm:!0},function(t){e.vm_list=t}),setTimeout(function(){angular.element("#cpu_usage").scope().render(),angular.element("#mem_usage").scope().render(),angular.element("#disk_usage").scope().render()},2e3)})}]),app_module.controller("admin.ProjectCtrl",["$scope","CouponLogResource","CrashResource","ProjectPool","UserPool","InstancePool","$filter","EventCenter",function(e,t,n,o,a,i,r,c){e.$emit("load_start"),e.projects=o.fetch(function(t){return e.$emit("load_complete"),t}),e.project_users=[],e.quotas={},e.quotas.Instances={raw_limit:3,raw_used:1},e.quotas.Snapshots={raw_limit:30,raw_used:10},e.quotas.vCPU={raw_limit:30,raw_used:10},e.quotas["Security Groups"]={raw_limit:30,raw_used:10},e.quotas.Memory={raw_limit:30,raw_used:10},e.quotas["Key Pairs"]={raw_limit:30,raw_used:10},e.quotas.Disk={raw_limit:30,raw_used:10},e.quotas["Floating IPs"]={raw_limit:30,raw_used:10},e.quotas["Load Balancers"]={raw_limit:30,raw_used:10},e.viewQuotas=r("part_filter")(e.quotas),e.open_create_project=function(){e.create_project_shown=!0},e.open_confirm_dialog=function(){e.confirm_dialog_shown=!0},e.open_edit_project=function(){e.edit_project_shown=!0,e.$broadcast("edit_project_shown")},e.open_manage_user=function(){e.manage_user_shown=!0},e.open_modify_quota=function(){e.modify_quota_shown=!0,e.$broadcast("modify_quota_shown")},e.delete_projects=function(){for(var t=0;e.selectedItems.length>t;t++){var n=e.selectedItems[t];c.trigger("project:remove",n.id)}},e.selectedItems=[],e.gridOptions={angridStyle:"th-list",multiSelectWithCheckbox:!0,data:"projects",columnDefs:[{field:"name",displayName:"Name"},{field:"enabled",displayName:"Enabled"},{field:"description",displayName:"Description"}],selectedItems:e.selectedItems},e.usersGridOptions={angridStyle:"th-list",multiSelectWithCheckbox:!0,data:"project_users",columnDefs:[{field:"id",displayName:"UUID"},{field:"name",displayName:"Name"},{field:"email",displayName:"Email"},{field:"enabled",displayName:"Enabled"}]};var s=(new Date).getFullYear(),l=2011,u=[];e.selected_year=s;for(var d=l;s>=d;d++)u.push(d);e.select_years=u,e.billingGridOptions={angridStyle:"th-list",multiSelectWithCheckbox:!0,data:"crash_log",columnDefs:[{field:"month",displayName:"Month"},{field:"summary",displayName:"Summary"},{field:"instance",displayName:"Instance"},{field:"network",displayName:"Network"},{field:"floating_ip",displayName:"Floating Ip"}],selectedItems:e.selectedItems},e.instancesGridOptions={angridStyle:"th-list",multiSelectWithCheckbox:!0,data:"project_instances",columnDefs:[{field:"image_name",displayName:"OS",width:"5%"},{field:"name",displayName:"Name"},{field:"private_ip",displayName:"Private Ip"},{field:"flavor",displayName:"Flavor",columnFilter:"flavor_filter"},{field:"payment_type",displayName:"Payment Type"},{field:"status",displayName:"Status",columnFilter:"status_filter"},{field:"ssh_domain",displayName:"Public Domain"},{field:"security_groups",displayName:"Security Groups",columnFilter:"sg_filter"},{field:"key_name",displayName:"Key Name"}]},e.$watch("gridOptions.selectedItems",function(o){if(e.selectedItems=o,0!=e.selectedItems.length){e.displayItem=e.selectedItems[0];var r=e.selectedItems[0].id;a.query_no_cache({tenant_id:r},function(t){e.project_users=[];for(var n=0;t.length>n;n++)e.project_users.push(t[n])}),i.query_no_cache({tenant_id:r},function(t){e.project_instances=[];for(var n=0;t.length>n;n++)e.project_instances.push(t[n])}),e.coupon_remaining=t.remaining_resource.get({id:r},function(t){e.coupon_remaining=t.remaining}),e.crash_remaining=n.remaining_resource.get({id:r},function(t){e.crash_remaining=t.remaining}),e.$watch("selected_year",function(t){void 0!==t&&(e.crash_log=n.list_resource.fetch({from_cache:1,year:t,id:r}))})}}),e.$on("cache_change:project",function(){e.projects=o.fetch()})}]),app_module.controller("admin.QuotaCtrl",["$scope","QuotaPool",function(e,t){e.$emit("load_start"),e.quotas=t.fetch(function(t){return e.$emit("load_complete"),t}),e.selectedItems=[],e.gridOptions={angridStyle:"th-list",multiSelectWithCheckbox:!0,data:"quotas",columnDefs:[{field:"name",displayName:"Name"},{field:"limit",displayName:"Limit"}],selectedItems:e.selectedItems},e.$watch("gridOptions.selectedItems",function(t){e.selectedItems=t}),e.$on("cache_change:quota",function(){e.quotas=t.fetch()})}]),app_module.controller("admin.ServiceCtrl",["$scope","ServicePool","$filter",function(e,t){e.$emit("load_start"),e.service_list=t.fetch(function(t){return e.$emit("load_complete"),console.log(t),t}),e.selectedItems=[],e.gridOptions={angridStyle:"th-list",data:"service_list",multiSelectWithCheckbox:!0,columnDefs:[{field:"name",displayName:"Name"},{field:"type",displayName:"Type"},{field:"host",displayName:"Host"},{field:"disabled",displayName:"Disabled"},{field:"region",displayName:"Region"}],selectedItems:e.selectedItems},e.$watch("gridOptions.selectedItems",function(t){e.selectedItems=t})}]),app_module.controller("admin.UserCtrl",["$scope","$filter","UserPool","EventCenter",function(e,t,n,o){e.$emit("load_start"),e.users=n.fetch(function(t){return e.$emit("load_complete"),t}),e.open_create_user=function(){e.is_edit=!1,e.create_user_shown=!0},e.open_confirm_dialog=function(){e.confirm_dialog_shown=!0},e.open_edit_user=function(){e.is_edit=!0,e.create_user_shown=!0},e.delete_users=function(){for(var t=0;e.selectedItems.length>t;t++){var n=e.selectedItems[t];o.trigger("user:remove",n.id)}e.selectedItems.splice(0,e.selectedItems.length)},e.selectedItems=[],e.gridOptions={angridStyle:"th-list",multiSelectWithCheckbox:!0,data:"users",columnDefs:[{field:"name",displayName:"Name"},{field:"email",displayName:"Email"},{field:"enabled",displayName:"Enabled"}],selectedItems:e.selectedItems},e.$watch("gridOptions.selectedItems",function(t){e.selectedItems=t,0!=e.selectedItems.length&&(e.displayItem=e.selectedItems[0])}),e.$on("cache_change:user",function(){e.users=n.fetch()})}]),app_module.controller("admin.VolumeCtrl",["$scope","VolumePool","VolumeTypePool","EventCenter",function(e,t,n,o){e.$emit("load_start"),e.volumes=t.fetch(function(t){return e.$emit("load_complete"),t}),e.selectedItems=[],e.volumegridOptions={angridStyle:"th-list",data:"volumes",multiSelectWithCheckbox:!0,columnDefs:[{field:"tenant_name",displayName:"Project"},{field:"host",displayName:"host"},{field:"name",displayName:"Name"},{field:"size",displayName:"Size"},{field:"abs_status",displayName:"status",columnFilter:"status_icon_filter"},{field:"volume_type",displayName:"Type"},{field:"attachments",displayName:"Attached To",columnFilter:"volume_attach_filter"}],selectedItems:e.selectedItems},e.$watch("volumegridOptions.selectedItems",function(t){e.selectedItems=t}),e.open_confirm_dialog=function(){e.confirm_dialog_shown=!0},e.delete_volumes=function(){angular.forEach(e.selectedItems,function(e){o.trigger("volume:remove",e.id)})},e.volume_types=n.fetch(),e.selectedVT=[],e.volumeTypeGridOptions={angridStyle:"th-list",data:"volume_types",multiSelectWithCheckbox:!0,columnDefs:[{field:"name",displayName:"Name"}],selectedItems:e.selectedVT},e.$watch("volumeTypeGridOptions.selectedItems",function(t){e.selectedVT=t}),e.open_confirm_dialog2=function(){e.confirm_dialog_shown2=!0},e.delete_volume_types=function(){for(var t=0;e.selectedVT.length>t;t++)o.trigger("volume_type:remove",e.selectedVT[t].id)},e.create_vt=function(){e.create_vt_shown=!0},e.$on("cache_change:volume_type",function(){e.volume_types=n.fetch()}),e.$on("cache_change:volume",function(){e.volumes=t.fetch()})}]),app_module.controller("user.BalanceCtrl",["$scope","CrashResource","CouponLogResource",function(e,t,n){var o=(new Date).getFullYear(),a=2011,i=[];e.selected_year=o;for(var r=a;o>=r;r++)i.push(r);e.select_years=i,t.remaining_resource.get(function(t){e.crash_remaining=t.remaining}),n.remaining_resource.get(function(t){e.coupon_remaining=t.remaining}),e.open_load_coupon=function(){e.load_coupon_shown=!0},e.gridOptions={angridStyle:"th-list",data:"coupon_log",columnDefs:[{field:"date",displayName:"Date"},{field:"sn",displayName:"SN"},{field:"value",displayName:"Coupon Value"}]},e.$watch("selected_year",function(t){void 0!==t&&(e.$emit("load_start"),n.list_resource.fetch({year:t},function(t){e.coupon_log=t,e.$emit("load_complete")}))})}]),app_module.controller("user.BillingCtrl",["$scope","CrashResource",function(e,t){var n=(new Date).getFullYear(),o=2011,a=[];e.selected_year=n;for(var i=o;n>=i;i++)a.push(i);e.select_years=a,e.$watch("selected_year",function(n){void 0!==n&&(e.$emit("load_start"),e.crash_log=t.list_resource.fetch({from_cache:1,year:n},function(){e.$emit("load_complete")}))}),e.selectedItems=[],e.gridOptions={angridStyle:"th-list",multiSelectWithCheckbox:!0,data:"crash_log",columnDefs:[{field:"month",displayName:"Month"},{field:"summary",displayName:"Summary"},{field:"instance",displayName:"Instance"},{field:"network",displayName:"Network"},{field:"floating_ip",displayName:"Floating Ip"}],selectedItems:e.selectedItems},e.$watch("gridOptions.selectedItems",function(n){if(e.selectedItems=n,void 0!==n&&1==e.selectedItems.length){var o=e.selectedItems[0].month,a=e.selected_year;t.detail_resource.query({id:a+"-"+o},function(t){e.billing_detail=t})}}),e.detailGridOptions={angridStyle:"th-list",data:"billing_detail",columnDefs:[{field:"resource_name",displayName:"Resource Name"},{field:"resource_type",displayName:"Resource type"},{field:"price",displayName:"Price"},{field:"time_from",displayName:"Start Time"},{field:"time_to",displayName:"End Time"},{field:"money_cost",displayName:"Crash Cost"},{field:"coupon_cost",displayName:"Coupon Cost"},{field:"total_cost",displayName:"Sum"}]}}]),app_module.controller("user.FloatingIpCtrl",["$scope","FloatingIpPool","EventCenter",function(e,t,n){e.$emit("load_start"),e.floating_ips=t.fetch(function(t){return e.$emit("load_complete"),t}),e.open_allocate_ip=function(){e.allocate_ip_shown=!0},e.open_associate_ip=function(){e.associate_ip_shown=!0,e.$broadcast("associate_ip_shown")},e.open_confirm_dialog=function(){e.confirm_dialog_shown=!0},e.open_disassociate_ip=function(){e.disassociate_ip_shown=!0},e.release_ip=function(){for(var t=0;e.selectedItems.length>t;t++){var o=e.selectedItems[t];n.trigger("floating_ip:release",o.id)}e.selectedItems.splice(0,e.selectedItems.length)},e.disassociate_ip=function(){var t=e.selectedItems[0],o={action:"disassociate",instance_uuid:t.instance_id};n.trigger("floating_ip:disassociate",t.id,o)},e.selectedItems=[],e.gridOptions={angridStyle:"th-list",multiSelectWithCheckbox:!0,data:"floating_ips",columnDefs:[{field:"ip",displayName:"IP"},{field:"instance_id",displayName:"Instance Id"},{field:"pool",displayName:"Pool"}],selectedItems:e.selectedItems},e.$watch("gridOptions.selectedItems",function(t){e.selectedItems=t}),e.$on("cache_change:floating_ip",function(){e.floating_ips=t.fetch()})}]),app_module.controller("user.ImageCtrl",["$scope","ImagePool",function(e,t){e.$emit("load_start"),e.images=t.fetch(function(t){return e.$emit("load_complete"),t}),e.open_launch_instance=function(){return 0==e.selectedItems.length?!1:(e.launch_instance_shown=!0,e.$broadcast("launch_instance_with_image",{id:e.selectedItems[0].id}),void 0)},e.selectedItems=[],e.gridOptions={angridStyle:"th-list",data:"images",multiSelectWithCheckbox:!0,columnDefs:[{field:"name",displayName:"Name"},{field:"abs_status",displayName:"Status"},{field:"is_public",displayName:"Public"},{field:"container_format",displayName:"Container Format"}],selectedItems:e.selectedItems},e.gridOptions.columnDefs[1].columnTemplate='<icon keysource="rowData[colData.field]" region="status" ></icon>',e.$watch("gridOptions.selectedItems",function(t){e.selectedItems=t,0!=e.selectedItems.length&&(e.displayItem=e.selectedItems[0])})}]),app_module.controller("user.InstanceCtrl",["$scope","$filter","ApiList","InstancePool","FlavorsResource","combine_instance_flavor","is_dough_enabled","is_loadbalance_enabled","is_kanyun_enabled","EventCenter",function(e,t,n,o,a,i,r,c,s,l){e.$emit("load_start"),e.instances=o.fetch(function(t){return e.$emit("load_complete"),t}),e.launch_instance_shown=!1,e.connect_instance_shown=!1,e.open_launch_instance=function(){e.launch_instance_shown=!0},e.open_connect_instance=function(){e.connect_instance_shown=!0},e.open_edit_instance=function(){e.edit_instance_shown=!0},e.open_console_output=function(){window.open(n.get("instance","console")+e.selectedItems[0].id)},e.open_take_snapshot=function(){e.take_snapshot_shown=!0},e.open_confirm_dialog=function(){e.confirm_dialog_shown=!0},e.delete_instances=function(){angular.forEach(e.selectedItems,function(e){l.trigger("instance:remove",e.id)})},e.action_on_instance=function(t){var n,o=t.type,a=e.selectedItems[0];"toggle_pause"==o?n="paused"==a.status?{action:"unpause"}:{action:"pause"}:"toggle_suspend"==o?n="suspended"==a.status?{action:"resume"}:{action:"suspend"}:"reboot"==o?n={action:"reboot"}:"toggle_stop"==o&&(n="shutoff"==a.status?{action:"start"}:{action:"stop"}),angular.forEach(e.selectedItems,function(e){n.id=e.id,l.trigger("instance:action_on_instance",e.id,n)})},e.check_action_disabled=function(t){var n=t.type;if(0===e.selectedItems.length)return!0;var o=e.selectedItems[0];if(-1!=["building","deleting","transition","error"].indexOf(o.abs_status))return!0;if("reboot"==n)return!1;if(1!=e.selectedItems.length)return!0;if("take_snapshot"==n||"view_log"==n){if("active"!==o.status)return!0}else if("toggle_pause"==n){if(-1==["paused","active"].indexOf(o.status))return!0}else if("toggle_suspend"==n){if(-1==["suspended","active"].indexOf(o.status))return!0}else if("toggle_stop"==n&&-1==["shutoff","active"].indexOf(o.status))return!0;return!1};var u={anGridCopyFn:"copy_text",anGridCopyClass:"ZeroClipboardBtn",anGridCopyInitFn:"copy_init"},d=[{field:"name",displayName:"Name"},{field:"private_ip",displayName:"Private Ip"},{field:"abs_status",displayName:"Status",columnFilter:"status_icon_filter"},{field:"flavor",displayName:"Flavor",columnFilter:"flavor_filter"},{field:"image",displayName:"OS",columnFilter:"distri_filter"},{field:"security_groups",displayName:"Security Groups",columnFilter:"sg_filter"}];c()&&d.push({field:"ssh_domain",displayName:"Public Domain"}),e.selectedItems=[],e.gridOptions={angridStyle:"th-list",multiSelectWithCheckbox:!0,data:"instances",columnDefs:d,selectedItems:e.selectedItems},e[u.anGridCopyInitFn]=function(){window.setTimeout(function(){var e=angular.element("."+u.anGridCopyClass);0!=e.length&&e.each(function(){var e=new ZeroClipboard;e.on("mousedown",function(){angular.element(this).scope(),e.setText(angular.element(this).scope().rowData.ssh_domain),angular.element(this).click()}),e.on("complete",function(e,n){console.log(n.text),alert(t("i18n")("Copy Success"))}),e.glue(angular.element(this))})})},e[u.anGridCopyFn]=function(e){e.stopPropagation()},e.$watch("gridOptions.selectedItems",function(t){e.selectedItems=t,0!=e.selectedItems.length&&(e.displayItem=e.selectedItems[0],e.selected_uuid=e.selectedItems[0].id)}),e.time_ranges=[{value:60,name:"1 hour"},{value:360,name:"6 hours"},{value:1440,name:"1 day"},{value:10080,name:"1 week"}],e.time_range=e.time_ranges[1].value,e.time_periods=[{value:1,name:"1 min"},{value:5,name:"5 mins"},{value:60,name:"60 mins"},{value:360,name:"6 hours"}],e.time_period=e.time_periods[1].value,e.$on("popheight",function(){s()&&(setTimeout(function(){angular.element($("#cpu_chart")).scope().render()},2e3),setTimeout(function(){angular.element($("#blk_read_chart")).scope().render()},2e3),setTimeout(function(){angular.element($("#blk_write_chart")).scope().render()},2e3),setTimeout(function(){angular.element($("#vmnetwork_chart")).scope().render()},2e3),setTimeout(function(){angular.element($("#nic_incoming_chart")).scope().render()},2e3),setTimeout(function(){angular.element($("#nic_outgoing_chart")).scope().render()},2e3))}),e.$on("cache_change:instance",function(){e.instances=o.fetch()})}]),app_module.controller("user.KeypairCtrl",["$scope","KeypairPool","EventCenter",function(e,t,n){e.keypair_modal_shown=!1,e.open_create_keypair_modal=function(){e.keypair_modal_shown=!0,e.import_keypair=!1},e.open_import_keypair_modal=function(){e.keypair_modal_shown=!0,e.import_keypair=!0},e.open_confirm_dialog=function(){e.confirm_dialog_shown=!0},e.delete_keypairs=function(){for(var t=0;e.selectedItems.length>t;t++){var o=e.selectedItems[t];n.trigger("keypair:remove",o.id)}e.selectedItems.splice(0,e.selectedItems.length)},e.$emit("load_start"),e.keypairs=t.fetch(function(t){return e.$emit("load_complete"),t}),e.selectedItems=[],e.gridOptions={angridStyle:"th-list",multiSelectWithCheckbox:!0,data:"keypairs",columnDefs:[{field:"name",displayName:"Name"},{field:"fingerprint",displayName:"Fingerprint"}],selectedItems:e.selectedItems},e.$watch("gridOptions.selectedItems",function(t){e.selectedItems=t}),e.$on("cache_change:keypair",function(){e.keypairs=t.fetch()})}]),app_module.controller("user.LBCtrl",["$scope","LBPool","EventCenter",function(e,t,n){e.open_create_loadbalaner_modal=function(){e.load_balancer_modal_shown=!0,e.edit_load_balancer=!1},e.open_edit_loadbalaner_modal=function(){e.load_balancer_modal_shown=!0,e.edit_load_balancer=!0},e.close_loadbalancer_modal=function(){e.load_balancer_modal_shown=!1},e.open_confirm_dialog=function(){e.confirm_dialog_shown=!0},e.delete_loadbalancer=function(){for(var t=0;e.selectedItems.length>t;t++){var o=e.selectedItems[t];n.trigger("load_balancer:remove",o.id)}},e.$emit("load_start"),e.load_balancers=t.fetch(function(t){return e.$emit("load_complete"),t}),e.selectedItems=[],e.gridOptions={angridStyle:"th-list",multiSelectWithCheckbox:!0,data:"load_balancers",columnDefs:[{field:"name",displayName:"Name"},{field:"abs_status",displayName:"Status",columnFilter:"status_icon_filter"},{field:"protocol",displayName:"Protocol"},{field:"listen_port",displayName:"Listen Port"},{field:"instance_port",displayName:"Instance Port"},{field:"dns_names",displayName:"DNS Domain"}],selectedItems:e.selectedItems},e.$watch("gridOptions.selectedItems",function(t){e.selectedItems=t}),e.$on("cache_change:load_balancer",function(){e.load_balancers=t.fetch()})}]),app_module.controller("user.MonitorCtrl",["$scope","InstancesResource","$filter",function(e,t,n){window.monitor={options:{},unit_map:{cpu:"%",blk_read:"bytes",blk_write:"bytes",nic_outgoing:"bytes",nic_incoming:"bytes",vmnetwork:"bytes"}},e.cpuSourceList=[{value:"demo_CPU"},{value:"default"}],e.products=[{name:"all",type:"all"},{name:"compute",type:"compute"}],e.display_product=e.products[0].type,e.metrics=[{name:"cpu",type:"cpu"},{name:"blk read",type:"blk_read"},{name:"blk write",type:"blk_write"},{name:"vmnetwork",type:"vmnetwork"},{name:"nic incoming",type:"nic_incoming"},{name:"nic outgoing",type:"nic_outgoing"}],e.display_metric=e.metrics[0].type,e.monitor_items=[],e.data_load=!1,e.$emit("load_start"),t.list_resource.fetch({},function(t){e.$emit("load_complete");for(var n=0;t.length>n;n++){var o=t[n];e.monitor_items.push({resource_name:o.name,metrics:e.metrics.map(function(e){return"all"==e.type?null:e.type}),id:o.id})}e.all_monitor_items=e.monitor_items,e.data_load=!0}),e.gridOptions={angridStyle:"th-list",multiSelectWithCheckbox:!0,data:"monitor_items",columnDefs:[{field:"resource_name",displayName:"Resource"},{field:"metrics",displayName:"Metrics",columnTemplete:n("moniter_metrics_format")()}],selectedItems:e.selectedItems},e.statistic_methods=["avg","sum","max","min"],e.statistic_method=e.statistic_methods[0],e.time_ranges=[60,360,1440,10080],e.time_range=e.time_ranges[0],e.time_periods=[1,5,60,360],e.time_period=e.time_periods[1],e.$on("metric selected",function(t,n,o){e.selectedItems=[n],e.selected_uuid=n.id,e.current_metric=o,window.monitor.options.id=n.id,window.monitor.options.metric=o,window.monitor.options.unit=window.monitor.unit_map[o]})}]),app_module.controller("user.OverviewCtrl",["$scope","$filter","$cookies","init_quotas","get_instance_quotas","combine_instance_flavor","is_loadbalance_enabled","QuotaPool","FlavorPool","InstancePool","VolumePool","SgPool","KeypairPool","FloatingIpPool","SnapshotPool","LBPool","ProjectUsagePool",function(e,t,n,o,a,i,r,c,s,l,u,d,p,m,f,_,h){var g=["instances","cores","gigabytes","ram","floating_ips","key_pairs","snapshots","security_groups"];r()&&g.push("load_balancers"),e.open_launch_instance=function(){e.launch_instance_shown=!0},c.fetch(function(i){e.quotas=o(g,i),s.fetch(function(t){e.flavors=t,l.fetch(function(t){h.get({id:n.project_id},function(n){var o=[];angular.forEach(t,function(e){var t=n.server_usages[e.id];e.uptime=t.uptime,e.memory_mb=t.memory_mb,e.hours=t.hours,e.vcpus=t.vcpus,e.local_gb=t.local_gb,this.push(e)},o),e.instances=o}),e.quotas=a(e.quotas,t)})}),u.fetch(function(n){var o=0;t("gb_format");for(var a=0;n.length>a;a++)o+=n[a].size;e.quotas.gigabytes.raw_used=o}),d.fetch(function(t){e.quotas.security_groups.raw_used=t.length}),p.fetch(function(t){e.quotas.key_pairs.raw_used=t.length}),m.fetch(function(t){e.quotas.floating_ips.raw_used=t.length}),f.fetch(function(t){e.quotas.snapshots.raw_used=t.length}),r()&&_.fetch(function(t){e.quotas.load_balancers.raw_used=t.length})}),e.$on("cache_change:instance",function(){e.instances=l.fetch()})}]),app_module.controller("user.SgCtrl",["$scope","SgPool","EventCenter",function(e,t,n){e.sg_modal_shown=!1,e.open_create_sg_modal=function(){e.sg_modal_shown=!0,e.update_sg=!1},e.open_update_sg_modal=function(){e.sg_modal_shown=!0,e.update_sg=!0},e.open_confirm_dialog=function(){e.confirm_dialog_shown=!0},e.delete_group=function(){for(var t=0;e.selectedItems.length>t;t++){var o=e.selectedItems[t];n.trigger("sg:remove",o.id)}e.selectedItems.splice(0,e.selectedItems.length)},e.$emit("load_start"),e.security_groups=t.fetch(function(t){return e.$emit("load_complete"),t}),e.selectedItems=[],e.gridOptions={angridStyle:"th-list",multiSelectWithCheckbox:!0,data:"security_groups",columnDefs:[{field:"name",displayName:"Name"},{field:"description",displayName:"Description"}],selectedItems:e.selectedItems},e.$watch("gridOptions.selectedItems",function(t){e.selectedItems=t}),e.$on("cache_change:sg",function(){e.security_groups=t.fetch()})}]),app_module.controller("user.SnapshotCtrl",["$scope","SnapshotPool","EventCenter",function(e,t,n){e.$emit("load_start"),e.snapshots=t.fetch(function(t){return e.$emit("load_complete"),t}),e.open_launch_instance=function(){e.launch_instance_shown=!0,e.$broadcast("launch_instance_with_snapshot",{id:e.selectedItems[0].id})},e.open_confirm_dialog=function(){e.confirm_dialog_shown=!0},e.delete_snapshots=function(){for(var t=0;e.selectedItems.length>t;t++)n.trigger("snapshot:remove",e.selectedItems[t].id)},e.update_snapshot=function(){e.update_snapshot_shown=!0,e.$broadcast("update_snapshot_shown")},e.selectedItems=[],e.gridOptions={angridStyle:"th-list",multiSelectWithCheckbox:!0,data:"snapshots",columnDefs:[{field:"name",displayName:"Name"},{field:"abs_status",displayName:"Status",columnFilter:"status_icon_filter"},{field:"is_public",displayName:"Public"},{field:"container_format",displayName:"Container Format"}],selectedItems:e.selectedItems},e.gridOptions.columnDefs[1].columnTemplate='<icon keysource="rowData[colData.field]" region="status" ></icon>',e.$watch("gridOptions.selectedItems",function(t){e.selectedItems=t,0!=e.selectedItems.length&&(e.displayItem=e.selectedItems[0])}),e.displayItem={},e.$on("cache_change:snapshot",function(){e.snapshots=t.fetch()})}]),app_module.controller("user.VolumeCtrl",["$scope","InstancePool","VolumePool","EventCenter",function(e,t,n,o){e.$emit("load_start"),t.fetch(),e.volumes=n.fetch(function(t){return e.$emit("load_complete"),t}),e.selectedItems=[],e.gridOptions={angridStyle:"th-list",data:"volumes",multiSelectWithCheckbox:!0,columnDefs:[{field:"name",displayName:"Name"},{field:"description",displayName:"Description"},{field:"size",displayName:"Size"},{field:"abs_status",displayName:"Status",columnFilter:"status_icon_filter"},{field:"volume_type",displayName:"Type"},{field:"attachments",displayName:"Attached To",columnFilter:"volume_attach_filter"}],selectedItems:e.selectedItems},e.$watch("gridOptions.selectedItems",function(t){e.selectedItems=t}),e.open_create_volume_modal=function(){e.create_volume_shown=!0},e.open_confirm_dialog=function(){e.confirm_dialog_shown=!0},e.open_edit_attachment_modal=function(){var t=e.selectedItems[0];0==t.attachments.length?e.edit_attachment_shown=!0:e.edit_detachment_shown=!0},e.open_create_snapshot_modal=function(){e.create_volume_snapshot_shown=!0},e.delete_volumes=function(){for(var t=0;e.selectedItems.length>t;t++)o.trigger("volume:remove",e.selectedItems[t].id)},e.$on("cache_change:volume",function(){e.volumes=n.fetch()})}]),app_module.controller("user.VolumeSnapshotCtrl",["$scope","VolumeSnapshotPool","EventCenter",function(e,t,n){e.$emit("load_start"),e.volume_snapshots=t.fetch(function(t){return e.$emit("load_complete"),t}),e.selectedItems=[],e.gridOptions={angridStyle:"th-list",data:"volume_snapshots",multiSelectWithCheckbox:!0,columnDefs:[{field:"name",displayName:"Name"},{field:"description",displayName:"Description"},{field:"size",displayName:"Size"},{field:"abs_status",displayName:"Status",columnFilter:"status_icon_filter"},{field:"volume_name",displayName:"Volume Name"}],selectedItems:e.selectedItems},e.$watch("gridOptions.selectedItems",function(t){e.selectedItems=t}),e.open_confirm_dialog=function(){e.confirm_dialog_shown=!0},e.open_create_volume_modal=function(){e.create_volume_shown=!0},e.delete_volume_snapshots=function(){for(var t=0;e.selectedItems.length>t;t++)n.trigger("volume_snapshot:remove",e.selectedItems[t].id)},e.$on("cache_change:volume_snapshot",function(){e.volume_snapshots=t.fetch()})}]);